{"version":3,"file":"static/js/266.a8b55add.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/AddReaction.js","../node_modules/@mui/icons-material/Image.js","../node_modules/@mui/icons-material/Mic.js","../node_modules/@mui/icons-material/PersonalVideo.js","../node_modules/@mui/icons-material/Send.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/base/Portal/Portal.js","../node_modules/@mui/base/ModalUnstyled/ModalManager.js","../node_modules/@mui/utils/esm/getScrollbarSize.js","../node_modules/@mui/base/FocusTrap/FocusTrap.js","../node_modules/@mui/base/ModalUnstyled/modalUnstyledClasses.js","../node_modules/@mui/base/utils/omitEventHandlers.js","../node_modules/@mui/base/utils/mergeSlotProps.js","../node_modules/@mui/base/utils/extractEventHandlers.js","../node_modules/@mui/base/utils/resolveComponentProps.js","../node_modules/@mui/base/utils/useSlotProps.js","../node_modules/@mui/base/utils/appendOwnerState.js","../node_modules/@mui/base/ModalUnstyled/ModalUnstyled.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/react-transition-group/esm/utils/reflow.js","../node_modules/@mui/material/esm/transitions/utils.js","../node_modules/@mui/material/esm/Fade/Fade.js","../node_modules/@mui/material/esm/Backdrop/backdropClasses.js","../node_modules/@mui/material/esm/Backdrop/Backdrop.js","../node_modules/@mui/material/esm/Modal/Modal.js","../node_modules/@mui/material/esm/utils/createChainedFunction.js","../node_modules/@mui/material/esm/SvgIcon/svgIconClasses.js","../node_modules/@mui/material/esm/SvgIcon/SvgIcon.js","../node_modules/@mui/material/esm/utils/createSvgIcon.js","../node_modules/@mui/material/esm/utils/debounce.js","../node_modules/@mui/material/esm/utils/deprecatedPropType.js","../node_modules/@mui/utils/esm/deprecatedPropType.js","../node_modules/@mui/material/esm/utils/isMuiElement.js","../node_modules/@mui/utils/esm/isMuiElement.js","../node_modules/@mui/material/esm/utils/ownerDocument.js","../node_modules/@mui/material/esm/utils/ownerWindow.js","../node_modules/@mui/material/esm/utils/requirePropFactory.js","../node_modules/@mui/utils/esm/requirePropFactory.js","../node_modules/@mui/material/esm/utils/setRef.js","../node_modules/@mui/utils/esm/useId.js","../node_modules/@mui/material/esm/utils/useId.js","../node_modules/@mui/material/esm/utils/unsupportedProp.js","../node_modules/@mui/utils/esm/unsupportedProp.js","../node_modules/@mui/material/esm/utils/useControlled.js","../node_modules/@mui/utils/esm/useIsFocusVisible.js","../node_modules/@mui/utils/esm/useControlled.js","../node_modules/@mui/material/esm/utils/useEventCallback.js","../node_modules/@mui/material/esm/utils/useIsFocusVisible.js","../node_modules/@mui/material/esm/utils/index.js","../node_modules/@mui/system/esm/Box/Box.js","../node_modules/@mui/utils/esm/createChainedFunction.js","../node_modules/@mui/utils/esm/useEventCallback.js","../node_modules/emoji-picker-react/src/DomUtils/classNames.ts","../node_modules/emoji-picker-react/src/DomUtils/focusElement.ts","../node_modules/emoji-picker-react/src/components/context/ElementRefContext.tsx","../node_modules/emoji-picker-react/src/types/exposedTypes.ts","../node_modules/emoji-picker-react/src/dataUtils/emojiSelectors.ts","../node_modules/emoji-picker-react/src/data/skinToneVariations.ts","../node_modules/emoji-picker-react/src/config/cdnUrls.ts","../node_modules/emoji-picker-react/src/config/categoryConfig.ts","../node_modules/emoji-picker-react/src/config/config.ts","../node_modules/emoji-picker-react/src/components/context/PickerConfigContext.tsx","../node_modules/emoji-picker-react/src/config/useConfig.ts","../node_modules/emoji-picker-react/src/DomUtils/isDarkTheme.ts","../node_modules/emoji-picker-react/src/dataUtils/alphaNumericEmojiIndex.ts","../node_modules/emoji-picker-react/src/hooks/useDebouncedState.ts","../node_modules/emoji-picker-react/src/hooks/useDisallowedEmojis.ts","../node_modules/emoji-picker-react/src/components/context/PickerContext.tsx","../node_modules/emoji-picker-react/src/hooks/useInitialLoad.ts","../node_modules/emoji-picker-react/src/hooks/useDisallowMouseMove.ts","../node_modules/emoji-picker-react/src/DomUtils/elementPositionInRow.ts","../node_modules/emoji-picker-react/src/DomUtils/selectors.ts","../node_modules/emoji-picker-react/src/dataUtils/parseNativeEmoji.ts","../node_modules/emoji-picker-react/src/dataUtils/suggested.ts","../node_modules/emoji-picker-react/src/hooks/useCloseAllOpenToggles.ts","../node_modules/emoji-picker-react/src/hooks/useSetVariationPicker.ts","../node_modules/emoji-picker-react/src/hooks/useMouseDownHandlers.ts","../node_modules/emoji-picker-react/src/DomUtils/scrollTo.ts","../node_modules/emoji-picker-react/src/hooks/useFocus.ts","../node_modules/emoji-picker-react/src/hooks/useFilter.ts","../node_modules/emoji-picker-react/src/hooks/useIsEmojiHidden.ts","../node_modules/emoji-picker-react/src/components/atoms/Button.tsx","../node_modules/emoji-picker-react/node_modules/style-inject/dist/style-inject.es.js","../node_modules/emoji-picker-react/src/components/emoji/Emoji.tsx","../node_modules/emoji-picker-react/src/components/body/EmojiCategory.tsx","../node_modules/emoji-picker-react/src/components/body/Suggested.tsx","../node_modules/emoji-picker-react/src/components/body/EmojiList.tsx","../node_modules/emoji-picker-react/src/DomUtils/keyboardNavigation.ts","../node_modules/emoji-picker-react/src/components/body/EmojiVariationPicker.tsx","../node_modules/emoji-picker-react/src/components/body/Body.tsx","../node_modules/emoji-picker-react/src/hooks/useOnScroll.ts","../node_modules/emoji-picker-react/src/hooks/useShouldShowSkinTonePicker.ts","../node_modules/emoji-picker-react/src/components/Layout/Flex.tsx","../node_modules/emoji-picker-react/src/components/Layout/Space.tsx","../node_modules/emoji-picker-react/src/components/Layout/Absolute.tsx","../node_modules/emoji-picker-react/src/components/Layout/Relative.tsx","../node_modules/emoji-picker-react/src/components/header/SkinTonePicker.tsx","../node_modules/emoji-picker-react/src/components/footer/Preview.tsx","../node_modules/emoji-picker-react/src/hooks/useEmojiPreviewEvents.ts","../node_modules/emoji-picker-react/src/DomUtils/categoryNameFromDom.ts","../node_modules/emoji-picker-react/src/hooks/useIsSearchMode.ts","../node_modules/emoji-picker-react/src/components/navigation/CategoryNavigation.tsx","../node_modules/emoji-picker-react/src/hooks/useScrollCategoryIntoView.ts","../node_modules/emoji-picker-react/src/hooks/useActiveCategoryScrollDetection.ts","../node_modules/emoji-picker-react/src/components/header/Search.tsx","../node_modules/emoji-picker-react/src/hooks/useKeyboardNavigation.ts","../node_modules/emoji-picker-react/src/components/header/Header.tsx","../node_modules/emoji-picker-react/src/DomUtils/getActiveElement.ts","../node_modules/emoji-picker-react/src/hooks/preloadEmoji.ts","../node_modules/emoji-picker-react/src/components/main/PickerMain.tsx","../node_modules/emoji-picker-react/src/hooks/useOnFocus.ts","../node_modules/emoji-picker-react/src/EmojiPickerReact.tsx","../node_modules/emoji-picker-react/src/components/ErrorBoundary.tsx","../node_modules/emoji-picker-react/src/index.tsx","../node_modules/react-speech-recognition/lib/NativeSpeechRecognition.js","../node_modules/react-speech-recognition/lib/RecognitionManager.js","../node_modules/react-speech-recognition/lib/SpeechRecognition.js","../node_modules/react-speech-recognition/lib/actions.js","../node_modules/react-speech-recognition/lib/constants.js","../node_modules/react-speech-recognition/lib/index.js","../node_modules/react-speech-recognition/lib/isAndroid.js","../node_modules/react-speech-recognition/lib/reducers.js","../node_modules/react-speech-recognition/lib/utils.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/@socket.io/component-emitter/index.mjs","../node_modules/engine.io-client/build/esm/globalThis.browser.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/yeast.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/engine.io-client/build/esm/index.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 9V7h-2V2.84C14.77 2.3 13.42 2 11.99 2 6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12c0-1.05-.17-2.05-.47-3H18zm-2.5-1c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm-7 0c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8zm3.5 9.5c-2.33 0-4.31-1.46-5.11-3.5h10.22c-.8 2.04-2.78 3.5-5.11 3.5zM22 3h2v2h-2v2h-2V5h-2V3h2V1h2v2z\"\n}), 'AddReaction');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"\n}), 'Image');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\"\n}), 'Mic');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12z\"\n}), 'PersonalVideo');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@mui/material/utils\");","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { exactProp, HTMLElementType, unstable_useEnhancedEffect as useEnhancedEffect, unstable_useForkRef as useForkRef, unstable_setRef as setRef } from '@mui/utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction getContainer(container) {\n  return typeof container === 'function' ? container() : container;\n}\n\n/**\n * Portals provide a first-class way to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n */\nconst Portal = /*#__PURE__*/React.forwardRef(function Portal(props, ref) {\n  const {\n    children,\n    container,\n    disablePortal = false\n  } = props;\n  const [mountNode, setMountNode] = React.useState(null);\n  const handleRef = useForkRef( /*#__PURE__*/React.isValidElement(children) ? children.ref : null, ref);\n  useEnhancedEffect(() => {\n    if (!disablePortal) {\n      setMountNode(getContainer(container) || document.body);\n    }\n  }, [container, disablePortal]);\n  useEnhancedEffect(() => {\n    if (mountNode && !disablePortal) {\n      setRef(ref, mountNode);\n      return () => {\n        setRef(ref, null);\n      };\n    }\n    return undefined;\n  }, [ref, mountNode, disablePortal]);\n  if (disablePortal) {\n    if ( /*#__PURE__*/React.isValidElement(children)) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        ref: handleRef\n      });\n    }\n    return children;\n  }\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: mountNode ? /*#__PURE__*/ReactDOM.createPortal(children, mountNode) : mountNode\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Portal.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The children to render into the `container`.\n   */\n  children: PropTypes.node,\n  /**\n   * An HTML element or function that returns one.\n   * The `container` will have the portal children appended to it.\n   *\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([HTMLElementType, PropTypes.func]),\n  /**\n   * The `children` will be under the DOM hierarchy of the parent component.\n   * @default false\n   */\n  disablePortal: PropTypes.bool\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  Portal['propTypes' + ''] = exactProp(Portal.propTypes);\n}\nexport default Portal;","import { unstable_ownerWindow as ownerWindow, unstable_ownerDocument as ownerDocument, unstable_getScrollbarSize as getScrollbarSize } from '@mui/utils';\n// Is a vertical scrollbar displayed?\nfunction isOverflowing(container) {\n  const doc = ownerDocument(container);\n  if (doc.body === container) {\n    return ownerWindow(container).innerWidth > doc.documentElement.clientWidth;\n  }\n  return container.scrollHeight > container.clientHeight;\n}\nexport function ariaHidden(element, show) {\n  if (show) {\n    element.setAttribute('aria-hidden', 'true');\n  } else {\n    element.removeAttribute('aria-hidden');\n  }\n}\nfunction getPaddingRight(element) {\n  return parseInt(ownerWindow(element).getComputedStyle(element).paddingRight, 10) || 0;\n}\nfunction isAriaHiddenForbiddenOnElement(element) {\n  // The forbidden HTML tags are the ones from ARIA specification that\n  // can be children of body and can't have aria-hidden attribute.\n  // cf. https://www.w3.org/TR/html-aria/#docconformance\n  const forbiddenTagNames = ['TEMPLATE', 'SCRIPT', 'STYLE', 'LINK', 'MAP', 'META', 'NOSCRIPT', 'PICTURE', 'COL', 'COLGROUP', 'PARAM', 'SLOT', 'SOURCE', 'TRACK'];\n  const isForbiddenTagName = forbiddenTagNames.indexOf(element.tagName) !== -1;\n  const isInputHidden = element.tagName === 'INPUT' && element.getAttribute('type') === 'hidden';\n  return isForbiddenTagName || isInputHidden;\n}\nfunction ariaHiddenSiblings(container, mountElement, currentElement, elementsToExclude, show) {\n  const blacklist = [mountElement, currentElement, ...elementsToExclude];\n  [].forEach.call(container.children, element => {\n    const isNotExcludedElement = blacklist.indexOf(element) === -1;\n    const isNotForbiddenElement = !isAriaHiddenForbiddenOnElement(element);\n    if (isNotExcludedElement && isNotForbiddenElement) {\n      ariaHidden(element, show);\n    }\n  });\n}\nfunction findIndexOf(items, callback) {\n  let idx = -1;\n  items.some((item, index) => {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n    return false;\n  });\n  return idx;\n}\nfunction handleContainer(containerInfo, props) {\n  const restoreStyle = [];\n  const container = containerInfo.container;\n  if (!props.disableScrollLock) {\n    if (isOverflowing(container)) {\n      // Compute the size before applying overflow hidden to avoid any scroll jumps.\n      const scrollbarSize = getScrollbarSize(ownerDocument(container));\n      restoreStyle.push({\n        value: container.style.paddingRight,\n        property: 'padding-right',\n        el: container\n      });\n      // Use computed style, here to get the real padding to add our scrollbar width.\n      container.style.paddingRight = `${getPaddingRight(container) + scrollbarSize}px`;\n\n      // .mui-fixed is a global helper.\n      const fixedElements = ownerDocument(container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedElements, element => {\n        restoreStyle.push({\n          value: element.style.paddingRight,\n          property: 'padding-right',\n          el: element\n        });\n        element.style.paddingRight = `${getPaddingRight(element) + scrollbarSize}px`;\n      });\n    }\n    let scrollContainer;\n    if (container.parentNode instanceof DocumentFragment) {\n      scrollContainer = ownerDocument(container).body;\n    } else {\n      // Improve Gatsby support\n      // https://css-tricks.com/snippets/css/force-vertical-scrollbar/\n      const parent = container.parentElement;\n      const containerWindow = ownerWindow(container);\n      scrollContainer = (parent == null ? void 0 : parent.nodeName) === 'HTML' && containerWindow.getComputedStyle(parent).overflowY === 'scroll' ? parent : container;\n    }\n\n    // Block the scroll even if no scrollbar is visible to account for mobile keyboard\n    // screensize shrink.\n    restoreStyle.push({\n      value: scrollContainer.style.overflow,\n      property: 'overflow',\n      el: scrollContainer\n    }, {\n      value: scrollContainer.style.overflowX,\n      property: 'overflow-x',\n      el: scrollContainer\n    }, {\n      value: scrollContainer.style.overflowY,\n      property: 'overflow-y',\n      el: scrollContainer\n    });\n    scrollContainer.style.overflow = 'hidden';\n  }\n  const restore = () => {\n    restoreStyle.forEach(({\n      value,\n      el,\n      property\n    }) => {\n      if (value) {\n        el.style.setProperty(property, value);\n      } else {\n        el.style.removeProperty(property);\n      }\n    });\n  };\n  return restore;\n}\nfunction getHiddenSiblings(container) {\n  const hiddenSiblings = [];\n  [].forEach.call(container.children, element => {\n    if (element.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(element);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\nexport default class ModalManager {\n  constructor() {\n    this.containers = void 0;\n    this.modals = void 0;\n    this.modals = [];\n    this.containers = [];\n  }\n  add(modal, container) {\n    let modalIndex = this.modals.indexOf(modal);\n    if (modalIndex !== -1) {\n      return modalIndex;\n    }\n    modalIndex = this.modals.length;\n    this.modals.push(modal);\n\n    // If the modal we are adding is already in the DOM.\n    if (modal.modalRef) {\n      ariaHidden(modal.modalRef, false);\n    }\n    const hiddenSiblings = getHiddenSiblings(container);\n    ariaHiddenSiblings(container, modal.mount, modal.modalRef, hiddenSiblings, true);\n    const containerIndex = findIndexOf(this.containers, item => item.container === container);\n    if (containerIndex !== -1) {\n      this.containers[containerIndex].modals.push(modal);\n      return modalIndex;\n    }\n    this.containers.push({\n      modals: [modal],\n      container,\n      restore: null,\n      hiddenSiblings\n    });\n    return modalIndex;\n  }\n  mount(modal, props) {\n    const containerIndex = findIndexOf(this.containers, item => item.modals.indexOf(modal) !== -1);\n    const containerInfo = this.containers[containerIndex];\n    if (!containerInfo.restore) {\n      containerInfo.restore = handleContainer(containerInfo, props);\n    }\n  }\n  remove(modal, ariaHiddenState = true) {\n    const modalIndex = this.modals.indexOf(modal);\n    if (modalIndex === -1) {\n      return modalIndex;\n    }\n    const containerIndex = findIndexOf(this.containers, item => item.modals.indexOf(modal) !== -1);\n    const containerInfo = this.containers[containerIndex];\n    containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n    this.modals.splice(modalIndex, 1);\n\n    // If that was the last modal in a container, clean up the container.\n    if (containerInfo.modals.length === 0) {\n      // The modal might be closed before it had the chance to be mounted in the DOM.\n      if (containerInfo.restore) {\n        containerInfo.restore();\n      }\n      if (modal.modalRef) {\n        // In case the modal wasn't in the DOM yet.\n        ariaHidden(modal.modalRef, ariaHiddenState);\n      }\n      ariaHiddenSiblings(containerInfo.container, modal.mount, modal.modalRef, containerInfo.hiddenSiblings, false);\n      this.containers.splice(containerIndex, 1);\n    } else {\n      // Otherwise make sure the next top modal is visible to a screen reader.\n      const nextTop = containerInfo.modals[containerInfo.modals.length - 1];\n      // as soon as a modal is adding its modalRef is undefined. it can't set\n      // aria-hidden because the dom element doesn't exist either\n      // when modal was unmounted before modalRef gets null\n      if (nextTop.modalRef) {\n        ariaHidden(nextTop.modalRef, false);\n      }\n    }\n    return modalIndex;\n  }\n  isTopModal(modal) {\n    return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;\n  }\n}","// A change of the browser zoom change the scrollbar size.\n// Credit https://github.com/twbs/bootstrap/blob/488fd8afc535ca3a6ad4dc581f5e89217b6a36ac/js/src/util/scrollbar.js#L14-L18\nexport default function getScrollbarSize(doc) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n  const documentWidth = doc.documentElement.clientWidth;\n  return Math.abs(window.innerWidth - documentWidth);\n}","/* eslint-disable consistent-return, jsx-a11y/no-noninteractive-tabindex */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp, elementAcceptingRef, unstable_useForkRef as useForkRef, unstable_ownerDocument as ownerDocument } from '@mui/utils';\n\n// Inspired by https://github.com/focus-trap/tabbable\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst candidatesSelector = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])'].join(',');\nfunction getTabIndex(node) {\n  const tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!Number.isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=661108&q=contenteditable%20tabindex&can=2\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n  if (node.contentEditable === 'true' || (node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n  return node.tabIndex;\n}\nfunction isNonTabbableRadio(node) {\n  if (node.tagName !== 'INPUT' || node.type !== 'radio') {\n    return false;\n  }\n  if (!node.name) {\n    return false;\n  }\n  const getRadio = selector => node.ownerDocument.querySelector(`input[type=\"radio\"]${selector}`);\n  let roving = getRadio(`[name=\"${node.name}\"]:checked`);\n  if (!roving) {\n    roving = getRadio(`[name=\"${node.name}\"]`);\n  }\n  return roving !== node;\n}\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || node.tagName === 'INPUT' && node.type === 'hidden' || isNonTabbableRadio(node)) {\n    return false;\n  }\n  return true;\n}\nfunction defaultGetTabbable(root) {\n  const regularTabNodes = [];\n  const orderedTabNodes = [];\n  Array.from(root.querySelectorAll(candidatesSelector)).forEach((node, i) => {\n    const nodeTabIndex = getTabIndex(node);\n    if (nodeTabIndex === -1 || !isNodeMatchingSelectorFocusable(node)) {\n      return;\n    }\n    if (nodeTabIndex === 0) {\n      regularTabNodes.push(node);\n    } else {\n      orderedTabNodes.push({\n        documentOrder: i,\n        tabIndex: nodeTabIndex,\n        node\n      });\n    }\n  });\n  return orderedTabNodes.sort((a, b) => a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex).map(a => a.node).concat(regularTabNodes);\n}\nfunction defaultIsEnabled() {\n  return true;\n}\n\n/**\n * Utility component that locks focus inside the component.\n */\nfunction FocusTrap(props) {\n  const {\n    children,\n    disableAutoFocus = false,\n    disableEnforceFocus = false,\n    disableRestoreFocus = false,\n    getTabbable = defaultGetTabbable,\n    isEnabled = defaultIsEnabled,\n    open\n  } = props;\n  const ignoreNextEnforceFocus = React.useRef();\n  const sentinelStart = React.useRef(null);\n  const sentinelEnd = React.useRef(null);\n  const nodeToRestore = React.useRef(null);\n  const reactFocusEventTarget = React.useRef(null);\n  // This variable is useful when disableAutoFocus is true.\n  // It waits for the active element to move into the component to activate.\n  const activated = React.useRef(false);\n  const rootRef = React.useRef(null);\n  const handleRef = useForkRef(children.ref, rootRef);\n  const lastKeydown = React.useRef(null);\n  React.useEffect(() => {\n    // We might render an empty child.\n    if (!open || !rootRef.current) {\n      return;\n    }\n    activated.current = !disableAutoFocus;\n  }, [disableAutoFocus, open]);\n  React.useEffect(() => {\n    // We might render an empty child.\n    if (!open || !rootRef.current) {\n      return;\n    }\n    const doc = ownerDocument(rootRef.current);\n    if (!rootRef.current.contains(doc.activeElement)) {\n      if (!rootRef.current.hasAttribute('tabIndex')) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(['MUI: The modal content node does not accept focus.', 'For the benefit of assistive technologies, ' + 'the tabIndex of the node is being set to \"-1\".'].join('\\n'));\n        }\n        rootRef.current.setAttribute('tabIndex', -1);\n      }\n      if (activated.current) {\n        rootRef.current.focus();\n      }\n    }\n    return () => {\n      // restoreLastFocus()\n      if (!disableRestoreFocus) {\n        // In IE11 it is possible for document.activeElement to be null resulting\n        // in nodeToRestore.current being null.\n        // Not all elements in IE11 have a focus method.\n        // Once IE11 support is dropped the focus() call can be unconditional.\n        if (nodeToRestore.current && nodeToRestore.current.focus) {\n          ignoreNextEnforceFocus.current = true;\n          nodeToRestore.current.focus();\n        }\n        nodeToRestore.current = null;\n      }\n    };\n    // Missing `disableRestoreFocus` which is fine.\n    // We don't support changing that prop on an open FocusTrap\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open]);\n  React.useEffect(() => {\n    // We might render an empty child.\n    if (!open || !rootRef.current) {\n      return;\n    }\n    const doc = ownerDocument(rootRef.current);\n    const contain = nativeEvent => {\n      const {\n        current: rootElement\n      } = rootRef;\n      // Cleanup functions are executed lazily in React 17.\n      // Contain can be called between the component being unmounted and its cleanup function being run.\n      if (rootElement === null) {\n        return;\n      }\n      if (!doc.hasFocus() || disableEnforceFocus || !isEnabled() || ignoreNextEnforceFocus.current) {\n        ignoreNextEnforceFocus.current = false;\n        return;\n      }\n      if (!rootElement.contains(doc.activeElement)) {\n        // if the focus event is not coming from inside the children's react tree, reset the refs\n        if (nativeEvent && reactFocusEventTarget.current !== nativeEvent.target || doc.activeElement !== reactFocusEventTarget.current) {\n          reactFocusEventTarget.current = null;\n        } else if (reactFocusEventTarget.current !== null) {\n          return;\n        }\n        if (!activated.current) {\n          return;\n        }\n        let tabbable = [];\n        if (doc.activeElement === sentinelStart.current || doc.activeElement === sentinelEnd.current) {\n          tabbable = getTabbable(rootRef.current);\n        }\n        if (tabbable.length > 0) {\n          var _lastKeydown$current, _lastKeydown$current2;\n          const isShiftTab = Boolean(((_lastKeydown$current = lastKeydown.current) == null ? void 0 : _lastKeydown$current.shiftKey) && ((_lastKeydown$current2 = lastKeydown.current) == null ? void 0 : _lastKeydown$current2.key) === 'Tab');\n          const focusNext = tabbable[0];\n          const focusPrevious = tabbable[tabbable.length - 1];\n          if (isShiftTab) {\n            focusPrevious.focus();\n          } else {\n            focusNext.focus();\n          }\n        } else {\n          rootElement.focus();\n        }\n      }\n    };\n    const loopFocus = nativeEvent => {\n      lastKeydown.current = nativeEvent;\n      if (disableEnforceFocus || !isEnabled() || nativeEvent.key !== 'Tab') {\n        return;\n      }\n\n      // Make sure the next tab starts from the right place.\n      // doc.activeElement referes to the origin.\n      if (doc.activeElement === rootRef.current && nativeEvent.shiftKey) {\n        // We need to ignore the next contain as\n        // it will try to move the focus back to the rootRef element.\n        ignoreNextEnforceFocus.current = true;\n        sentinelEnd.current.focus();\n      }\n    };\n    doc.addEventListener('focusin', contain);\n    doc.addEventListener('keydown', loopFocus, true);\n\n    // With Edge, Safari and Firefox, no focus related events are fired when the focused area stops being a focused area.\n    // e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=559561.\n    // Instead, we can look if the active element was restored on the BODY element.\n    //\n    // The whatwg spec defines how the browser should behave but does not explicitly mention any events:\n    // https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule.\n    const interval = setInterval(() => {\n      if (doc.activeElement.tagName === 'BODY') {\n        contain();\n      }\n    }, 50);\n    return () => {\n      clearInterval(interval);\n      doc.removeEventListener('focusin', contain);\n      doc.removeEventListener('keydown', loopFocus, true);\n    };\n  }, [disableAutoFocus, disableEnforceFocus, disableRestoreFocus, isEnabled, open, getTabbable]);\n  const onFocus = event => {\n    if (nodeToRestore.current === null) {\n      nodeToRestore.current = event.relatedTarget;\n    }\n    activated.current = true;\n    reactFocusEventTarget.current = event.target;\n    const childrenPropsHandler = children.props.onFocus;\n    if (childrenPropsHandler) {\n      childrenPropsHandler(event);\n    }\n  };\n  const handleFocusSentinel = event => {\n    if (nodeToRestore.current === null) {\n      nodeToRestore.current = event.relatedTarget;\n    }\n    activated.current = true;\n  };\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      tabIndex: open ? 0 : -1,\n      onFocus: handleFocusSentinel,\n      ref: sentinelStart,\n      \"data-testid\": \"sentinelStart\"\n    }), /*#__PURE__*/React.cloneElement(children, {\n      ref: handleRef,\n      onFocus\n    }), /*#__PURE__*/_jsx(\"div\", {\n      tabIndex: open ? 0 : -1,\n      onFocus: handleFocusSentinel,\n      ref: sentinelEnd,\n      \"data-testid\": \"sentinelEnd\"\n    })]\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? FocusTrap.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef,\n  /**\n   * If `true`, the focus trap will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any focus trap children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the focus trap less\n   * accessible to assistive technologies, like screen readers.\n   * @default false\n   */\n  disableAutoFocus: PropTypes.bool,\n  /**\n   * If `true`, the focus trap will not prevent focus from leaving the focus trap while open.\n   *\n   * Generally this should never be set to `true` as it makes the focus trap less\n   * accessible to assistive technologies, like screen readers.\n   * @default false\n   */\n  disableEnforceFocus: PropTypes.bool,\n  /**\n   * If `true`, the focus trap will not restore focus to previously focused element once\n   * focus trap is hidden or unmounted.\n   * @default false\n   */\n  disableRestoreFocus: PropTypes.bool,\n  /**\n   * Returns an array of ordered tabbable nodes (i.e. in tab order) within the root.\n   * For instance, you can provide the \"tabbable\" npm dependency.\n   * @param {HTMLElement} root\n   */\n  getTabbable: PropTypes.func,\n  /**\n   * This prop extends the `open` prop.\n   * It allows to toggle the open state without having to wait for a rerender when changing the `open` prop.\n   * This prop should be memoized.\n   * It can be used to support multiple focus trap mounted at the same time.\n   * @default function defaultIsEnabled() {\n   *   return true;\n   * }\n   */\n  isEnabled: PropTypes.func,\n  /**\n   * If `true`, focus is locked.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  FocusTrap['propTypes' + ''] = exactProp(FocusTrap.propTypes);\n}\nexport default FocusTrap;","import generateUtilityClasses from '../generateUtilityClasses';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getModalUtilityClass(slot) {\n  return generateUtilityClass('MuiModal', slot);\n}\nconst modalUnstyledClasses = generateUtilityClasses('MuiModal', ['root', 'hidden']);\nexport default modalUnstyledClasses;","/**\n * Removes event handlers from the given object.\n * A field is considered an event handler if it is a function with a name beginning with `on`.\n *\n * @param object Object to remove event handlers from.\n * @returns Object with event handlers removed.\n */\nexport default function omitEventHandlers(object) {\n  if (object === undefined) {\n    return {};\n  }\n  const result = {};\n  Object.keys(object).filter(prop => !(prop.match(/^on[A-Z]/) && typeof object[prop] === 'function')).forEach(prop => {\n    result[prop] = object[prop];\n  });\n  return result;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport clsx from 'clsx';\nimport extractEventHandlers from './extractEventHandlers';\nimport omitEventHandlers from './omitEventHandlers';\n/**\n * Merges the slot component internal props (usually coming from a hook)\n * with the externally provided ones.\n *\n * The merge order is (the latter overrides the former):\n * 1. The internal props (specified as a getter function to work with get*Props hook result)\n * 2. Additional props (specified internally on an unstyled component)\n * 3. External props specified on the owner component. These should only be used on a root slot.\n * 4. External props specified in the `slotProps.*` prop.\n * 5. The `className` prop - combined from all the above.\n * @param parameters\n * @returns\n */\nexport default function mergeSlotProps(parameters) {\n  const {\n    getSlotProps,\n    additionalProps,\n    externalSlotProps,\n    externalForwardedProps,\n    className\n  } = parameters;\n  if (!getSlotProps) {\n    // The simpler case - getSlotProps is not defined, so no internal event handlers are defined,\n    // so we can simply merge all the props without having to worry about extracting event handlers.\n    const joinedClasses = clsx(externalForwardedProps == null ? void 0 : externalForwardedProps.className, externalSlotProps == null ? void 0 : externalSlotProps.className, className, additionalProps == null ? void 0 : additionalProps.className);\n    const mergedStyle = _extends({}, additionalProps == null ? void 0 : additionalProps.style, externalForwardedProps == null ? void 0 : externalForwardedProps.style, externalSlotProps == null ? void 0 : externalSlotProps.style);\n    const props = _extends({}, additionalProps, externalForwardedProps, externalSlotProps);\n    if (joinedClasses.length > 0) {\n      props.className = joinedClasses;\n    }\n    if (Object.keys(mergedStyle).length > 0) {\n      props.style = mergedStyle;\n    }\n    return {\n      props,\n      internalRef: undefined\n    };\n  }\n\n  // In this case, getSlotProps is responsible for calling the external event handlers.\n  // We don't need to include them in the merged props because of this.\n\n  const eventHandlers = extractEventHandlers(_extends({}, externalForwardedProps, externalSlotProps));\n  const componentsPropsWithoutEventHandlers = omitEventHandlers(externalSlotProps);\n  const otherPropsWithoutEventHandlers = omitEventHandlers(externalForwardedProps);\n  const internalSlotProps = getSlotProps(eventHandlers);\n\n  // The order of classes is important here.\n  // Emotion (that we use in libraries consuming MUI Base) depends on this order\n  // to properly override style. It requires the most important classes to be last\n  // (see https://github.com/mui/material-ui/pull/33205) for the related discussion.\n  const joinedClasses = clsx(internalSlotProps == null ? void 0 : internalSlotProps.className, additionalProps == null ? void 0 : additionalProps.className, className, externalForwardedProps == null ? void 0 : externalForwardedProps.className, externalSlotProps == null ? void 0 : externalSlotProps.className);\n  const mergedStyle = _extends({}, internalSlotProps == null ? void 0 : internalSlotProps.style, additionalProps == null ? void 0 : additionalProps.style, externalForwardedProps == null ? void 0 : externalForwardedProps.style, externalSlotProps == null ? void 0 : externalSlotProps.style);\n  const props = _extends({}, internalSlotProps, additionalProps, otherPropsWithoutEventHandlers, componentsPropsWithoutEventHandlers);\n  if (joinedClasses.length > 0) {\n    props.className = joinedClasses;\n  }\n  if (Object.keys(mergedStyle).length > 0) {\n    props.style = mergedStyle;\n  }\n  return {\n    props,\n    internalRef: internalSlotProps.ref\n  };\n}","/**\n * Extracts event handlers from a given object.\n * A prop is considered an event handler if it is a function and its name starts with `on`.\n *\n * @param object An object to extract event handlers from.\n * @param excludeKeys An array of keys to exclude from the returned object.\n */\nexport default function extractEventHandlers(object, excludeKeys = []) {\n  if (object === undefined) {\n    return {};\n  }\n  const result = {};\n  Object.keys(object).filter(prop => prop.match(/^on[A-Z]/) && typeof object[prop] === 'function' && !excludeKeys.includes(prop)).forEach(prop => {\n    result[prop] = object[prop];\n  });\n  return result;\n}","/**\n * If `componentProps` is a function, calls it with the provided `ownerState`.\n * Otherwise, just returns `componentProps`.\n */\nexport default function resolveComponentProps(componentProps, ownerState) {\n  if (typeof componentProps === 'function') {\n    return componentProps(ownerState);\n  }\n  return componentProps;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"elementType\", \"externalSlotProps\", \"ownerState\"];\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport appendOwnerState from './appendOwnerState';\nimport mergeSlotProps from './mergeSlotProps';\nimport resolveComponentProps from './resolveComponentProps';\n/**\n * Builds the props to be passed into the slot of an unstyled component.\n * It merges the internal props of the component with the ones supplied by the user, allowing to customize the behavior.\n * If the slot component is not a host component, it also merges in the `ownerState`.\n *\n * @param parameters.getSlotProps - A function that returns the props to be passed to the slot component.\n */\nexport default function useSlotProps(parameters) {\n  var _parameters$additiona;\n  const {\n      elementType,\n      externalSlotProps,\n      ownerState\n    } = parameters,\n    rest = _objectWithoutPropertiesLoose(parameters, _excluded);\n  const resolvedComponentsProps = resolveComponentProps(externalSlotProps, ownerState);\n  const {\n    props: mergedProps,\n    internalRef\n  } = mergeSlotProps(_extends({}, rest, {\n    externalSlotProps: resolvedComponentsProps\n  }));\n  const ref = useForkRef(internalRef, resolvedComponentsProps == null ? void 0 : resolvedComponentsProps.ref, (_parameters$additiona = parameters.additionalProps) == null ? void 0 : _parameters$additiona.ref);\n  const props = appendOwnerState(elementType, _extends({}, mergedProps, {\n    ref\n  }), ownerState);\n  return props;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport isHostComponent from './isHostComponent';\n\n/**\n * Type of the ownerState based on the type of an element it applies to.\n * This resolves to the provided OwnerState for React components and `undefined` for host components.\n * Falls back to `OwnerState | undefined` when the exact type can't be determined in development time.\n */\n\n/**\n * Appends the ownerState object to the props, merging with the existing one if necessary.\n *\n * @param elementType Type of the element that owns the `existingProps`. If the element is a DOM node or undefined, `ownerState` is not applied.\n * @param otherProps Props of the element.\n * @param ownerState\n */\nexport default function appendOwnerState(elementType, otherProps, ownerState) {\n  if (elementType === undefined || isHostComponent(elementType)) {\n    return otherProps;\n  }\n  return _extends({}, otherProps, {\n    ownerState: _extends({}, otherProps.ownerState, ownerState)\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"classes\", \"closeAfterTransition\", \"component\", \"container\", \"disableAutoFocus\", \"disableEnforceFocus\", \"disableEscapeKeyDown\", \"disablePortal\", \"disableRestoreFocus\", \"disableScrollLock\", \"hideBackdrop\", \"keepMounted\", \"manager\", \"onBackdropClick\", \"onClose\", \"onKeyDown\", \"open\", \"onTransitionEnter\", \"onTransitionExited\", \"slotProps\", \"slots\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { elementAcceptingRef, HTMLElementType, unstable_ownerDocument as ownerDocument, unstable_useForkRef as useForkRef, unstable_createChainedFunction as createChainedFunction, unstable_useEventCallback as useEventCallback } from '@mui/utils';\nimport composeClasses from '../composeClasses';\nimport Portal from '../Portal';\nimport ModalManager, { ariaHidden } from './ModalManager';\nimport FocusTrap from '../FocusTrap';\nimport { getModalUtilityClass } from './modalUnstyledClasses';\nimport { useSlotProps } from '../utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    open,\n    exited,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', !open && exited && 'hidden']\n  };\n  return composeClasses(slots, getModalUtilityClass, classes);\n};\nfunction getContainer(container) {\n  return typeof container === 'function' ? container() : container;\n}\nfunction getHasTransition(props) {\n  return props.children ? props.children.props.hasOwnProperty('in') : false;\n}\n\n// A modal manager used to track and manage the state of open Modals.\n// Modals don't open on the server so this won't conflict with concurrent requests.\nconst defaultManager = new ModalManager();\n\n/**\n * Modal is a lower-level construct that is leveraged by the following components:\n *\n * - [Dialog](/material-ui/api/dialog/)\n * - [Drawer](/material-ui/api/drawer/)\n * - [Menu](/material-ui/api/menu/)\n * - [Popover](/material-ui/api/popover/)\n *\n * If you are creating a modal dialog, you probably want to use the [Dialog](/material-ui/api/dialog/) component\n * rather than directly using Modal.\n *\n * This component shares many concepts with [react-overlays](https://react-bootstrap.github.io/react-overlays/#modals).\n */\nconst ModalUnstyled = /*#__PURE__*/React.forwardRef(function ModalUnstyled(props, ref) {\n  var _props$ariaHidden, _ref;\n  const {\n      children,\n      classes: classesProp,\n      closeAfterTransition = false,\n      component,\n      container,\n      disableAutoFocus = false,\n      disableEnforceFocus = false,\n      disableEscapeKeyDown = false,\n      disablePortal = false,\n      disableRestoreFocus = false,\n      disableScrollLock = false,\n      hideBackdrop = false,\n      keepMounted = false,\n      // private\n      // eslint-disable-next-line react/prop-types\n      manager = defaultManager,\n      onBackdropClick,\n      onClose,\n      onKeyDown,\n      open,\n      /* eslint-disable react/prop-types */\n      onTransitionEnter,\n      onTransitionExited,\n      slotProps = {},\n      slots = {}\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [exited, setExited] = React.useState(true);\n  const modal = React.useRef({});\n  const mountNodeRef = React.useRef(null);\n  const modalRef = React.useRef(null);\n  const handleRef = useForkRef(modalRef, ref);\n  const hasTransition = getHasTransition(props);\n  const ariaHiddenProp = (_props$ariaHidden = props['aria-hidden']) != null ? _props$ariaHidden : true;\n  const getDoc = () => ownerDocument(mountNodeRef.current);\n  const getModal = () => {\n    modal.current.modalRef = modalRef.current;\n    modal.current.mountNode = mountNodeRef.current;\n    return modal.current;\n  };\n  const handleMounted = () => {\n    manager.mount(getModal(), {\n      disableScrollLock\n    });\n\n    // Fix a bug on Chrome where the scroll isn't initially 0.\n    modalRef.current.scrollTop = 0;\n  };\n  const handleOpen = useEventCallback(() => {\n    const resolvedContainer = getContainer(container) || getDoc().body;\n    manager.add(getModal(), resolvedContainer);\n\n    // The element was already mounted.\n    if (modalRef.current) {\n      handleMounted();\n    }\n  });\n  const isTopModal = React.useCallback(() => manager.isTopModal(getModal()), [manager]);\n  const handlePortalRef = useEventCallback(node => {\n    mountNodeRef.current = node;\n    if (!node) {\n      return;\n    }\n    if (open && isTopModal()) {\n      handleMounted();\n    } else {\n      ariaHidden(modalRef.current, ariaHiddenProp);\n    }\n  });\n  const handleClose = React.useCallback(() => {\n    manager.remove(getModal(), ariaHiddenProp);\n  }, [manager, ariaHiddenProp]);\n  React.useEffect(() => {\n    return () => {\n      handleClose();\n    };\n  }, [handleClose]);\n  React.useEffect(() => {\n    if (open) {\n      handleOpen();\n    } else if (!hasTransition || !closeAfterTransition) {\n      handleClose();\n    }\n  }, [open, handleClose, hasTransition, closeAfterTransition, handleOpen]);\n  const ownerState = _extends({}, props, {\n    classes: classesProp,\n    closeAfterTransition,\n    disableAutoFocus,\n    disableEnforceFocus,\n    disableEscapeKeyDown,\n    disablePortal,\n    disableRestoreFocus,\n    disableScrollLock,\n    exited,\n    hideBackdrop,\n    keepMounted\n  });\n  const classes = useUtilityClasses(ownerState);\n  const handleEnter = () => {\n    setExited(false);\n    if (onTransitionEnter) {\n      onTransitionEnter();\n    }\n  };\n  const handleExited = () => {\n    setExited(true);\n    if (onTransitionExited) {\n      onTransitionExited();\n    }\n    if (closeAfterTransition) {\n      handleClose();\n    }\n  };\n  const handleBackdropClick = event => {\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n    if (onBackdropClick) {\n      onBackdropClick(event);\n    }\n    if (onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n  const handleKeyDown = event => {\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n\n    // The handler doesn't take event.defaultPrevented into account:\n    //\n    // event.preventDefault() is meant to stop default behaviors like\n    // clicking a checkbox to check it, hitting a button to submit a form,\n    // and hitting left arrow to move the cursor in a text input etc.\n    // Only special HTML elements have these default behaviors.\n    if (event.key !== 'Escape' || !isTopModal()) {\n      return;\n    }\n    if (!disableEscapeKeyDown) {\n      // Swallow the event, in case someone is listening for the escape key on the body.\n      event.stopPropagation();\n      if (onClose) {\n        onClose(event, 'escapeKeyDown');\n      }\n    }\n  };\n  const childProps = {};\n  if (children.props.tabIndex === undefined) {\n    childProps.tabIndex = '-1';\n  }\n\n  // It's a Transition like component\n  if (hasTransition) {\n    childProps.onEnter = createChainedFunction(handleEnter, children.props.onEnter);\n    childProps.onExited = createChainedFunction(handleExited, children.props.onExited);\n  }\n  const Root = (_ref = component != null ? component : slots.root) != null ? _ref : 'div';\n  const rootProps = useSlotProps({\n    elementType: Root,\n    externalSlotProps: slotProps.root,\n    externalForwardedProps: other,\n    additionalProps: {\n      ref: handleRef,\n      role: 'presentation',\n      onKeyDown: handleKeyDown\n    },\n    className: classes.root,\n    ownerState\n  });\n  const BackdropComponent = slots.backdrop;\n  const backdropProps = useSlotProps({\n    elementType: BackdropComponent,\n    externalSlotProps: slotProps.backdrop,\n    additionalProps: {\n      'aria-hidden': true,\n      onClick: handleBackdropClick,\n      open\n    },\n    className: classes.backdrop,\n    ownerState\n  });\n  if (!keepMounted && !open && (!hasTransition || exited)) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(Portal, {\n    ref: handlePortalRef,\n    container: container,\n    disablePortal: disablePortal,\n    children: /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, {\n      children: [!hideBackdrop && BackdropComponent ? /*#__PURE__*/_jsx(BackdropComponent, _extends({}, backdropProps)) : null, /*#__PURE__*/_jsx(FocusTrap, {\n        disableEnforceFocus: disableEnforceFocus,\n        disableAutoFocus: disableAutoFocus,\n        disableRestoreFocus: disableRestoreFocus,\n        isEnabled: isTopModal,\n        open: open,\n        children: /*#__PURE__*/React.cloneElement(children, childProps)\n      })]\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ModalUnstyled.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef.isRequired,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * When set to true the Modal waits until a nested Transition is completed before closing.\n   * @default false\n   */\n  closeAfterTransition: PropTypes.bool,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * An HTML element or function that returns one.\n   * The `container` will have the portal children appended to it.\n   *\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([HTMLElementType, PropTypes.func]),\n  /**\n   * If `true`, the modal will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any modal children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   * @default false\n   */\n  disableAutoFocus: PropTypes.bool,\n  /**\n   * If `true`, the modal will not prevent focus from leaving the modal while open.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   * @default false\n   */\n  disableEnforceFocus: PropTypes.bool,\n  /**\n   * If `true`, hitting escape will not fire the `onClose` callback.\n   * @default false\n   */\n  disableEscapeKeyDown: PropTypes.bool,\n  /**\n   * The `children` will be under the DOM hierarchy of the parent component.\n   * @default false\n   */\n  disablePortal: PropTypes.bool,\n  /**\n   * If `true`, the modal will not restore focus to previously focused element once\n   * modal is hidden or unmounted.\n   * @default false\n   */\n  disableRestoreFocus: PropTypes.bool,\n  /**\n   * Disable the scroll lock behavior.\n   * @default false\n   */\n  disableScrollLock: PropTypes.bool,\n  /**\n   * If `true`, the backdrop is not rendered.\n   * @default false\n   */\n  hideBackdrop: PropTypes.bool,\n  /**\n   * Always keep the children in the DOM.\n   * This prop can be useful in SEO situation or\n   * when you want to maximize the responsiveness of the Modal.\n   * @default false\n   */\n  keepMounted: PropTypes.bool,\n  /**\n   * Callback fired when the backdrop is clicked.\n   * @deprecated Use the `onClose` prop with the `reason` argument to handle the `backdropClick` events.\n   */\n  onBackdropClick: PropTypes.func,\n  /**\n   * Callback fired when the component requests to be closed.\n   * The `reason` parameter can optionally be used to control the response to `onClose`.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"escapeKeyDown\"`, `\"backdropClick\"`.\n   */\n  onClose: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool.isRequired,\n  /**\n   * The props used for each slot inside the Modal.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    backdrop: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the Modal.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    backdrop: PropTypes.elementType,\n    root: PropTypes.elementType\n  })\n} : void 0;\nexport default ModalUnstyled;","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { forceReflow } from './utils/reflow';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        if (this.props.unmountOnExit || this.props.mountOnEnter) {\n          var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this); // https://github.com/reactjs/react-transition-group/pull/749\n          // With unmountOnExit or mountOnEnter, the enter animation should happen at the transition between `exited` and `entering`.\n          // To make the animation happen,  we have to separate each rendering and avoid being processed as batched.\n\n          if (node) forceReflow(node);\n        }\n\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : function (propValue, key, componentName, location, propFullName, secret) {\n      var value = propValue[key];\n      return PropTypes.instanceOf(value && 'ownerDocument' in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location, propFullName, secret);\n    }\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","export var forceReflow = function forceReflow(node) {\n  return node.scrollTop;\n};","export const reflow = node => node.scrollTop;\nexport function getTransitionProps(props, options) {\n  var _style$transitionDura, _style$transitionTimi;\n  const {\n    timeout,\n    easing,\n    style = {}\n  } = props;\n  return {\n    duration: (_style$transitionDura = style.transitionDuration) != null ? _style$transitionDura : typeof timeout === 'number' ? timeout : timeout[options.mode] || 0,\n    easing: (_style$transitionTimi = style.transitionTimingFunction) != null ? _style$transitionTimi : typeof easing === 'object' ? easing[options.mode] : easing,\n    delay: style.transitionDelay\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"addEndListener\", \"appear\", \"children\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@mui/utils';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst styles = {\n  entering: {\n    opacity: 1\n  },\n  entered: {\n    opacity: 1\n  }\n};\n\n/**\n * The Fade transition is used by the [Modal](/material-ui/react-modal/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\nconst Fade = /*#__PURE__*/React.forwardRef(function Fade(props, ref) {\n  const theme = useTheme();\n  const defaultTimeout = {\n    enter: theme.transitions.duration.enteringScreen,\n    exit: theme.transitions.duration.leavingScreen\n  };\n  const {\n      addEndListener,\n      appear = true,\n      children,\n      easing,\n      in: inProp,\n      onEnter,\n      onEntered,\n      onEntering,\n      onExit,\n      onExited,\n      onExiting,\n      style,\n      timeout = defaultTimeout,\n      // eslint-disable-next-line react/prop-types\n      TransitionComponent = Transition\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const enableStrictModeCompat = true;\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(nodeRef, children.ref, ref);\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current;\n\n      // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n  const handleEntering = normalizedTransitionCallback(onEntering);\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    reflow(node); // So the animation always start from the start.\n\n    const transitionProps = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback(onEntered);\n  const handleExiting = normalizedTransitionCallback(onExiting);\n  const handleExit = normalizedTransitionCallback(node => {\n    const transitionProps = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleAddEndListener = next => {\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    appear: appear,\n    in: inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    timeout: timeout\n  }, other, {\n    children: (state, childProps) => {\n      return /*#__PURE__*/React.cloneElement(children, _extends({\n        style: _extends({\n          opacity: 0,\n          visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n        }, styles[state], style, children.props.style),\n        ref: handleRef\n      }, childProps));\n    }\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Fade.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n  /**\n   * Perform the enter transition when it first mounts if `in` is also `true`.\n   * Set this to `false` to disable this behavior.\n   * @default true\n   */\n  appear: PropTypes.bool,\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef.isRequired,\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   * @default {\n   *   enter: theme.transitions.duration.enteringScreen,\n   *   exit: theme.transitions.duration.leavingScreen,\n   * }\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Fade;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getBackdropUtilityClass(slot) {\n  return generateUtilityClass('MuiBackdrop', slot);\n}\nconst backdropClasses = generateUtilityClasses('MuiBackdrop', ['root', 'invisible']);\nexport default backdropClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"component\", \"components\", \"componentsProps\", \"className\", \"invisible\", \"open\", \"slotProps\", \"slots\", \"transitionDuration\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Fade from '../Fade';\nimport { getBackdropUtilityClass } from './backdropClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    invisible\n  } = ownerState;\n  const slots = {\n    root: ['root', invisible && 'invisible']\n  };\n  return composeClasses(slots, getBackdropUtilityClass, classes);\n};\nconst BackdropRoot = styled('div', {\n  name: 'MuiBackdrop',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.invisible && styles.invisible];\n  }\n})(({\n  ownerState\n}) => _extends({\n  position: 'fixed',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  right: 0,\n  bottom: 0,\n  top: 0,\n  left: 0,\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  WebkitTapHighlightColor: 'transparent'\n}, ownerState.invisible && {\n  backgroundColor: 'transparent'\n}));\nconst Backdrop = /*#__PURE__*/React.forwardRef(function Backdrop(inProps, ref) {\n  var _slotProps$root, _ref, _slots$root;\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiBackdrop'\n  });\n  const {\n      children,\n      component = 'div',\n      components = {},\n      componentsProps = {},\n      className,\n      invisible = false,\n      open,\n      slotProps = {},\n      slots = {},\n      transitionDuration,\n      // eslint-disable-next-line react/prop-types\n      TransitionComponent = Fade\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component,\n    invisible\n  });\n  const classes = useUtilityClasses(ownerState);\n  const rootSlotProps = (_slotProps$root = slotProps.root) != null ? _slotProps$root : componentsProps.root;\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: open,\n    timeout: transitionDuration\n  }, other, {\n    children: /*#__PURE__*/_jsx(BackdropRoot, _extends({\n      \"aria-hidden\": true\n    }, rootSlotProps, {\n      as: (_ref = (_slots$root = slots.root) != null ? _slots$root : components.Root) != null ? _ref : component,\n      className: clsx(classes.root, className, rootSlotProps == null ? void 0 : rootSlotProps.className),\n      ownerState: _extends({}, ownerState, rootSlotProps == null ? void 0 : rootSlotProps.ownerState),\n      classes: classes,\n      ref: ref,\n      children: children\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Backdrop.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `slots` prop.\n   * It's recommended to use the `slots` prop instead.\n   *\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Root: PropTypes.elementType\n  }),\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   *\n   * This prop is an alias for the `slotProps` prop.\n   * It's recommended to use the `slotProps` prop instead, as `componentsProps` will be deprecated in the future.\n   *\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    root: PropTypes.object\n  }),\n  /**\n   * If `true`, the backdrop is invisible.\n   * It can be used when rendering a popover or a custom select component.\n   * @default false\n   */\n  invisible: PropTypes.bool,\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool.isRequired,\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   *\n   * This prop is an alias for the `componentsProps` prop, which will be deprecated in the future.\n   *\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    root: PropTypes.object\n  }),\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `components` prop, which will be deprecated in the future.\n   *\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Backdrop;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"BackdropComponent\", \"BackdropProps\", \"closeAfterTransition\", \"children\", \"component\", \"components\", \"componentsProps\", \"disableAutoFocus\", \"disableEnforceFocus\", \"disableEscapeKeyDown\", \"disablePortal\", \"disableRestoreFocus\", \"disableScrollLock\", \"hideBackdrop\", \"keepMounted\", \"slotProps\", \"slots\", \"theme\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ModalUnstyled, { modalUnstyledClasses } from '@mui/base/ModalUnstyled';\nimport { isHostComponent, resolveComponentProps } from '@mui/base/utils';\nimport { elementAcceptingRef, HTMLElementType } from '@mui/utils';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Backdrop from '../Backdrop';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const modalClasses = modalUnstyledClasses;\nconst extendUtilityClasses = ownerState => {\n  return ownerState.classes;\n};\nconst ModalRoot = styled('div', {\n  name: 'MuiModal',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.open && ownerState.exited && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  position: 'fixed',\n  zIndex: (theme.vars || theme).zIndex.modal,\n  right: 0,\n  bottom: 0,\n  top: 0,\n  left: 0\n}, !ownerState.open && ownerState.exited && {\n  visibility: 'hidden'\n}));\nconst ModalBackdrop = styled(Backdrop, {\n  name: 'MuiModal',\n  slot: 'Backdrop',\n  overridesResolver: (props, styles) => {\n    return styles.backdrop;\n  }\n})({\n  zIndex: -1\n});\n\n/**\n * Modal is a lower-level construct that is leveraged by the following components:\n *\n * - [Dialog](/material-ui/api/dialog/)\n * - [Drawer](/material-ui/api/drawer/)\n * - [Menu](/material-ui/api/menu/)\n * - [Popover](/material-ui/api/popover/)\n *\n * If you are creating a modal dialog, you probably want to use the [Dialog](/material-ui/api/dialog/) component\n * rather than directly using Modal.\n *\n * This component shares many concepts with [react-overlays](https://react-bootstrap.github.io/react-overlays/#modals).\n */\nconst Modal = /*#__PURE__*/React.forwardRef(function Modal(inProps, ref) {\n  var _ref, _slots$root, _ref2, _slots$backdrop, _slotProps$root, _slotProps$backdrop;\n  const props = useThemeProps({\n    name: 'MuiModal',\n    props: inProps\n  });\n  const {\n      BackdropComponent = ModalBackdrop,\n      BackdropProps,\n      closeAfterTransition = false,\n      children,\n      component,\n      components = {},\n      componentsProps = {},\n      disableAutoFocus = false,\n      disableEnforceFocus = false,\n      disableEscapeKeyDown = false,\n      disablePortal = false,\n      disableRestoreFocus = false,\n      disableScrollLock = false,\n      hideBackdrop = false,\n      keepMounted = false,\n      slotProps,\n      slots,\n      // eslint-disable-next-line react/prop-types\n      theme\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [exited, setExited] = React.useState(true);\n  const commonProps = {\n    closeAfterTransition,\n    disableAutoFocus,\n    disableEnforceFocus,\n    disableEscapeKeyDown,\n    disablePortal,\n    disableRestoreFocus,\n    disableScrollLock,\n    hideBackdrop,\n    keepMounted\n  };\n  const ownerState = _extends({}, props, commonProps, {\n    exited\n  });\n  const classes = extendUtilityClasses(ownerState);\n  const RootSlot = (_ref = (_slots$root = slots == null ? void 0 : slots.root) != null ? _slots$root : components.Root) != null ? _ref : ModalRoot;\n  const BackdropSlot = (_ref2 = (_slots$backdrop = slots == null ? void 0 : slots.backdrop) != null ? _slots$backdrop : components.Backdrop) != null ? _ref2 : BackdropComponent;\n  const rootSlotProps = (_slotProps$root = slotProps == null ? void 0 : slotProps.root) != null ? _slotProps$root : componentsProps.root;\n  const backdropSlotProps = (_slotProps$backdrop = slotProps == null ? void 0 : slotProps.backdrop) != null ? _slotProps$backdrop : componentsProps.backdrop;\n  return /*#__PURE__*/_jsx(ModalUnstyled, _extends({\n    slots: {\n      root: RootSlot,\n      backdrop: BackdropSlot\n    },\n    slotProps: {\n      root: () => _extends({}, resolveComponentProps(rootSlotProps, ownerState), !isHostComponent(RootSlot) && {\n        as: component,\n        theme\n      }),\n      backdrop: () => _extends({}, BackdropProps, resolveComponentProps(backdropSlotProps, ownerState))\n    },\n    onTransitionEnter: () => setExited(false),\n    onTransitionExited: () => setExited(true),\n    ref: ref\n  }, other, {\n    classes: classes\n  }, commonProps, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Modal.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * A backdrop component. This prop enables custom backdrop rendering.\n   * @deprecated Use `slots.backdrop` instead. While this prop currently works, it will be removed in the next major version.\n   * Use the `slots.backdrop` prop to make your application ready for the next version of Material UI.\n   * @default styled(Backdrop, {\n   *   name: 'MuiModal',\n   *   slot: 'Backdrop',\n   *   overridesResolver: (props, styles) => {\n   *     return styles.backdrop;\n   *   },\n   * })({\n   *   zIndex: -1,\n   * })\n   */\n  BackdropComponent: PropTypes.elementType,\n  /**\n   * Props applied to the [`Backdrop`](/material-ui/api/backdrop/) element.\n   * @deprecated Use `slotProps.backdrop` instead.\n   */\n  BackdropProps: PropTypes.object,\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef.isRequired,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * When set to true the Modal waits until a nested Transition is completed before closing.\n   * @default false\n   */\n  closeAfterTransition: PropTypes.bool,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `slots` prop.\n   * It's recommended to use the `slots` prop instead.\n   *\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Backdrop: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   *\n   * This prop is an alias for the `slotProps` prop.\n   * It's recommended to use the `slotProps` prop instead, as `componentsProps` will be deprecated in the future.\n   *\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    backdrop: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * An HTML element or function that returns one.\n   * The `container` will have the portal children appended to it.\n   *\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([HTMLElementType, PropTypes.func]),\n  /**\n   * If `true`, the modal will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any modal children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   * @default false\n   */\n  disableAutoFocus: PropTypes.bool,\n  /**\n   * If `true`, the modal will not prevent focus from leaving the modal while open.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   * @default false\n   */\n  disableEnforceFocus: PropTypes.bool,\n  /**\n   * If `true`, hitting escape will not fire the `onClose` callback.\n   * @default false\n   */\n  disableEscapeKeyDown: PropTypes.bool,\n  /**\n   * The `children` will be under the DOM hierarchy of the parent component.\n   * @default false\n   */\n  disablePortal: PropTypes.bool,\n  /**\n   * If `true`, the modal will not restore focus to previously focused element once\n   * modal is hidden or unmounted.\n   * @default false\n   */\n  disableRestoreFocus: PropTypes.bool,\n  /**\n   * Disable the scroll lock behavior.\n   * @default false\n   */\n  disableScrollLock: PropTypes.bool,\n  /**\n   * If `true`, the backdrop is not rendered.\n   * @default false\n   */\n  hideBackdrop: PropTypes.bool,\n  /**\n   * Always keep the children in the DOM.\n   * This prop can be useful in SEO situation or\n   * when you want to maximize the responsiveness of the Modal.\n   * @default false\n   */\n  keepMounted: PropTypes.bool,\n  /**\n   * Callback fired when the backdrop is clicked.\n   * @deprecated Use the `onClose` prop with the `reason` argument to handle the `backdropClick` events.\n   */\n  onBackdropClick: PropTypes.func,\n  /**\n   * Callback fired when the component requests to be closed.\n   * The `reason` parameter can optionally be used to control the response to `onClose`.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"escapeKeyDown\"`, `\"backdropClick\"`.\n   */\n  onClose: PropTypes.func,\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool.isRequired,\n  /**\n   * The props used for each slot inside the Modal.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    backdrop: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the Modal.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    backdrop: PropTypes.elementType,\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Modal;","import { unstable_createChainedFunction as createChainedFunction } from '@mui/utils';\nexport default createChainedFunction;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getSvgIconUtilityClass(slot) {\n  return generateUtilityClass('MuiSvgIcon', slot);\n}\nconst svgIconClasses = generateUtilityClasses('MuiSvgIcon', ['root', 'colorPrimary', 'colorSecondary', 'colorAction', 'colorError', 'colorDisabled', 'fontSizeInherit', 'fontSizeSmall', 'fontSizeMedium', 'fontSizeLarge']);\nexport default svgIconClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"color\", \"component\", \"fontSize\", \"htmlColor\", \"inheritViewBox\", \"titleAccess\", \"viewBox\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getSvgIconUtilityClass } from './svgIconClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    color,\n    fontSize,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', color !== 'inherit' && `color${capitalize(color)}`, `fontSize${capitalize(fontSize)}`]\n  };\n  return composeClasses(slots, getSvgIconUtilityClass, classes);\n};\nconst SvgIconRoot = styled('svg', {\n  name: 'MuiSvgIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.color !== 'inherit' && styles[`color${capitalize(ownerState.color)}`], styles[`fontSize${capitalize(ownerState.fontSize)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  var _theme$transitions, _theme$transitions$cr, _theme$transitions2, _theme$transitions2$d, _theme$typography, _theme$typography$pxT, _theme$typography2, _theme$typography2$px, _theme$typography3, _theme$typography3$px, _palette$ownerState$c, _palette, _palette$ownerState$c2, _palette2, _palette2$action, _palette3, _palette3$action;\n  return {\n    userSelect: 'none',\n    width: '1em',\n    height: '1em',\n    display: 'inline-block',\n    fill: 'currentColor',\n    flexShrink: 0,\n    transition: (_theme$transitions = theme.transitions) == null ? void 0 : (_theme$transitions$cr = _theme$transitions.create) == null ? void 0 : _theme$transitions$cr.call(_theme$transitions, 'fill', {\n      duration: (_theme$transitions2 = theme.transitions) == null ? void 0 : (_theme$transitions2$d = _theme$transitions2.duration) == null ? void 0 : _theme$transitions2$d.shorter\n    }),\n    fontSize: {\n      inherit: 'inherit',\n      small: ((_theme$typography = theme.typography) == null ? void 0 : (_theme$typography$pxT = _theme$typography.pxToRem) == null ? void 0 : _theme$typography$pxT.call(_theme$typography, 20)) || '1.25rem',\n      medium: ((_theme$typography2 = theme.typography) == null ? void 0 : (_theme$typography2$px = _theme$typography2.pxToRem) == null ? void 0 : _theme$typography2$px.call(_theme$typography2, 24)) || '1.5rem',\n      large: ((_theme$typography3 = theme.typography) == null ? void 0 : (_theme$typography3$px = _theme$typography3.pxToRem) == null ? void 0 : _theme$typography3$px.call(_theme$typography3, 35)) || '2.1875rem'\n    }[ownerState.fontSize],\n    // TODO v5 deprecate, v6 remove for sx\n    color: (_palette$ownerState$c = (_palette = (theme.vars || theme).palette) == null ? void 0 : (_palette$ownerState$c2 = _palette[ownerState.color]) == null ? void 0 : _palette$ownerState$c2.main) != null ? _palette$ownerState$c : {\n      action: (_palette2 = (theme.vars || theme).palette) == null ? void 0 : (_palette2$action = _palette2.action) == null ? void 0 : _palette2$action.active,\n      disabled: (_palette3 = (theme.vars || theme).palette) == null ? void 0 : (_palette3$action = _palette3.action) == null ? void 0 : _palette3$action.disabled,\n      inherit: undefined\n    }[ownerState.color]\n  };\n});\nconst SvgIcon = /*#__PURE__*/React.forwardRef(function SvgIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSvgIcon'\n  });\n  const {\n      children,\n      className,\n      color = 'inherit',\n      component = 'svg',\n      fontSize = 'medium',\n      htmlColor,\n      inheritViewBox = false,\n      titleAccess,\n      viewBox = '0 0 24 24'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    fontSize,\n    instanceFontSize: inProps.fontSize,\n    inheritViewBox,\n    viewBox\n  });\n  const more = {};\n  if (!inheritViewBox) {\n    more.viewBox = viewBox;\n  }\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(SvgIconRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    focusable: \"false\",\n    color: htmlColor,\n    \"aria-hidden\": titleAccess ? undefined : true,\n    role: titleAccess ? 'img' : undefined,\n    ref: ref\n  }, more, other, {\n    ownerState: ownerState,\n    children: [children, titleAccess ? /*#__PURE__*/_jsx(\"title\", {\n      children: titleAccess\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? SvgIcon.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Node passed into the SVG element.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * You can use the `htmlColor` prop to apply a color attribute to the SVG element.\n   * @default 'inherit'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'action', 'disabled', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   * @default 'medium'\n   */\n  fontSize: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'large', 'medium', 'small']), PropTypes.string]),\n  /**\n   * Applies a color attribute to the SVG element.\n   */\n  htmlColor: PropTypes.string,\n  /**\n   * If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\n   * prop will be ignored.\n   * Useful when you want to reference a custom `component` and have `SvgIcon` pass that\n   * `component`'s viewBox to the root node.\n   * @default false\n   */\n  inheritViewBox: PropTypes.bool,\n  /**\n   * The shape-rendering attribute. The behavior of the different options is described on the\n   * [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).\n   * If you are having issues with blurry icons you should investigate this prop.\n   */\n  shapeRendering: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Provides a human-readable title for the element that contains it.\n   * https://www.w3.org/TR/SVG-access/#Equivalent\n   */\n  titleAccess: PropTypes.string,\n  /**\n   * Allows you to redefine what the coordinates without units mean inside an SVG element.\n   * For example, if the SVG element is 500 (width) by 200 (height),\n   * and you pass viewBox=\"0 0 50 20\",\n   * this means that the coordinates inside the SVG will go from the top left corner (0,0)\n   * to bottom right (50,20) and each unit will be worth 10px.\n   * @default '0 0 24 24'\n   */\n  viewBox: PropTypes.string\n} : void 0;\nSvgIcon.muiName = 'SvgIcon';\nexport default SvgIcon;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport SvgIcon from '../SvgIcon';\n\n/**\n * Private module reserved for @mui packages.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createSvgIcon(path, displayName) {\n  function Component(props, ref) {\n    return /*#__PURE__*/_jsx(SvgIcon, _extends({\n      \"data-testid\": `${displayName}Icon`,\n      ref: ref\n    }, props, {\n      children: path\n    }));\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // Need to set `displayName` on the inner component for React.memo.\n    // React prior to 16.14 ignores `displayName` on the wrapper.\n    Component.displayName = `${displayName}Icon`;\n  }\n  Component.muiName = SvgIcon.muiName;\n  return /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(Component));\n}","import { unstable_debounce as debounce } from '@mui/utils';\nexport default debounce;","import { unstable_deprecatedPropType as deprecatedPropType } from '@mui/utils';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n    return null;\n  };\n}","import { unstable_isMuiElement as isMuiElement } from '@mui/utils';\nexport default isMuiElement;","import * as React from 'react';\nexport default function isMuiElement(element, muiNames) {\n  return /*#__PURE__*/React.isValidElement(element) && muiNames.indexOf(element.type.muiName) !== -1;\n}","import { unstable_ownerDocument as ownerDocument } from '@mui/utils';\nexport default ownerDocument;","import { unstable_ownerWindow as ownerWindow } from '@mui/utils';\nexport default ownerWindow;","import { unstable_requirePropFactory as requirePropFactory } from '@mui/utils';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n    return null;\n  };\n  return requireProp;\n}","import { unstable_setRef as setRef } from '@mui/utils';\nexport default setRef;","import * as React from 'react';\nlet globalId = 0;\nfunction useGlobalId(idOverride) {\n  const [defaultId, setDefaultId] = React.useState(idOverride);\n  const id = idOverride || defaultId;\n  React.useEffect(() => {\n    if (defaultId == null) {\n      // Fallback to this default id when possible.\n      // Use the incrementing value for client-side rendering only.\n      // We can't use it server-side.\n      // If you want to use random values please consider the Birthday Problem: https://en.wikipedia.org/wiki/Birthday_problem\n      globalId += 1;\n      setDefaultId(`mui-${globalId}`);\n    }\n  }, [defaultId]);\n  return id;\n}\n\n// eslint-disable-next-line no-useless-concat -- Workaround for https://github.com/webpack/webpack/issues/14814\nconst maybeReactUseId = React['useId' + ''];\n/**\n *\n * @example <div id={useId()} />\n * @param idOverride\n * @returns {string}\n */\nexport default function useId(idOverride) {\n  if (maybeReactUseId !== undefined) {\n    const reactId = maybeReactUseId();\n    return idOverride != null ? idOverride : reactId;\n  }\n  // eslint-disable-next-line react-hooks/rules-of-hooks -- `React.useId` is invariant at runtime.\n  return useGlobalId(idOverride);\n}","import { unstable_useId as useId } from '@mui/utils';\nexport default useId;","import { unstable_unsupportedProp as unsupportedProp } from '@mui/utils';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n  const propFullNameSafe = propFullName || propName;\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n  return null;\n}","import { unstable_useControlled as useControlled } from '@mui/utils';\nexport default useControlled;","// based on https://github.com/WICG/focus-visible/blob/v4.1.5/src/focus-visible.js\nimport * as React from 'react';\nlet hadKeyboardEvent = true;\nlet hadFocusVisibleRecently = false;\nlet hadFocusVisibleRecentlyTimeout;\nconst inputTypesWhitelist = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\n\n/**\n * Computes whether the given element should automatically trigger the\n * `focus-visible` class being added, i.e. whether it should always match\n * `:focus-visible` when focused.\n * @param {Element} node\n * @returns {boolean}\n */\nfunction focusTriggersKeyboardModality(node) {\n  const {\n    type,\n    tagName\n  } = node;\n  if (tagName === 'INPUT' && inputTypesWhitelist[type] && !node.readOnly) {\n    return true;\n  }\n  if (tagName === 'TEXTAREA' && !node.readOnly) {\n    return true;\n  }\n  if (node.isContentEditable) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Keep track of our keyboard modality state with `hadKeyboardEvent`.\n * If the most recent user interaction was via the keyboard;\n * and the key press did not include a meta, alt/option, or control key;\n * then the modality is keyboard. Otherwise, the modality is not keyboard.\n * @param {KeyboardEvent} event\n */\nfunction handleKeyDown(event) {\n  if (event.metaKey || event.altKey || event.ctrlKey) {\n    return;\n  }\n  hadKeyboardEvent = true;\n}\n\n/**\n * If at any point a user clicks with a pointing device, ensure that we change\n * the modality away from keyboard.\n * This avoids the situation where a user presses a key on an already focused\n * element, and then clicks on a different element, focusing it with a\n * pointing device, while we still think we're in keyboard modality.\n */\nfunction handlePointerDown() {\n  hadKeyboardEvent = false;\n}\nfunction handleVisibilityChange() {\n  if (this.visibilityState === 'hidden') {\n    // If the tab becomes active again, the browser will handle calling focus\n    // on the element (Safari actually calls it twice).\n    // If this tab change caused a blur on an element with focus-visible,\n    // re-apply the class when the user switches back to the tab.\n    if (hadFocusVisibleRecently) {\n      hadKeyboardEvent = true;\n    }\n  }\n}\nfunction prepare(doc) {\n  doc.addEventListener('keydown', handleKeyDown, true);\n  doc.addEventListener('mousedown', handlePointerDown, true);\n  doc.addEventListener('pointerdown', handlePointerDown, true);\n  doc.addEventListener('touchstart', handlePointerDown, true);\n  doc.addEventListener('visibilitychange', handleVisibilityChange, true);\n}\nexport function teardown(doc) {\n  doc.removeEventListener('keydown', handleKeyDown, true);\n  doc.removeEventListener('mousedown', handlePointerDown, true);\n  doc.removeEventListener('pointerdown', handlePointerDown, true);\n  doc.removeEventListener('touchstart', handlePointerDown, true);\n  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n}\nfunction isFocusVisible(event) {\n  const {\n    target\n  } = event;\n  try {\n    return target.matches(':focus-visible');\n  } catch (error) {\n    // Browsers not implementing :focus-visible will throw a SyntaxError.\n    // We use our own heuristic for those browsers.\n    // Rethrow might be better if it's not the expected error but do we really\n    // want to crash if focus-visible malfunctioned?\n  }\n\n  // No need for validFocusTarget check. The user does that by attaching it to\n  // focusable events only.\n  return hadKeyboardEvent || focusTriggersKeyboardModality(target);\n}\nexport default function useIsFocusVisible() {\n  const ref = React.useCallback(node => {\n    if (node != null) {\n      prepare(node.ownerDocument);\n    }\n  }, []);\n  const isFocusVisibleRef = React.useRef(false);\n\n  /**\n   * Should be called if a blur event is fired\n   */\n  function handleBlurVisible() {\n    // checking against potential state variable does not suffice if we focus and blur synchronously.\n    // React wouldn't have time to trigger a re-render so `focusVisible` would be stale.\n    // Ideally we would adjust `isFocusVisible(event)` to look at `relatedTarget` for blur events.\n    // This doesn't work in IE11 due to https://github.com/facebook/react/issues/3751\n    // TODO: check again if React releases their internal changes to focus event handling (https://github.com/facebook/react/pull/19186).\n    if (isFocusVisibleRef.current) {\n      // To detect a tab/window switch, we look for a blur event followed\n      // rapidly by a visibility change.\n      // If we don't see a visibility change within 100ms, it's probably a\n      // regular focus change.\n      hadFocusVisibleRecently = true;\n      window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n      hadFocusVisibleRecentlyTimeout = window.setTimeout(() => {\n        hadFocusVisibleRecently = false;\n      }, 100);\n      isFocusVisibleRef.current = false;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Should be called if a blur event is fired\n   */\n  function handleFocusVisible(event) {\n    if (isFocusVisible(event)) {\n      isFocusVisibleRef.current = true;\n      return true;\n    }\n    return false;\n  }\n  return {\n    isFocusVisibleRef,\n    onFocus: handleFocusVisible,\n    onBlur: handleBlurVisible,\n    ref\n  };\n}","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`MUI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","import { unstable_useEventCallback as useEventCallback } from '@mui/utils';\nexport default useEventCallback;","import { unstable_useIsFocusVisible as useIsFocusVisible } from '@mui/utils';\nexport default useIsFocusVisible;","import { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/base/className';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible';\n// TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    ClassNameGenerator.configure(generator);\n  }\n};","import PropTypes from 'prop-types';\nimport createBox from '../createBox';\nconst Box = createBox();\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","/**\n * Safe chained function.\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n */\nexport default function createChainedFunction(...funcs) {\n  return funcs.reduce((acc, func) => {\n    if (func == null) {\n      return acc;\n    }\n    return function chainedFunction(...args) {\n      acc.apply(this, args);\n      func.apply(this, args);\n    };\n  }, () => {});\n}","import * as React from 'react';\nimport useEnhancedEffect from './useEnhancedEffect';\n\n/**\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport default function useEventCallback(fn) {\n  const ref = React.useRef(fn);\n  useEnhancedEffect(() => {\n    ref.current = fn;\n  });\n  return React.useCallback((...args) =>\n  // @ts-expect-error hide `this`\n  // tslint:disable-next-line:ban-comma-operator\n  (0, ref.current)(...args), []);\n}","export enum ClassNames {\n  hiddenOnSearch = 'epr-hidden-on-search',\n  searchActive = 'epr-search-active',\n  hidden = 'epr-hidden',\n  visible = 'epr-visible',\n  active = 'epr-active',\n  emoji = 'epr-emoji',\n  category = 'epr-emoji-category',\n  label = 'epr-emoji-category-label',\n  categoryContent = 'epr-emoji-category-content',\n  emojiHasVariatios = 'epr-emoji-has-variations',\n  scrollBody = 'epr-body',\n  emojiList = 'epr-emoji-list',\n  external = '__EmojiPicker__',\n  emojiPicker = 'EmojiPickerReact',\n  open = 'epr-open',\n  vertical = 'epr-vertical',\n  horizontal = 'epr-horizontal',\n  variationPicker = 'epr-emoji-variation-picker'\n}\n\nexport function asSelectors(...classNames: ClassNames[]): string {\n  return classNames.map(c => `.${c}`).join('');\n}\n","import { NullableElement } from './selectors';\n\nexport function focusElement(element: NullableElement) {\n  if (!element) {\n    return;\n  }\n\n  requestAnimationFrame(() => {\n    element.focus();\n  });\n}\n\nexport function focusPrevElementSibling(element: NullableElement) {\n  if (!element) return;\n\n  const prev = element.previousElementSibling as HTMLElement;\n\n  focusElement(prev);\n}\n\nexport function focusNextElementSibling(element: NullableElement) {\n  if (!element) return;\n\n  const next = element.nextElementSibling as HTMLElement;\n\n  focusElement(next);\n}\n\nexport function focusFirstElementChild(element: NullableElement) {\n  if (!element) return;\n\n  const first = element.firstElementChild as HTMLElement;\n\n  focusElement(first);\n}\n","import * as React from 'react';\n\nimport { focusElement } from '../../DomUtils/focusElement';\nimport { NullableElement } from '../../DomUtils/selectors';\n\nexport function ElementRefContextProvider({\n  children\n}: {\n  children: React.ReactNode;\n}) {\n  const PickerMainRef = React.useRef<HTMLElement>(null);\n  const AnchoredEmojiRef = React.useRef<HTMLElement>(null);\n  const BodyRef = React.useRef<HTMLDivElement>(null);\n  const SearchInputRef = React.useRef<HTMLInputElement>(null);\n  const SkinTonePickerRef = React.useRef<HTMLDivElement>(null);\n  const CategoryNavigationRef = React.useRef<HTMLDivElement>(null);\n  const VariationPickerRef = React.useRef<HTMLDivElement>(null);\n\n  return (\n    <ElementRefContext.Provider\n      value={{\n        AnchoredEmojiRef,\n        BodyRef,\n        CategoryNavigationRef,\n        PickerMainRef,\n        SearchInputRef,\n        SkinTonePickerRef,\n        VariationPickerRef\n      }}\n    >\n      {children}\n    </ElementRefContext.Provider>\n  );\n}\n\nexport type ElementRef<\n  E extends HTMLElement = HTMLElement\n> = React.MutableRefObject<E | null>;\n\ntype ElementRefs = {\n  PickerMainRef: ElementRef;\n  AnchoredEmojiRef: ElementRef;\n  SkinTonePickerRef: ElementRef<HTMLDivElement>;\n  SearchInputRef: ElementRef<HTMLInputElement>;\n  BodyRef: ElementRef<HTMLDivElement>;\n  CategoryNavigationRef: ElementRef<HTMLDivElement>;\n  VariationPickerRef: ElementRef<HTMLDivElement>;\n};\n\nconst ElementRefContext = React.createContext<ElementRefs>({\n  AnchoredEmojiRef: React.createRef(),\n  BodyRef: React.createRef(),\n  CategoryNavigationRef: React.createRef(),\n  PickerMainRef: React.createRef(),\n  SearchInputRef: React.createRef(),\n  SkinTonePickerRef: React.createRef(),\n  VariationPickerRef: React.createRef()\n});\n\nfunction useElementRef() {\n  return React.useContext(ElementRefContext);\n}\n\nexport function usePickerMainRef() {\n  return useElementRef()['PickerMainRef'];\n}\n\nexport function useAnchoredEmojiRef() {\n  return useElementRef()['AnchoredEmojiRef'];\n}\n\nexport function useSetAnchoredEmojiRef(): (target: NullableElement) => void {\n  const AnchoredEmojiRef = useAnchoredEmojiRef();\n  return (target: NullableElement) => {\n    if (target === null && AnchoredEmojiRef.current !== null) {\n      focusElement(AnchoredEmojiRef.current);\n    }\n\n    AnchoredEmojiRef.current = target;\n  };\n}\n\nexport function useBodyRef() {\n  return useElementRef()['BodyRef'];\n}\n\nexport function useSearchInputRef() {\n  return useElementRef()['SearchInputRef'];\n}\n\nexport function useSkinTonePickerRef() {\n  return useElementRef()['SkinTonePickerRef'];\n}\n\nexport function useCategoryNavigationRef() {\n  return useElementRef()['CategoryNavigationRef'];\n}\n\nexport function useVariationPickerRef() {\n  return useElementRef()['VariationPickerRef'];\n}\n","export type EmojiClickData = {\n  activeSkinTone: SkinTones;\n  unified: string;\n  unifiedWithoutSkinTone: string;\n  emoji: string;\n  names: string[];\n  getImageUrl: (emojiStyle: EmojiStyle) => string;\n};\n\nexport enum SuggestionMode {\n  RECENT = 'recent',\n  FREQUENT = 'frequent'\n}\n\nexport enum EmojiStyle {\n  NATIVE = 'native',\n  APPLE = 'apple',\n  TWITTER = 'twitter',\n  GOOGLE = 'google',\n  FACEBOOK = 'facebook'\n}\n\nexport enum Theme {\n  DARK = 'dark',\n  LIGHT = 'light',\n  AUTO = 'auto'\n}\n\nexport enum SkinTones {\n  NEUTRAL = 'neutral',\n  LIGHT = '1f3fb',\n  MEDIUM_LIGHT = '1f3fc',\n  MEDIUM = '1f3fd',\n  MEDIUM_DARK = '1f3fe',\n  DARK = '1f3ff'\n}\n\nexport enum Categories {\n  SUGGESTED = 'suggested',\n  SMILEYS_PEOPLE = 'smileys_people',\n  ANIMALS_NATURE = 'animals_nature',\n  FOOD_DRINK = 'food_drink',\n  TRAVEL_PLACES = 'travel_places',\n  ACTIVITIES = 'activities',\n  OBJECTS = 'objects',\n  SYMBOLS = 'symbols',\n  FLAGS = 'flags'\n}\n\nexport enum SkinTonePickerLocation {\n  SEARCH = 'SEARCH',\n  PREVIEW = 'PREVIEW'\n}\n","import { Categories } from '../config/categoryConfig';\nimport { cdnUrl } from '../config/cdnUrls';\nimport emojis from '../data/emojis';\nimport skinToneVariations, {\n  skinTonesMapped\n} from '../data/skinToneVariations';\nimport { EmojiStyle, SkinTones } from '../types/exposedTypes';\n\nimport { DataEmoji, DataEmojis } from './DataTypes';\n\nenum EmojiProperties {\n  name = 'n',\n  unified = 'u',\n  variations = 'v',\n  added_in = 'a'\n}\n\nexport function emojiNames(emoji: DataEmoji): string[] {\n  return emoji[EmojiProperties.name] ?? [];\n}\n\nexport function addedIn(emoji: DataEmoji): number {\n  return parseFloat(emoji[EmojiProperties.added_in]);\n}\n\nexport function emojiName(emoji?: DataEmoji): string {\n  if (!emoji) {\n    return '';\n  }\n\n  return emojiNames(emoji)[0];\n}\n\nexport function unifiedWithoutSkinTone(unified: string): string {\n  const splat = unified.split('-');\n  const [skinTone] = splat.splice(1, 1);\n\n  if (skinTonesMapped[skinTone]) {\n    return splat.join('-');\n  }\n\n  return unified;\n}\n\nexport function emojiUnified(emoji: DataEmoji, skinTone?: string): string {\n  const unified = emoji[EmojiProperties.unified];\n\n  if (!skinTone || !emojiHasVariations(emoji)) {\n    return unified;\n  }\n\n  return emojiVariationUnified(emoji, skinTone) ?? unified;\n}\n\nexport function emojisByCategory(category: Categories): DataEmojis {\n  // @ts-ignore\n  return emojis?.[category] ?? [];\n}\n\n// WARNING: DO NOT USE DIRECTLY\nexport function emojiUrlByUnified(\n  unified: string,\n  emojiStyle: EmojiStyle\n): string {\n  return `${cdnUrl(emojiStyle)}${unified}.png`;\n}\n\nexport function emojiVariations(emoji: DataEmoji): string[] {\n  return emoji[EmojiProperties.variations] ?? [];\n}\n\nexport function emojiHasVariations(emoji: DataEmoji): boolean {\n  return emojiVariations(emoji).length > 0;\n}\n\nexport function emojiVariationUnified(\n  emoji: DataEmoji,\n  skinTone?: string\n): string | undefined {\n  return skinTone\n    ? emojiVariations(emoji).find(variation => variation.includes(skinTone))\n    : emojiUnified(emoji);\n}\n\nexport function emojiByUnified(unified?: string): DataEmoji | undefined {\n  if (!unified) {\n    return;\n  }\n\n  if (allEmojisByUnified[unified]) {\n    return allEmojisByUnified[unified];\n  }\n\n  const withoutSkinTone = unifiedWithoutSkinTone(unified);\n  return allEmojisByUnified[withoutSkinTone];\n}\n\nexport const allEmojis: DataEmojis = Object.values(emojis).flat();\n\nconst allEmojisByUnified: {\n  [unified: string]: DataEmoji;\n} = {};\n\nsetTimeout(() => {\n  allEmojis.reduce((allEmojis, Emoji) => {\n    allEmojis[emojiUnified(Emoji)] = Emoji;\n    return allEmojis;\n  }, allEmojisByUnified);\n});\n\nexport function activeVariationFromUnified(unified: string): SkinTones | null {\n  const [, suspectedSkinTone] = unified.split('-') as [string, SkinTones];\n  return skinToneVariations.includes(suspectedSkinTone)\n    ? suspectedSkinTone\n    : null;\n}\n","import { SkinTones } from '../types/exposedTypes';\n\nconst skinToneVariations = [\n  SkinTones.NEUTRAL,\n  SkinTones.LIGHT,\n  SkinTones.MEDIUM_LIGHT,\n  SkinTones.MEDIUM,\n  SkinTones.MEDIUM_DARK,\n  SkinTones.DARK\n];\n\nexport const skinTonesNamed = Object.entries(SkinTones).reduce(\n  (acc, [key, value]) => {\n    acc[value] = key;\n    return acc;\n  },\n  {} as Record<string, string>\n);\n\nexport const skinTonesMapped: Record<\n  string,\n  string\n> = skinToneVariations.reduce(\n  (mapped, skinTone) =>\n    Object.assign(mapped, {\n      [skinTone]: skinTone\n    }),\n  {}\n);\n\nexport default skinToneVariations;\n","import { EmojiStyle } from '../types/exposedTypes';\n\nconst CDN_URL_APPLE =\n  'https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/';\nconst CDN_URL_FACEBOOK =\n  'https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/';\nconst CDN_URL_TWITTER =\n  'https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/';\nconst CDN_URL_GOOGLE =\n  'https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/';\n\nexport function cdnUrl(emojiStyle: EmojiStyle): string {\n  switch (emojiStyle) {\n    case EmojiStyle.TWITTER:\n      return CDN_URL_TWITTER;\n    case EmojiStyle.GOOGLE:\n      return CDN_URL_GOOGLE;\n    case EmojiStyle.FACEBOOK:\n      return CDN_URL_FACEBOOK;\n    case EmojiStyle.APPLE:\n    default:\n      return CDN_URL_APPLE;\n  }\n}\n","import { Categories, SuggestionMode } from '../types/exposedTypes';\n\nexport { Categories };\n\nconst categoriesOrdered: Categories[] = [\n  Categories.SUGGESTED,\n  Categories.SMILEYS_PEOPLE,\n  Categories.ANIMALS_NATURE,\n  Categories.FOOD_DRINK,\n  Categories.TRAVEL_PLACES,\n  Categories.ACTIVITIES,\n  Categories.OBJECTS,\n  Categories.SYMBOLS,\n  Categories.FLAGS\n];\n\nexport const SuggestedRecent: CategoryConfig = {\n  name: 'Recently Used',\n  category: Categories.SUGGESTED\n};\n\nconst configByCategory: Record<Categories, CategoryConfig> = {\n  [Categories.SUGGESTED]: {\n    category: Categories.SUGGESTED,\n    name: 'Frequently Used'\n  },\n  [Categories.SMILEYS_PEOPLE]: {\n    category: Categories.SMILEYS_PEOPLE,\n    name: 'Smileys & People'\n  },\n  [Categories.ANIMALS_NATURE]: {\n    category: Categories.ANIMALS_NATURE,\n    name: 'Animals & Nature'\n  },\n  [Categories.FOOD_DRINK]: {\n    category: Categories.FOOD_DRINK,\n    name: 'Food & Drink'\n  },\n  [Categories.TRAVEL_PLACES]: {\n    category: Categories.TRAVEL_PLACES,\n    name: 'Travel & Places'\n  },\n  [Categories.ACTIVITIES]: {\n    category: Categories.ACTIVITIES,\n    name: 'Activities'\n  },\n  [Categories.OBJECTS]: {\n    category: Categories.OBJECTS,\n    name: 'Objects'\n  },\n  [Categories.SYMBOLS]: {\n    category: Categories.SYMBOLS,\n    name: 'Symbols'\n  },\n  [Categories.FLAGS]: {\n    category: Categories.FLAGS,\n    name: 'Flags'\n  }\n};\n\nexport function baseCategoriesConfig(\n  modifiers?: Record<Categories, CategoryConfig>\n): CategoriesConfig {\n  return categoriesOrdered.map(category => {\n    return {\n      ...configByCategory[category],\n      ...(modifiers && modifiers[category] && modifiers[category])\n    };\n  });\n}\n\nexport function categoryFromCategoryConfig(category: CategoryConfig) {\n  return category.category;\n}\n\nexport function categoryNameFromCategoryConfig(category: CategoryConfig) {\n  return category.name;\n}\n\nexport type CategoriesConfig = CategoryConfig[];\n\nexport type CategoryConfig = {\n  category: Categories;\n  name: string;\n};\n\nexport type UserCategoryConfig = Array<Categories | CategoryConfig>;\n\nexport function mergeCategoriesConfig(\n  userCategoriesConfig: UserCategoryConfig = [],\n  modifiers: CategoryConfigModifiers = {}\n): CategoriesConfig {\n  const extra = {} as Record<Categories, CategoryConfig>;\n\n  if (modifiers.suggestionMode === SuggestionMode.RECENT) {\n    extra[Categories.SUGGESTED] = SuggestedRecent;\n  }\n\n  const base = baseCategoriesConfig(extra);\n  if (!userCategoriesConfig?.length) {\n    return base;\n  }\n\n  return userCategoriesConfig.map(category => {\n    if (typeof category === 'string') {\n      return getBaseConfigByCategory(category, extra[category]);\n    }\n\n    return {\n      ...getBaseConfigByCategory(category.category, extra[category.category]),\n      ...category\n    };\n  });\n}\n\nfunction getBaseConfigByCategory(\n  category: Categories,\n  modifier: CategoryConfig = {} as CategoryConfig\n) {\n  return Object.assign(configByCategory[category], modifier);\n}\n\ntype CategoryConfigModifiers = {\n  suggestionMode?: SuggestionMode;\n};\n","import { GetEmojiUrl } from '../components/emoji/Emoji';\nimport { emojiUrlByUnified } from '../dataUtils/emojiSelectors';\nimport {\n  EmojiClickData,\n  EmojiStyle,\n  SkinTonePickerLocation,\n  SkinTones,\n  SuggestionMode,\n  Theme\n} from '../types/exposedTypes';\n\nimport {\n  CategoriesConfig,\n  baseCategoriesConfig,\n  mergeCategoriesConfig\n} from './categoryConfig';\n\nexport function mergeConfig(\n  userConfig: PickerConfig = {}\n): PickerConfigInternal {\n  const base = basePickerConfig();\n\n  const previewConfig = Object.assign(\n    base.previewConfig,\n    userConfig.previewConfig ?? {}\n  );\n  const config = Object.assign(base, userConfig);\n\n  const categories = mergeCategoriesConfig(userConfig.categories, {\n    suggestionMode: config.suggestedEmojisMode\n  });\n\n  const skinTonePickerLocation = config.searchDisabled\n    ? SkinTonePickerLocation.PREVIEW\n    : config.skinTonePickerLocation;\n\n  return {\n    ...config,\n    categories,\n    previewConfig,\n    skinTonePickerLocation\n  };\n}\n\nexport function basePickerConfig(): PickerConfigInternal {\n  return {\n    autoFocusSearch: true,\n    categories: baseCategoriesConfig(),\n    defaultSkinTone: SkinTones.NEUTRAL,\n    emojiStyle: EmojiStyle.APPLE,\n    emojiVersion: null,\n    getEmojiUrl: emojiUrlByUnified,\n    height: 450,\n    lazyLoadEmojis: false,\n    onEmojiClick: function defaultOnClickHandler(\n      // @ts-ignore\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      emoji: EmojiClickData,\n      // @ts-ignore\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      event: MouseEvent\n    ) {},\n    previewConfig: {\n      ...basePreviewConfig\n    },\n    searchDisabled: false,\n    searchPlaceHolder: 'Search',\n    skinTonePickerLocation: SkinTonePickerLocation.SEARCH,\n    skinTonesDisabled: false,\n    suggestedEmojisMode: SuggestionMode.FREQUENT,\n    theme: Theme.LIGHT,\n    width: 350\n  };\n}\n\nexport type PickerConfigInternal = {\n  emojiVersion: string | null;\n  searchPlaceHolder: string;\n  defaultSkinTone: SkinTones;\n  skinTonesDisabled: boolean;\n  autoFocusSearch: boolean;\n  emojiStyle: EmojiStyle;\n  categories: CategoriesConfig;\n  onEmojiClick: (emoji: EmojiClickData, event: MouseEvent) => void;\n  theme: Theme;\n  suggestedEmojisMode: SuggestionMode;\n  lazyLoadEmojis: boolean;\n  previewConfig: PreviewConfig;\n  height: PickerDimensions;\n  width: PickerDimensions;\n  getEmojiUrl: GetEmojiUrl;\n  searchDisabled: boolean;\n  skinTonePickerLocation: SkinTonePickerLocation;\n};\n\nexport type PreviewConfig = {\n  defaultEmoji: string;\n  defaultCaption: string;\n  showPreview: boolean;\n};\n\nconst basePreviewConfig: PreviewConfig = {\n  defaultEmoji: '1f60a',\n  defaultCaption: \"What's your mood?\",\n  showPreview: true\n};\n\ntype ConfigExternal = {\n  previewConfig: Partial<PreviewConfig>;\n} & Omit<PickerConfigInternal, 'previewConfig'>;\n\nexport type PickerConfig = Partial<ConfigExternal>;\n\nexport type PickerDimensions = string | number;\n","import * as React from 'react';\n\nimport {\n  basePickerConfig,\n  mergeConfig,\n  PickerConfig,\n  PickerConfigInternal\n} from '../../config/config';\n\ntype Props = PickerConfig &\n  Readonly<{\n    children: React.ReactNode;\n  }>;\n\nconst ConfigContext = React.createContext<PickerConfigInternal>(\n  basePickerConfig()\n);\n\nexport function PickerConfigProvider({ children, ...config }: Props) {\n  return (\n    <ConfigContext.Provider value={mergeConfig(config)}>\n      {children}\n    </ConfigContext.Provider>\n  );\n}\n\nexport function usePickerConfig() {\n  return React.useContext(ConfigContext);\n}\n","import { isSystemDarkTheme } from '../DomUtils/isDarkTheme';\nimport { usePickerConfig } from '../components/context/PickerConfigContext';\nimport {\n  EmojiClickData,\n  EmojiStyle,\n  SkinTonePickerLocation,\n  SkinTones,\n  SuggestionMode,\n  Theme\n} from '../types/exposedTypes';\n\nimport { CategoriesConfig } from './categoryConfig';\nimport { PickerDimensions, PreviewConfig } from './config';\n\nexport function useSearchPlaceHolderConfig(): string {\n  const { searchPlaceHolder } = usePickerConfig();\n  return searchPlaceHolder;\n}\n\nexport function useDefaultSkinToneConfig(): SkinTones {\n  const { defaultSkinTone } = usePickerConfig();\n  return defaultSkinTone;\n}\n\nexport function useSkinTonesDisabledConfig(): boolean {\n  const { skinTonesDisabled } = usePickerConfig();\n  return skinTonesDisabled;\n}\n\nexport function useEmojiStyleConfig(): EmojiStyle {\n  const { emojiStyle } = usePickerConfig();\n  return emojiStyle;\n}\n\nexport function useAutoFocusSearchConfig(): boolean {\n  const { autoFocusSearch } = usePickerConfig();\n  return autoFocusSearch;\n}\n\nexport function useCategoriesConfig(): CategoriesConfig {\n  const { categories } = usePickerConfig();\n  return categories;\n}\n\nexport function useOnEmojiClickConfig(): (\n  emoji: EmojiClickData,\n  event: MouseEvent\n) => void {\n  const { onEmojiClick } = usePickerConfig();\n  return onEmojiClick;\n}\n\nexport function usePreviewConfig(): PreviewConfig {\n  const { previewConfig } = usePickerConfig();\n  return previewConfig;\n}\n\nexport function useThemeConfig(): Theme {\n  const { theme } = usePickerConfig();\n\n  if (theme === Theme.AUTO) {\n    return isSystemDarkTheme() ? Theme.DARK : Theme.LIGHT;\n  }\n\n  return theme;\n}\n\nexport function useSuggestedEmojisModeConfig(): SuggestionMode {\n  const { suggestedEmojisMode } = usePickerConfig();\n  return suggestedEmojisMode;\n}\n\nexport function useLazyLoadEmojisConfig(): boolean {\n  const { lazyLoadEmojis } = usePickerConfig();\n  return lazyLoadEmojis;\n}\n\nexport function usePickerSizeConfig(): {\n  height: PickerDimensions;\n  width: PickerDimensions;\n} {\n  const { height, width } = usePickerConfig();\n  return { height: getDimension(height), width: getDimension(width) };\n}\n\nexport function useEmojiVersionConfig(): string | null {\n  const { emojiVersion } = usePickerConfig();\n  return emojiVersion;\n}\n\nexport function useSearchDisabledConfig(): boolean {\n  const { searchDisabled } = usePickerConfig();\n  return searchDisabled;\n}\n\nexport function useSkinTonePickerLocationConfig(): SkinTonePickerLocation {\n  const { skinTonePickerLocation } = usePickerConfig();\n  return skinTonePickerLocation;\n}\n\nexport function useGetEmojiUrlConfig(): (\n  unified: string,\n  style: EmojiStyle\n) => string {\n  const { getEmojiUrl } = usePickerConfig();\n  return getEmojiUrl;\n}\n\nfunction getDimension(dimensionConfig: PickerDimensions): PickerDimensions {\n  return typeof dimensionConfig === 'number'\n    ? `${dimensionConfig}px`\n    : dimensionConfig;\n}\n","export function isSystemDarkTheme(): boolean {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n\n  return !!window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\n","import { DataEmoji } from './DataTypes';\nimport { allEmojis, emojiNames, emojiUnified } from './emojiSelectors';\n\nexport const alphaNumericEmojiIndex: BaseIndex = {};\n\nsetTimeout(() => {\n  allEmojis.reduce((searchIndex, emoji) => {\n    const joinedNameString = emojiNames(emoji)\n      .flat()\n      .join('')\n      .replace(/[^a-zA-Z\\d]/g, '')\n      .split('');\n\n    joinedNameString.forEach(char => {\n      searchIndex[char] = searchIndex[char] ?? {};\n\n      searchIndex[char][emojiUnified(emoji)] = emoji;\n    });\n    return searchIndex;\n  }, alphaNumericEmojiIndex as BaseIndex);\n});\n\ntype BaseIndex = Record<string, Record<string, DataEmoji>>;\n","import { useRef, useState } from 'react';\n\nexport function useDebouncedState<T>(\n  initialValue: T,\n  delay: number = 0\n): [T, (value: T) => Promise<T>] {\n  const [state, setState] = useState<T>(initialValue);\n  const timer = useRef<number | null>(null);\n\n  function debouncedSetState(value: T) {\n    return new Promise<T>(resolve => {\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n\n      timer.current = window?.setTimeout(() => {\n        setState(value);\n        resolve(value);\n      }, delay);\n    });\n  }\n\n  return [state, debouncedSetState];\n}\n","import { useRef, useMemo } from 'react';\n\nimport { useEmojiVersionConfig } from '../config/useConfig';\nimport { DataEmoji } from '../dataUtils/DataTypes';\nimport {\n  addedIn,\n  allEmojis,\n  emojiUnified,\n  unifiedWithoutSkinTone\n} from '../dataUtils/emojiSelectors';\n\nexport function useDisallowedEmojis() {\n  const DisallowedEmojisRef = useRef<Record<string, boolean>>({});\n  const emojiVersionConfig = useEmojiVersionConfig();\n\n  return useMemo(() => {\n    const emojiVersion = parseFloat(`${emojiVersionConfig}`);\n\n    if (!emojiVersionConfig || Number.isNaN(emojiVersion)) {\n      return DisallowedEmojisRef.current;\n    }\n\n    return allEmojis.reduce((disallowedEmojis, emoji) => {\n      if (addedInNewerVersion(emoji, emojiVersion)) {\n        disallowedEmojis[emojiUnified(emoji)] = true;\n      }\n\n      return disallowedEmojis;\n    }, DisallowedEmojisRef.current);\n  }, [emojiVersionConfig]);\n}\n\nexport function useIsEmojiDisallowed() {\n  const disallowedEmojis = useDisallowedEmojis();\n\n  return function isEmojiDisallowed(emoji: DataEmoji) {\n    const unified = unifiedWithoutSkinTone(emojiUnified(emoji));\n\n    return Boolean(disallowedEmojis[unified]);\n  };\n}\n\nfunction addedInNewerVersion(\n  emoji: DataEmoji,\n  supportedLevel: number\n): boolean {\n  return addedIn(emoji) > supportedLevel;\n}\n","import * as React from 'react';\nimport { useState } from 'react';\n\nimport { useDefaultSkinToneConfig } from '../../config/useConfig';\nimport { DataEmoji } from '../../dataUtils/DataTypes';\nimport { alphaNumericEmojiIndex } from '../../dataUtils/alphaNumericEmojiIndex';\nimport { useDebouncedState } from '../../hooks/useDebouncedState';\nimport { useDisallowedEmojis } from '../../hooks/useDisallowedEmojis';\nimport { FilterDict } from '../../hooks/useFilter';\nimport { useMarkInitialLoad } from '../../hooks/useInitialLoad';\nimport { SkinTones } from '../../types/exposedTypes';\n\nexport function PickerContextProvider({ children }: Props) {\n  const disallowedEmojis = useDisallowedEmojis();\n  const defaultSkinTone = useDefaultSkinToneConfig();\n\n  // Initialize the filter with the inititial dictionary\n  const filterRef = React.useRef<FilterState>(alphaNumericEmojiIndex);\n  const disallowClickRef = React.useRef<boolean>(false);\n  const disallowMouseRef = React.useRef<boolean>(false);\n  const disallowedEmojisRef = React.useRef<Record<string, boolean>>(\n    disallowedEmojis\n  );\n\n  const suggestedUpdateState = useDebouncedState(Date.now(), 200);\n  const searchTerm = useDebouncedState('', 100);\n  const skinToneFanOpenState = useState<boolean>(false);\n  const activeSkinTone = useState<SkinTones>(defaultSkinTone);\n  const activeCategoryState = useState<ActiveCategoryState>(null);\n  const emojisThatFailedToLoadState = useState<Set<string>>(new Set());\n  const emojiVariationPickerState = useState<DataEmoji | null>(null);\n  const [isPastInitialLoad, setIsPastInitialLoad] = useState(false);\n\n  useMarkInitialLoad(setIsPastInitialLoad);\n\n  return (\n    <PickerContext.Provider\n      value={{\n        activeCategoryState,\n        activeSkinTone,\n        disallowClickRef,\n        disallowMouseRef,\n        disallowedEmojisRef,\n        emojiVariationPickerState,\n        emojisThatFailedToLoadState,\n        filterRef,\n        isPastInitialLoad,\n        searchTerm,\n        skinToneFanOpenState,\n        suggestedUpdateState\n      }}\n    >\n      {children}\n    </PickerContext.Provider>\n  );\n}\n\ntype ReactState<T> = [T, React.Dispatch<React.SetStateAction<T>>];\n\nconst PickerContext = React.createContext<{\n  searchTerm: [string, (term: string) => Promise<string>];\n  suggestedUpdateState: [number, (term: number) => void];\n  activeCategoryState: ReactState<ActiveCategoryState>;\n  activeSkinTone: ReactState<SkinTones>;\n  emojisThatFailedToLoadState: ReactState<Set<string>>;\n  isPastInitialLoad: boolean;\n  emojiVariationPickerState: ReactState<DataEmoji | null>;\n  skinToneFanOpenState: ReactState<boolean>;\n  filterRef: React.MutableRefObject<FilterState>;\n  disallowClickRef: React.MutableRefObject<boolean>;\n  disallowMouseRef: React.MutableRefObject<boolean>;\n  disallowedEmojisRef: React.MutableRefObject<Record<string, boolean>>;\n}>({\n  activeCategoryState: [null, () => {}],\n  activeSkinTone: [SkinTones.NEUTRAL, () => {}],\n  disallowClickRef: { current: false },\n  disallowMouseRef: { current: false },\n  disallowedEmojisRef: { current: {} },\n  emojiVariationPickerState: [null, () => {}],\n  emojisThatFailedToLoadState: [new Set(), () => {}],\n  filterRef: { current: {} },\n  isPastInitialLoad: true,\n  searchTerm: ['', () => new Promise<string>(() => undefined)],\n  skinToneFanOpenState: [false, () => {}],\n  suggestedUpdateState: [Date.now(), () => {}]\n});\n\ntype Props = Readonly<{\n  children: React.ReactNode;\n}>;\n\nexport function useFilterRef() {\n  const { filterRef } = React.useContext(PickerContext);\n  return filterRef;\n}\n\nexport function useDisallowClickRef() {\n  const { disallowClickRef } = React.useContext(PickerContext);\n  return disallowClickRef;\n}\n\nexport function useDisallowMouseRef() {\n  const { disallowMouseRef } = React.useContext(PickerContext);\n  return disallowMouseRef;\n}\n\nexport function useSearchTermState() {\n  const { searchTerm } = React.useContext(PickerContext);\n  return searchTerm;\n}\n\nexport function useActiveSkinToneState(): [\n  SkinTones,\n  (skinTone: SkinTones) => void\n] {\n  const { activeSkinTone } = React.useContext(PickerContext);\n  return activeSkinTone;\n}\n\nexport function useEmojisThatFailedToLoadState() {\n  const { emojisThatFailedToLoadState } = React.useContext(PickerContext);\n  return emojisThatFailedToLoadState;\n}\n\nexport function useIsPastInitialLoad(): boolean {\n  const { isPastInitialLoad } = React.useContext(PickerContext);\n  return isPastInitialLoad;\n}\n\nexport function useEmojiVariationPickerState() {\n  const { emojiVariationPickerState } = React.useContext(PickerContext);\n  return emojiVariationPickerState;\n}\n\nexport function useSkinToneFanOpenState() {\n  const { skinToneFanOpenState } = React.useContext(PickerContext);\n  return skinToneFanOpenState;\n}\n\nexport function useDisallowedEmojisRef() {\n  const { disallowedEmojisRef } = React.useContext(PickerContext);\n  return disallowedEmojisRef;\n}\n\nexport function useUpdateSuggested(): [number, () => void] {\n  const { suggestedUpdateState } = React.useContext(PickerContext);\n\n  const [suggestedUpdated, setsuggestedUpdate] = suggestedUpdateState;\n  return [\n    suggestedUpdated,\n    function updateSuggested() {\n      setsuggestedUpdate(Date.now());\n    }\n  ];\n}\n\nexport type FilterState = Record<string, FilterDict>;\n\ntype ActiveCategoryState = null | string;\n","import { useEffect } from 'react';\nimport * as React from 'react';\n\nexport function useMarkInitialLoad(\n  dispatch: React.Dispatch<React.SetStateAction<boolean>>\n) {\n  useEffect(() => {\n    dispatch(true);\n  }, [dispatch]);\n}\n","import { useEffect } from 'react';\n\nimport { useBodyRef } from '../components/context/ElementRefContext';\nimport { useDisallowMouseRef } from '../components/context/PickerContext';\n\nexport function useDisallowMouseMove() {\n  const DisallowMouseRef = useDisallowMouseRef();\n  return function disallowMouseMove() {\n    DisallowMouseRef.current = true;\n  };\n}\n\nexport function useAllowMouseMove() {\n  const DisallowMouseRef = useDisallowMouseRef();\n  return function allowMouseMove() {\n    DisallowMouseRef.current = false;\n  };\n}\n\nexport function useIsMouseDisallowed() {\n  const DisallowMouseRef = useDisallowMouseRef();\n  return function isMouseDisallowed() {\n    return DisallowMouseRef.current;\n  };\n}\n\nexport function useOnMouseMove() {\n  const BodyRef = useBodyRef();\n  const allowMouseMove = useAllowMouseMove();\n  const isMouseDisallowed = useIsMouseDisallowed();\n\n  useEffect(() => {\n    const bodyRef = BodyRef.current;\n    bodyRef?.addEventListener('mousemove', onMouseMove, {\n      passive: true\n    });\n\n    function onMouseMove() {\n      if (isMouseDisallowed()) {\n        allowMouseMove();\n      }\n    }\n    return () => {\n      bodyRef?.removeEventListener('mousemove', onMouseMove);\n    };\n  }, [BodyRef, allowMouseMove, isMouseDisallowed]);\n}\n","import { NullableElement } from './selectors';\n\nexport function elementCountInRow(\n  parent: NullableElement,\n  element: NullableElement\n): number {\n  if (!parent || !element) {\n    return 0;\n  }\n\n  const parentWidth = parent.getBoundingClientRect().width;\n  const elementWidth = element.getBoundingClientRect().width;\n  return Math.floor(parentWidth / elementWidth);\n}\n\nexport function elementIndexInRow(\n  parent: NullableElement,\n  element: NullableElement\n): number {\n  if (!parent || !element) {\n    return 0;\n  }\n\n  const elementWidth = element.getBoundingClientRect().width;\n  const elementLeft = element.getBoundingClientRect().left;\n  const parentLeft = parent.getBoundingClientRect().left;\n\n  return Math.floor((elementLeft - parentLeft) / elementWidth);\n}\n\nexport function rowNumber(\n  parent: NullableElement,\n  element: NullableElement\n): number {\n  if (!parent || !element) {\n    return 0;\n  }\n\n  const elementHeight = element.getBoundingClientRect().height;\n  const elementTop = element.getBoundingClientRect().top;\n  const parentTop = parent.getBoundingClientRect().top;\n  return Math.round((elementTop - parentTop) / elementHeight);\n}\n\nexport function hasNextRow(\n  parent: NullableElement,\n  element: NullableElement\n): boolean {\n  if (!parent || !element) {\n    return false;\n  }\n\n  const elementHeight = element.getBoundingClientRect().height;\n  const elementTop = element.getBoundingClientRect().top;\n  const parentTop = parent.getBoundingClientRect().top;\n  const parentHeight = parent.getBoundingClientRect().height;\n\n  return Math.round(elementTop - parentTop + elementHeight) < parentHeight;\n}\n\nfunction getRowElements(\n  elements: HTMLElement[],\n  row: number,\n  elementsInRow: number\n): HTMLElement[] {\n  if (row === -1) {\n    const lastRow = Math.floor((elements.length - 1) / elementsInRow);\n    const firstElementIndex = lastRow * elementsInRow;\n    const lastElementIndex = elements.length - 1;\n    return elements.slice(firstElementIndex, lastElementIndex + 1);\n  }\n\n  return elements.slice(row * elementsInRow, (row + 1) * elementsInRow);\n}\n\nfunction getNextRowElements(\n  allElements: HTMLElement[],\n  currentRow: number,\n  elementsInRow: number\n): HTMLElement[] {\n  const nextRow = currentRow + 1;\n\n  if (nextRow * elementsInRow > allElements.length) {\n    return [];\n  }\n\n  return getRowElements(allElements, nextRow, elementsInRow);\n}\n\nexport function getElementInRow(\n  elements: HTMLElement[],\n  row: number,\n  elementsInRow: number,\n  indexInRow: number\n): NullableElement {\n  const rowElements = getRowElements(elements, row, elementsInRow);\n  // get element, default to last\n  return rowElements[indexInRow] || rowElements[rowElements.length - 1] || null;\n}\n\nexport function getElementInNextRow(\n  allElements: HTMLElement[],\n  currentRow: number,\n  elementsInRow: number,\n  index: number\n): NullableElement {\n  const nextRowElements = getNextRowElements(\n    allElements,\n    currentRow,\n    elementsInRow\n  );\n\n  // return item in index, or last item in row\n  return (\n    nextRowElements[index] ||\n    nextRowElements[nextRowElements.length - 1] ||\n    null\n  );\n}\n\nexport function getElementInPrevRow(\n  allElements: HTMLElement[],\n  currentRow: number,\n  elementsInRow: number,\n  index: number\n): NullableElement {\n  const prevRowElements = getRowElements(\n    allElements,\n    currentRow - 1,\n    elementsInRow\n  );\n\n  // default to last\n  return (\n    prevRowElements[index] ||\n    prevRowElements[prevRowElements.length - 1] ||\n    null\n  );\n}\n\nexport function firstVisibleElementInContainer(\n  parent: NullableElement,\n  elements: HTMLElement[]\n): NullableElement {\n  if (!parent || !elements.length) {\n    return null;\n  }\n\n  const parentTop = parent.getBoundingClientRect().top;\n  const parentBottom = parent.getBoundingClientRect().bottom;\n\n  const visibleElements = elements.find(element => {\n    const elementTop = element.getBoundingClientRect().top;\n    const elementBottom = element.getBoundingClientRect().bottom;\n\n    return (\n      (elementTop >= parentTop && elementTop <= parentBottom) ||\n      (elementBottom >= parentTop && elementBottom <= parentBottom)\n    );\n  });\n\n  return visibleElements || null;\n}\n\nexport function hasNextElementSibling(element: HTMLElement) {\n  return !!element.nextElementSibling;\n}\n","import { DataEmoji } from '../dataUtils/DataTypes';\nimport {\n  emojiByUnified,\n  unifiedWithoutSkinTone,\n} from '../dataUtils/emojiSelectors';\n\nimport { asSelectors, ClassNames } from './classNames';\nimport { firstVisibleElementInContainer } from './elementPositionInRow';\n\nexport type NullableElement = HTMLElement | null;\n\nexport const EmojiButtonSelector = `button${asSelectors(ClassNames.emoji)}`;\nexport const VisibleEmojiSelector = [\n  EmojiButtonSelector,\n  asSelectors(ClassNames.visible),\n  `:not(${asSelectors(ClassNames.hidden)})`,\n].join('');\n\nexport function buttonFromTarget(\n  emojiElement: NullableElement\n): HTMLButtonElement | null {\n  return emojiElement?.closest(EmojiButtonSelector) ?? null;\n}\n\nexport function isEmojiButton(element: NullableElement): boolean {\n  if (!element) {\n    return false;\n  }\n\n  return element.matches(EmojiButtonSelector);\n}\n\nexport function emojiFromElement(\n  element: NullableElement\n): [DataEmoji, string] | [] {\n  const originalUnified = originalUnifiedFromEmojiElement(element);\n  const unified = unifiedFromEmojiElement(element);\n\n  if (!originalUnified) {\n    return [];\n  }\n\n  const emoji = emojiByUnified(originalUnified);\n\n  if (!emoji) {\n    return [];\n  }\n\n  return [emoji, unified as string];\n}\n\nexport function isEmojiElement(element: NullableElement): boolean {\n  return Boolean(\n    element?.matches(EmojiButtonSelector) ||\n      element?.parentElement?.matches(EmojiButtonSelector)\n  );\n}\n\nexport function categoryLabelFromCategory(\n  category: NullableElement\n): NullableElement {\n  return category?.querySelector(asSelectors(ClassNames.label)) ?? null;\n}\n\nexport function closestCategoryLabel(\n  element: NullableElement\n): NullableElement {\n  const category = closestCategory(element);\n  return categoryLabelFromCategory(category);\n}\n\nexport function elementHeight(element: NullableElement): number {\n  return element?.clientHeight ?? 0;\n}\n\nexport function emojiTrueOffsetTop(element: NullableElement): number {\n  if (!element) {\n    return 0;\n  }\n\n  const button = buttonFromTarget(element);\n  const category = closestCategory(button);\n\n  // compensate for the label height\n  const labelHeight = categoryLabelHeight(category);\n\n  return elementOffsetTop(button) + elementOffsetTop(category) + labelHeight;\n}\n\nexport function categoryLabelHeight(category: NullableElement): number {\n  if (!category) {\n    return 0;\n  }\n\n  const categoryWithoutLabel = category.querySelector(\n    asSelectors(ClassNames.categoryContent)\n  );\n\n  return (\n    (category?.clientHeight ?? 0) - (categoryWithoutLabel?.clientHeight ?? 0)\n  );\n}\n\nexport function isEmojiBehindLabel(emoji: NullableElement): boolean {\n  if (!emoji) {\n    return false;\n  }\n\n  return (\n    emojiDistanceFromScrollTop(emoji) <\n    categoryLabelHeight(closestCategory(emoji))\n  );\n}\n\nexport function queryScrollBody(root: NullableElement): NullableElement {\n  return root\n    ? root.matches(asSelectors(ClassNames.scrollBody))\n      ? root\n      : root.querySelector(asSelectors(ClassNames.scrollBody))\n    : null;\n}\n\nexport function emojiDistanceFromScrollTop(emoji: NullableElement): number {\n  if (!emoji) {\n    return 0;\n  }\n\n  return emojiTrueOffsetTop(emoji) - (closestScrollBody(emoji)?.scrollTop ?? 0);\n}\n\nexport function closestScrollBody(element: NullableElement): NullableElement {\n  if (!element) {\n    return null;\n  }\n\n  return element.closest(asSelectors(ClassNames.scrollBody)) ?? null;\n}\n\nexport function emojiTruOffsetLeft(element: NullableElement): number {\n  const button = buttonFromTarget(element);\n  const category = closestCategory(button);\n\n  return elementOffsetLeft(button) + elementOffsetLeft(category);\n}\n\nfunction elementOffsetTop(element: NullableElement): number {\n  return element?.offsetTop ?? 0;\n}\n\nfunction elementOffsetLeft(element: NullableElement): number {\n  return element?.offsetLeft ?? 0;\n}\n\nexport function unifiedFromEmojiElement(emoji: NullableElement): string | null {\n  return elementDataSetKey(buttonFromTarget(emoji), 'unified') ?? null;\n}\n\nexport function originalUnifiedFromEmojiElement(\n  emoji: NullableElement\n): string | null {\n  const unified = unifiedFromEmojiElement(emoji);\n\n  if (unified) {\n    return unifiedWithoutSkinTone(unified);\n  }\n  return null;\n}\n\nfunction elementDataSetKey(\n  element: NullableElement,\n  key: string\n): string | null {\n  return elementDataSet(element)[key] ?? null;\n}\n\nfunction elementDataSet(element: NullableElement): DOMStringMap {\n  return element?.dataset ?? {};\n}\n\nexport function isVisibleEmoji(element: HTMLElement) {\n  return element.classList.contains(ClassNames.visible);\n}\n\nexport function isHidden(element: NullableElement) {\n  if (!element) return true;\n\n  return element.classList.contains(ClassNames.hidden);\n}\n\nexport function allVisibleEmojis(parent: NullableElement) {\n  if (!parent) {\n    return [];\n  }\n\n  return Array.from(\n    parent.querySelectorAll(VisibleEmojiSelector)\n  ) as HTMLElement[];\n}\n\nexport function lastVisibleEmoji(element: NullableElement): NullableElement {\n  if (!element) return null;\n\n  const allEmojis = allVisibleEmojis(element);\n  const [last] = allEmojis.slice(-1);\n  if (!last) {\n    return null;\n  }\n\n  if (!isVisibleEmoji(last)) {\n    return prevVisibleEmoji(last);\n  }\n\n  return last;\n}\n\nexport function nextVisibleEmoji(element: HTMLElement): NullableElement {\n  const next = element.nextElementSibling as HTMLElement;\n\n  if (!next) {\n    return firstVisibleEmoji(nextCategory(element));\n  }\n\n  if (!isVisibleEmoji(next)) {\n    return nextVisibleEmoji(next);\n  }\n\n  return next;\n}\n\nexport function prevVisibleEmoji(element: HTMLElement): NullableElement {\n  const prev = element.previousElementSibling as HTMLElement;\n\n  if (!prev) {\n    return lastVisibleEmoji(prevCategory(element));\n  }\n\n  if (!isVisibleEmoji(prev)) {\n    return prevVisibleEmoji(prev);\n  }\n\n  return prev;\n}\n\nexport function firstVisibleEmoji(parent: NullableElement) {\n  if (!parent) {\n    return null;\n  }\n\n  const allEmojis = allVisibleEmojis(parent);\n\n  return firstVisibleElementInContainer(parent, allEmojis);\n}\n\nexport function prevCategory(element: NullableElement): NullableElement {\n  const category = closestCategory(element);\n\n  if (!category) {\n    return null;\n  }\n\n  const prev = category.previousElementSibling as HTMLElement;\n\n  if (!prev) {\n    return null;\n  }\n\n  if (isHidden(prev)) {\n    return prevCategory(prev);\n  }\n\n  return prev;\n}\n\nexport function nextCategory(element: NullableElement): NullableElement {\n  const category = closestCategory(element);\n\n  if (!category) {\n    return null;\n  }\n\n  const next = category.nextElementSibling as HTMLElement;\n\n  if (!next) {\n    return null;\n  }\n\n  if (isHidden(next)) {\n    return nextCategory(next);\n  }\n\n  return next;\n}\n\nexport function closestCategory(element: NullableElement) {\n  if (!element) {\n    return null;\n  }\n  return element.closest(asSelectors(ClassNames.category)) as HTMLElement;\n}\n\nexport function closestCategoryContent(element: NullableElement) {\n  if (!element) {\n    return null;\n  }\n  return element.closest(\n    asSelectors(ClassNames.categoryContent)\n  ) as HTMLElement;\n}\n","export function parseNativeEmoji(unified: string): string {\n  return unified\n    .split('-')\n    .map(hex => String.fromCodePoint(parseInt(hex, 16)))\n    .join('');\n}\n","import { SkinTones, SuggestionMode } from '../types/exposedTypes';\n\nimport { DataEmoji } from './DataTypes';\nimport { emojiUnified } from './emojiSelectors';\n\nconst SUGGESTED_LS_KEY = 'epr_suggested';\n\ntype SuggestedItem = {\n  unified: string;\n  original: string;\n  count: number;\n};\n\ntype Suggested = SuggestedItem[];\n\nexport function getsuggested(mode?: SuggestionMode): Suggested {\n  try {\n    if (!window?.localStorage) {\n      return [];\n    }\n    const recent = JSON.parse(\n      window?.localStorage.getItem(SUGGESTED_LS_KEY) ?? '[]'\n    ) as Suggested;\n\n    if (mode === SuggestionMode.FREQUENT) {\n      return recent.sort((a, b) => b.count - a.count);\n    }\n\n    return recent;\n  } catch {\n    return [];\n  }\n}\n\nexport function setsuggested(emoji: DataEmoji, skinTone: SkinTones) {\n  const recent = getsuggested();\n\n  const unified = emojiUnified(emoji, skinTone);\n  const originalUnified = emojiUnified(emoji);\n\n  let existing = recent.find(({ unified: u }) => u === unified);\n\n  let nextList: SuggestedItem[];\n\n  if (existing) {\n    nextList = [existing].concat(recent.filter(i => i !== existing));\n  } else {\n    existing = {\n      unified,\n      original: originalUnified,\n      count: 0\n    };\n    nextList = [existing, ...recent];\n  }\n\n  existing.count++;\n\n  nextList.length = Math.min(nextList.length, 14);\n\n  try {\n    window?.localStorage.setItem(SUGGESTED_LS_KEY, JSON.stringify(nextList));\n    // Prevents the change from being seen immediately.\n  } catch {\n    // ignore\n  }\n}\n","import { useCallback } from 'react';\n\nimport {\n  useEmojiVariationPickerState,\n  useSkinToneFanOpenState\n} from '../components/context/PickerContext';\n\nexport function useCloseAllOpenToggles() {\n  const [variationPicker, setVariationPicker] = useEmojiVariationPickerState();\n  const [skinToneFanOpen, setSkinToneFanOpen] = useSkinToneFanOpenState();\n\n  const closeAllOpenToggles = useCallback(() => {\n    if (variationPicker) {\n      setVariationPicker(null);\n    }\n\n    if (skinToneFanOpen) {\n      setSkinToneFanOpen(false);\n    }\n  }, [\n    variationPicker,\n    skinToneFanOpen,\n    setVariationPicker,\n    setSkinToneFanOpen\n  ]);\n\n  return closeAllOpenToggles;\n}\n\nexport function useHasOpenToggles() {\n  const [variationPicker] = useEmojiVariationPickerState();\n  const [skinToneFanOpen] = useSkinToneFanOpenState();\n\n  return function hasOpenToggles() {\n    return !!variationPicker || skinToneFanOpen;\n  };\n}\n","import { emojiFromElement, NullableElement } from '../DomUtils/selectors';\nimport { useSetAnchoredEmojiRef } from '../components/context/ElementRefContext';\nimport { useEmojiVariationPickerState } from '../components/context/PickerContext';\n\nexport default function useSetVariationPicker() {\n  const setAnchoredEmojiRef = useSetAnchoredEmojiRef();\n  const [, setEmojiVariationPicker] = useEmojiVariationPickerState();\n\n  return function setVariationPicker(element: NullableElement) {\n    const [emoji] = emojiFromElement(element);\n\n    if (emoji) {\n      setAnchoredEmojiRef(element);\n      setEmojiVariationPicker(emoji);\n    }\n  };\n}\n","import * as React from 'react';\nimport { useEffect, useRef } from 'react';\n\nimport {\n  emojiFromElement,\n  isEmojiElement,\n  NullableElement,\n} from '../DomUtils/selectors';\nimport {\n  useActiveSkinToneState,\n  useDisallowClickRef,\n  useEmojiVariationPickerState,\n  useUpdateSuggested,\n} from '../components/context/PickerContext';\nimport { GetEmojiUrl } from '../components/emoji/Emoji';\nimport {\n  useGetEmojiUrlConfig,\n  useOnEmojiClickConfig,\n} from '../config/useConfig';\nimport { DataEmoji } from '../dataUtils/DataTypes';\nimport {\n  activeVariationFromUnified,\n  emojiHasVariations,\n  emojiNames,\n  emojiUnified,\n} from '../dataUtils/emojiSelectors';\nimport { parseNativeEmoji } from '../dataUtils/parseNativeEmoji';\nimport { setsuggested } from '../dataUtils/suggested';\nimport { EmojiClickData, EmojiStyle, SkinTones } from '../types/exposedTypes';\n\nimport { useCloseAllOpenToggles } from './useCloseAllOpenToggles';\nimport useSetVariationPicker from './useSetVariationPicker';\n\nexport function useMouseDownHandlers(\n  BodyRef: React.MutableRefObject<NullableElement>\n) {\n  const mouseDownTimerRef = useRef<undefined | number>();\n  const setVariationPicker = useSetVariationPicker();\n  const disallowClickRef = useDisallowClickRef();\n  const [, setEmojiVariationPicker] = useEmojiVariationPickerState();\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n  const [activeSkinTone] = useActiveSkinToneState();\n  const onEmojiClick = useOnEmojiClickConfig();\n  const [, updateSuggested] = useUpdateSuggested();\n  const getEmojiUrl = useGetEmojiUrlConfig();\n\n  const onClick = React.useCallback(\n    function onClick(event: MouseEvent) {\n      if (disallowClickRef.current) {\n        return;\n      }\n\n      closeAllOpenToggles();\n\n      const [emoji, unified] = emojiFromEvent(event);\n\n      if (!emoji || !unified) {\n        return;\n      }\n\n      const skinToneToUse =\n        activeVariationFromUnified(unified) || activeSkinTone;\n\n      updateSuggested();\n      setsuggested(emoji, skinToneToUse);\n      onEmojiClick(emojiClickOutput(emoji, skinToneToUse, getEmojiUrl), event);\n    },\n    [\n      activeSkinTone,\n      closeAllOpenToggles,\n      disallowClickRef,\n      onEmojiClick,\n      updateSuggested,\n      getEmojiUrl,\n    ]\n  );\n\n  const onMouseDown = React.useCallback(\n    function onMouseDown(event: MouseEvent) {\n      if (mouseDownTimerRef.current) {\n        clearTimeout(mouseDownTimerRef.current);\n      }\n\n      const [emoji] = emojiFromEvent(event);\n\n      if (!emoji || !emojiHasVariations(emoji)) {\n        return;\n      }\n\n      mouseDownTimerRef.current = window?.setTimeout(() => {\n        disallowClickRef.current = true;\n        mouseDownTimerRef.current = undefined;\n        closeAllOpenToggles();\n        setVariationPicker(event.target as HTMLElement);\n        setEmojiVariationPicker(emoji);\n      }, 500);\n    },\n    [\n      disallowClickRef,\n      closeAllOpenToggles,\n      setVariationPicker,\n      setEmojiVariationPicker,\n    ]\n  );\n  const onMouseUp = React.useCallback(\n    function onMouseUp() {\n      if (mouseDownTimerRef.current) {\n        clearTimeout(mouseDownTimerRef.current);\n        mouseDownTimerRef.current = undefined;\n      } else if (disallowClickRef.current) {\n        // The problem we're trying to overcome here\n        // is that the emoji has both mouseup and click events\n        // and when releasing a mouseup event\n        // the click gets triggered too\n        // So we're disallowing the click event for a short time\n\n        requestAnimationFrame(() => {\n          disallowClickRef.current = false;\n        });\n      }\n    },\n    [disallowClickRef]\n  );\n\n  useEffect(() => {\n    if (!BodyRef.current) {\n      return;\n    }\n    const bodyRef = BodyRef.current;\n    bodyRef.addEventListener('click', onClick, {\n      passive: true,\n    });\n\n    bodyRef.addEventListener('mousedown', onMouseDown, {\n      passive: true,\n    });\n    bodyRef.addEventListener('mouseup', onMouseUp, {\n      passive: true,\n    });\n\n    return () => {\n      bodyRef?.removeEventListener('click', onClick);\n      bodyRef?.removeEventListener('mousedown', onMouseDown);\n      bodyRef?.removeEventListener('mouseup', onMouseUp);\n    };\n  }, [BodyRef, onClick, onMouseDown, onMouseUp]);\n}\n\nfunction emojiFromEvent(event: MouseEvent): [DataEmoji, string] | [] {\n  const target = event?.target as HTMLElement;\n  if (!isEmojiElement(target)) {\n    return [];\n  }\n\n  return emojiFromElement(target);\n}\n\nfunction emojiClickOutput(\n  emoji: DataEmoji,\n  activeSkinTone: SkinTones,\n  getEmojiUrl: GetEmojiUrl\n): EmojiClickData {\n  const unified = emojiUnified(emoji, activeSkinTone);\n  return {\n    activeSkinTone,\n    emoji: parseNativeEmoji(unified),\n    getImageUrl(emojiStyle: EmojiStyle) {\n      return getEmojiUrl(unified, emojiStyle);\n    },\n    names: emojiNames(emoji),\n    unified,\n    unifiedWithoutSkinTone: emojiUnified(emoji),\n  };\n}\n","import { useCallback } from 'react';\n\nimport { useBodyRef } from '../components/context/ElementRefContext';\n\nimport { asSelectors, ClassNames } from './classNames';\nimport {\n  categoryLabelHeight,\n  closestCategory,\n  closestScrollBody,\n  emojiDistanceFromScrollTop,\n  isEmojiBehindLabel,\n  NullableElement,\n  queryScrollBody\n} from './selectors';\n\nexport function scrollTo(root: NullableElement, top: number = 0) {\n  const $eprBody = queryScrollBody(root);\n\n  if (!$eprBody) {\n    return;\n  }\n\n  requestAnimationFrame(() => {\n    $eprBody.scrollTop = top + 1;\n  });\n}\n\nexport function scrollBy(root: NullableElement, by: number): void {\n  const $eprBody = queryScrollBody(root);\n\n  if (!$eprBody) {\n    return;\n  }\n\n  requestAnimationFrame(() => {\n    $eprBody.scrollTop = $eprBody.scrollTop + by;\n  });\n}\n\nexport function useScrollTo() {\n  const BodyRef = useBodyRef();\n\n  return useCallback(\n    (top: number) => {\n      requestAnimationFrame(() => {\n        if (BodyRef.current) {\n          BodyRef.current.scrollTop = top;\n        }\n      });\n    },\n    [BodyRef]\n  );\n}\n\nexport function scrollEmojiAboveLabel(emoji: NullableElement) {\n  if (!emoji || !isEmojiBehindLabel(emoji)) {\n    return;\n  }\n\n  if (emoji.closest(asSelectors(ClassNames.variationPicker))) {\n    return;\n  }\n\n  const scrollBody = closestScrollBody(emoji);\n  const by = emojiDistanceFromScrollTop(emoji);\n  scrollBy(scrollBody, -(categoryLabelHeight(closestCategory(emoji)) - by));\n}\n","import { useCallback } from 'react';\n\nimport { focusElement, focusFirstElementChild } from '../DomUtils/focusElement';\nimport {\n  useCategoryNavigationRef,\n  useSearchInputRef,\n  useSkinTonePickerRef\n} from '../components/context/ElementRefContext';\n\nexport function useFocusSearchInput() {\n  const SearchInputRef = useSearchInputRef();\n\n  return useCallback(() => {\n    focusElement(SearchInputRef.current);\n  }, [SearchInputRef]);\n}\n\nexport function useFocusSkinTonePicker() {\n  const SkinTonePickerRef = useSkinTonePickerRef();\n\n  return useCallback(() => {\n    if (!SkinTonePickerRef.current) {\n      return;\n    }\n\n    focusFirstElementChild(SkinTonePickerRef.current);\n  }, [SkinTonePickerRef]);\n}\n\nexport function useFocusCategoryNavigation() {\n  const CategoryNavigationRef = useCategoryNavigationRef();\n\n  return useCallback(() => {\n    if (!CategoryNavigationRef.current) {\n      return;\n    }\n\n    focusFirstElementChild(CategoryNavigationRef.current);\n  }, [CategoryNavigationRef]);\n}\n","import { scrollTo } from '../DomUtils/scrollTo';\nimport {\n  usePickerMainRef,\n  useSearchInputRef,\n} from '../components/context/ElementRefContext';\nimport {\n  FilterState,\n  useFilterRef,\n  useSearchTermState,\n} from '../components/context/PickerContext';\nimport { DataEmoji } from '../dataUtils/DataTypes';\nimport { emojiNames } from '../dataUtils/emojiSelectors';\n\nimport { useFocusSearchInput } from './useFocus';\n\nfunction useSetFilterRef() {\n  const filterRef = useFilterRef();\n\n  return function setFilter(\n    setter: FilterState | ((current: FilterState) => FilterState)\n  ): void {\n    if (typeof setter === 'function') {\n      return setFilter(setter(filterRef.current));\n    }\n\n    filterRef.current = setter;\n  };\n}\n\nexport function useClearSearch() {\n  const applySearch = useApplySearch();\n  const SearchInputRef = useSearchInputRef();\n  const focusSearchInput = useFocusSearchInput();\n\n  return function clearSearch() {\n    if (SearchInputRef.current) {\n      SearchInputRef.current.value = '';\n    }\n\n    applySearch('');\n    focusSearchInput();\n  };\n}\n\nexport function useAppendSearch() {\n  const SearchInputRef = useSearchInputRef();\n  const applySearch = useApplySearch();\n\n  return function appendSearch(str: string) {\n    if (SearchInputRef.current) {\n      SearchInputRef.current.value = `${SearchInputRef.current.value}${str}`;\n      applySearch(getNormalizedSearchTerm(SearchInputRef.current.value));\n    } else {\n      applySearch(getNormalizedSearchTerm(str));\n    }\n  };\n}\n\nexport function useFilter() {\n  const SearchInputRef = useSearchInputRef();\n  const filterRef = useFilterRef();\n  const setFilterRef = useSetFilterRef();\n  const applySearch = useApplySearch();\n\n  const [searchTerm] = useSearchTermState();\n\n  return {\n    onChange,\n    searchTerm,\n    SearchInputRef,\n  };\n\n  function onChange(inputValue: string) {\n    const filter = filterRef.current;\n\n    const nextValue = inputValue.toLowerCase();\n\n    if (filter?.[nextValue] || nextValue.length <= 1) {\n      return applySearch(nextValue);\n    }\n\n    const longestMatch = findLongestMatch(nextValue, filter);\n\n    if (!longestMatch) {\n      // Can we even get here?\n      // If so, we need to search among all emojis\n      return applySearch(nextValue);\n    }\n\n    setFilterRef((current) =>\n      Object.assign(current, {\n        [nextValue]: filterEmojiObjectByKeyword(longestMatch, nextValue),\n      })\n    );\n    applySearch(nextValue);\n  }\n}\n\nfunction useApplySearch() {\n  const [, setSearchTerm] = useSearchTermState();\n  const PickerMainRef = usePickerMainRef();\n\n  return function applySearch(searchTerm: string) {\n    requestAnimationFrame(() => {\n      setSearchTerm(searchTerm ? searchTerm?.toLowerCase() : searchTerm).then(\n        () => {\n          scrollTo(PickerMainRef.current, 0);\n        }\n      );\n    });\n  };\n}\n\nfunction filterEmojiObjectByKeyword(\n  emojis: FilterDict,\n  keyword: string\n): FilterDict {\n  const filtered: FilterDict = {};\n\n  for (const unified in emojis) {\n    const emoji = emojis[unified];\n\n    if (hasMatch(emoji, keyword)) {\n      filtered[unified] = emoji;\n    }\n  }\n\n  return filtered;\n}\n\nfunction hasMatch(emoji: DataEmoji, keyword: string): boolean {\n  return emojiNames(emoji).some((name) => name.includes(keyword));\n}\n\nexport function useIsEmojiFiltered(): (unified: string) => boolean {\n  const { current: filter } = useFilterRef();\n  const [searchTerm] = useSearchTermState();\n\n  return (unified) => isEmojiFilteredBySearchTerm(unified, filter, searchTerm);\n}\n\nfunction isEmojiFilteredBySearchTerm(\n  unified: string,\n  filter: FilterState,\n  searchTerm: string\n): boolean {\n  if (!filter || !searchTerm) {\n    return false;\n  }\n\n  return !filter[searchTerm]?.[unified];\n}\n\nexport type FilterDict = Record<string, DataEmoji>;\n\nfunction findLongestMatch(\n  keyword: string,\n  dict: Record<string, FilterDict> | null\n): FilterDict | null {\n  if (!dict) {\n    return null;\n  }\n\n  if (dict[keyword]) {\n    return dict[keyword];\n  }\n\n  const longestMatchingKey = Object.keys(dict)\n    .sort((a, b) => b.length - a.length)\n    .find((key) => keyword.includes(key));\n\n  if (longestMatchingKey) {\n    return dict[longestMatchingKey];\n  }\n\n  return null;\n}\n\nexport function getNormalizedSearchTerm(str: string): string {\n  if (!str || typeof str !== 'string') {\n    return '';\n  }\n\n  return str.trim().toLowerCase();\n}\n","import { useEmojisThatFailedToLoadState } from '../components/context/PickerContext';\nimport { DataEmoji } from '../dataUtils/DataTypes';\nimport { emojiUnified } from '../dataUtils/emojiSelectors';\n\nimport { useIsEmojiFiltered } from './useFilter';\n\nexport function useIsEmojiHidden(): (emoji: DataEmoji) => IsHiddenReturn {\n  const [emojisThatFailedToLoad] = useEmojisThatFailedToLoadState();\n  const isEmojiFiltered = useIsEmojiFiltered();\n\n  return (emoji: DataEmoji): IsHiddenReturn => {\n    const unified = emojiUnified(emoji);\n\n    const failedToLoad = emojisThatFailedToLoad.has(unified);\n    const filteredOut = isEmojiFiltered(unified);\n\n    return {\n      failedToLoad,\n      filteredOut,\n      hidden: failedToLoad || filteredOut\n    };\n  };\n}\n\ntype IsHiddenReturn = {\n  failedToLoad: boolean;\n  filteredOut: boolean;\n  hidden: boolean;\n};\n","import clsx from 'clsx';\nimport * as React from 'react';\n\ninterface Props\n  extends React.DetailedHTMLProps<\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    HTMLButtonElement\n  > {\n  className?: string;\n}\n\nexport function Button(props: Props) {\n  return (\n    <button\n      type=\"button\"\n      {...props}\n      className={clsx('epr-btn', props.className)}\n    >\n      {props.children}\n    </button>\n  );\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import clsx from 'clsx';\nimport * as React from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport { DataEmoji } from '../../dataUtils/DataTypes';\nimport {\n  emojiByUnified,\n  emojiHasVariations,\n  emojiName,\n  emojiNames,\n  emojiUrlByUnified,\n} from '../../dataUtils/emojiSelectors';\nimport { parseNativeEmoji } from '../../dataUtils/parseNativeEmoji';\nimport { EmojiStyle } from '../../types/exposedTypes';\nimport { Button } from '../atoms/Button';\nimport { useEmojisThatFailedToLoadState } from '../context/PickerContext';\nimport './Emoji.css';\n\ntype ClickableEmojiProps = Readonly<\n  BaseProps & {\n    hidden?: boolean;\n    showVariations?: boolean;\n    hiddenOnSearch?: boolean;\n    emoji: DataEmoji;\n  }\n>;\n\ntype BaseProps = {\n  emoji?: DataEmoji;\n  emojiStyle: EmojiStyle;\n  unified: string;\n  size?: number;\n  lazyLoad?: boolean;\n  getEmojiUrl?: GetEmojiUrl;\n};\n\nexport function ClickableEmoji({\n  emoji,\n  unified,\n  hidden,\n  hiddenOnSearch,\n  emojiStyle,\n  showVariations = true,\n  size,\n  lazyLoad,\n  getEmojiUrl,\n}: ClickableEmojiProps) {\n  const hasVariations = emojiHasVariations(emoji);\n\n  return (\n    <Button\n      className={clsx(ClassNames.emoji, {\n        [ClassNames.hidden]: hidden,\n        [ClassNames.hiddenOnSearch]: hiddenOnSearch,\n        [ClassNames.visible]: !hidden && !hiddenOnSearch,\n        [ClassNames.emojiHasVariatios]: hasVariations && showVariations,\n      })}\n      data-unified={unified}\n      // @ts-ignore - let's ignore the fact this is not a real react ref, ok?\n      aria-label={emojiName(emoji)}\n      data-full-name={emojiNames(emoji)}\n    >\n      <ViewOnlyEmoji\n        unified={unified}\n        emoji={emoji}\n        size={size}\n        emojiStyle={emojiStyle}\n        lazyLoad={lazyLoad}\n        getEmojiUrl={getEmojiUrl}\n      />\n    </Button>\n  );\n}\n\nexport function ViewOnlyEmoji({\n  emoji,\n  unified,\n  emojiStyle,\n  size,\n  lazyLoad,\n  getEmojiUrl = emojiUrlByUnified,\n}: BaseProps) {\n  const style = {} as React.CSSProperties;\n  if (size) {\n    style.width = style.height = style.fontSize = `${size}px`;\n  }\n\n  const emojiToRender = emoji ? emoji : emojiByUnified(unified);\n  if(!emojiToRender) {\n    return null\n  }\n\n  return (\n    <>\n      {emojiStyle === EmojiStyle.NATIVE ? (\n        <NativeEmoji unified={unified} style={style} />\n      ) : (\n        <EmojiImg\n          unified={unified}\n          style={style}\n          emoji={emojiToRender}\n          emojiStyle={emojiStyle}\n          lazyLoad={lazyLoad}\n          getEmojiUrl={getEmojiUrl}\n        />\n      )}\n    </>\n  );\n}\n\nfunction NativeEmoji({\n  unified,\n  style,\n}: {\n  unified: string;\n  style: React.CSSProperties;\n}) {\n  return (\n    <span\n      className={clsx(ClassNames.external, 'epr-emoji-native')}\n      data-unified={unified}\n      style={style}\n    >\n      {parseNativeEmoji(unified)}\n    </span>\n  );\n}\n\nfunction EmojiImg({\n  emoji,\n  unified,\n  emojiStyle,\n  style,\n  lazyLoad = false,\n  getEmojiUrl,\n}: {\n  emoji: DataEmoji;\n  unified: string;\n  emojiStyle: EmojiStyle;\n  style: React.CSSProperties;\n  lazyLoad?: boolean;\n  getEmojiUrl: GetEmojiUrl;\n}) {\n  const [, setEmojisThatFailedToLoad] = useEmojisThatFailedToLoadState();\n\n  return (\n    <img\n      src={getEmojiUrl(unified, emojiStyle)}\n      alt={emojiName(emoji)}\n      className={clsx(ClassNames.external, 'epr-emoji-img')}\n      loading={lazyLoad ? 'lazy' : 'eager'}\n      onError={onError}\n      style={style}\n    />\n  );\n\n  function onError() {\n    setEmojisThatFailedToLoad((prev) => new Set(prev).add(unified));\n  }\n}\n\nexport type GetEmojiUrl = (unified: string, style: EmojiStyle) => string;\n","import clsx from 'clsx';\nimport * as React from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport {\n  CategoryConfig,\n  categoryFromCategoryConfig,\n  categoryNameFromCategoryConfig\n} from '../../config/categoryConfig';\nimport './EmojiCategory.css';\n\ntype Props = Readonly<{\n  categoryConfig: CategoryConfig;\n  children?: React.ReactNode;\n  hidden?: boolean;\n  hiddenOnSearch?: boolean;\n}>;\n\nexport function EmojiCategory({\n  categoryConfig,\n  children,\n  hidden,\n  hiddenOnSearch\n}: Props) {\n  const category = categoryFromCategoryConfig(categoryConfig);\n  const categoryName = categoryNameFromCategoryConfig(categoryConfig);\n\n  return (\n    <li\n      className={clsx(ClassNames.category, {\n        [ClassNames.hidden]: hidden,\n        [ClassNames.hiddenOnSearch]: hiddenOnSearch\n      })}\n      data-name={category}\n      aria-label={categoryName}\n    >\n      <div className={ClassNames.label}>{categoryName}</div>\n      <div className={ClassNames.categoryContent}>{children}</div>\n    </li>\n  );\n}\n","import * as React from 'react';\n\nimport { CategoryConfig } from '../../config/categoryConfig';\nimport {\n  useEmojiStyleConfig,\n  useGetEmojiUrlConfig,\n  useSuggestedEmojisModeConfig,\n} from '../../config/useConfig';\nimport { emojiByUnified } from '../../dataUtils/emojiSelectors';\nimport { getsuggested } from '../../dataUtils/suggested';\nimport { useUpdateSuggested } from '../context/PickerContext';\nimport { ClickableEmoji } from '../emoji/Emoji';\n\nimport { EmojiCategory } from './EmojiCategory';\n\ntype Props = Readonly<{\n  categoryConfig: CategoryConfig;\n}>;\n\nexport function Suggested({ categoryConfig }: Props) {\n  const [suggestedUpdated] = useUpdateSuggested();\n  const suggestedEmojisModeConfig = useSuggestedEmojisModeConfig();\n  const getEmojiUrl = useGetEmojiUrlConfig();\n  const suggested = React.useMemo(\n    () => getsuggested(suggestedEmojisModeConfig) ?? [],\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [suggestedUpdated, suggestedEmojisModeConfig]\n  );\n  const emojiStyle = useEmojiStyleConfig();\n\n  return (\n    <EmojiCategory\n      categoryConfig={categoryConfig}\n      hiddenOnSearch\n      hidden={suggested.length === 0}\n    >\n      {suggested.map((suggestedItem) => {\n        const emoji = emojiByUnified(suggestedItem.original);\n\n        if (!emoji) {\n          return null;\n        }\n\n        return (\n          <ClickableEmoji\n            showVariations={false}\n            unified={suggestedItem.unified}\n            emojiStyle={emojiStyle}\n            emoji={emoji}\n            key={suggestedItem.unified}\n            getEmojiUrl={getEmojiUrl}\n          />\n        );\n      })}\n    </EmojiCategory>\n  );\n}\n","import * as React from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport {\n  Categories,\n  CategoryConfig,\n  categoryFromCategoryConfig\n} from '../../config/categoryConfig';\nimport {\n  useCategoriesConfig,\n  useEmojiStyleConfig,\n  useGetEmojiUrlConfig,\n  useLazyLoadEmojisConfig\n} from '../../config/useConfig';\nimport { emojisByCategory, emojiUnified } from '../../dataUtils/emojiSelectors';\nimport { useIsEmojiDisallowed } from '../../hooks/useDisallowedEmojis';\nimport { useIsEmojiHidden } from '../../hooks/useIsEmojiHidden';\nimport {\n  useActiveSkinToneState,\n  useIsPastInitialLoad\n} from '../context/PickerContext';\nimport { ClickableEmoji } from '../emoji/Emoji';\n\nimport { EmojiCategory } from './EmojiCategory';\nimport { Suggested } from './Suggested';\n\nimport './EmojiList.css';\n\nexport function EmojiList() {\n  const categories = useCategoriesConfig();\n\n  return (\n    <ul className={ClassNames.emojiList}>\n      {categories.map((categoryConfig, index) => {\n        const category = categoryFromCategoryConfig(categoryConfig);\n\n        if (category === Categories.SUGGESTED) {\n          return <Suggested key={category} categoryConfig={categoryConfig} />;\n        }\n\n        return (\n          <RenderCategory\n            key={category}\n            index={index}\n            category={category}\n            categoryConfig={categoryConfig}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction RenderCategory({\n  index,\n  category,\n  categoryConfig\n}: {\n  index: number;\n  category: Categories;\n  categoryConfig: CategoryConfig;\n}) {\n  const isEmojiHidden = useIsEmojiHidden();\n  const lazyLoadEmojis = useLazyLoadEmojisConfig();\n  const emojiStyle = useEmojiStyleConfig();\n  const isPastInitialLoad = useIsPastInitialLoad();\n  const [activeSkinTone] = useActiveSkinToneState();\n  const isEmojiDisallowed = useIsEmojiDisallowed();\n  const getEmojiUrl = useGetEmojiUrlConfig();\n\n  // Small trick to defer the rendering of all emoji categories until the first category is visible\n  // This way the user gets to actually see something and not wait for the whole picker to render.\n  const emojisToPush =\n    !isPastInitialLoad && index > 1 ? [] : emojisByCategory(category);\n\n  let hiddenCounter = 0;\n\n  const emojis = emojisToPush.map(emoji => {\n    const unified = emojiUnified(emoji, activeSkinTone);\n    const { failedToLoad, filteredOut, hidden } = isEmojiHidden(emoji);\n\n    const isDisallowed = isEmojiDisallowed(emoji);\n\n    if (hidden || isDisallowed) {\n      hiddenCounter++;\n    }\n\n    if (isDisallowed) {\n      return null;\n    }\n\n    return (\n      <ClickableEmoji\n        key={unified}\n        emoji={emoji}\n        unified={unified}\n        hidden={failedToLoad}\n        hiddenOnSearch={filteredOut}\n        emojiStyle={emojiStyle}\n        lazyLoad={lazyLoadEmojis}\n        getEmojiUrl={getEmojiUrl}\n      />\n    );\n  });\n\n  return (\n    <EmojiCategory\n      categoryConfig={categoryConfig}\n      // Indicates that there are no visible emojis\n      // Hence, the category should be hidden\n      hidden={hiddenCounter === emojis.length}\n    >\n      {emojis}\n    </EmojiCategory>\n  );\n}\n","import {\n  elementCountInRow,\n  elementIndexInRow,\n  getElementInNextRow,\n  getElementInPrevRow,\n  getElementInRow,\n  hasNextRow,\n  rowNumber\n} from './elementPositionInRow';\nimport { focusElement } from './focusElement';\nimport { scrollEmojiAboveLabel } from './scrollTo';\nimport {\n  allVisibleEmojis,\n  closestCategory,\n  firstVisibleEmoji,\n  lastVisibleEmoji,\n  nextCategory,\n  nextVisibleEmoji,\n  NullableElement,\n  prevCategory,\n  prevVisibleEmoji,\n  closestCategoryContent\n} from './selectors';\n\nexport function focusFirstVisibleEmoji(parent: NullableElement) {\n  const emoji = firstVisibleEmoji(parent);\n  focusElement(emoji);\n  scrollEmojiAboveLabel(emoji);\n}\n\nexport function focusAndClickFirstVisibleEmoji(parent: NullableElement) {\n  const firstEmoji = firstVisibleEmoji(parent);\n\n  focusElement(firstEmoji);\n  firstEmoji?.click();\n}\n\nexport function focusLastVisibleEmoji(parent: NullableElement) {\n  focusElement(lastVisibleEmoji(parent));\n}\n\nexport function focusNextVisibleEmoji(element: NullableElement) {\n  if (!element) {\n    return;\n  }\n\n  const next = nextVisibleEmoji(element);\n\n  if (!next) {\n    return focusFirstVisibleEmoji(nextCategory(element));\n  }\n\n  focusElement(next);\n  scrollEmojiAboveLabel(next);\n}\n\nexport function focusPrevVisibleEmoji(element: NullableElement) {\n  if (!element) {\n    return;\n  }\n\n  const prev = prevVisibleEmoji(element);\n\n  if (!prev) {\n    return focusLastVisibleEmoji(prevCategory(element));\n  }\n\n  focusElement(prev);\n  scrollEmojiAboveLabel(prev);\n}\n\nexport function focusVisibleEmojiOneRowUp(\n  element: NullableElement,\n  exitUp: () => void\n) {\n  if (!element) {\n    return;\n  }\n\n  const prev = visibleEmojiOneRowUp(element);\n\n  if (!prev) {\n    return exitUp();\n  }\n\n  focusElement(prev);\n  scrollEmojiAboveLabel(prev);\n}\n\nexport function focusVisibleEmojiOneRowDown(element: NullableElement) {\n  if (!element) {\n    return;\n  }\n\n  const next = visibleEmojiOneRowDown(element);\n\n  return focusElement(next);\n}\n\nfunction visibleEmojiOneRowUp(element: HTMLElement) {\n  if (!element) {\n    return null;\n  }\n\n  const categoryContent = closestCategoryContent(element);\n  const category = closestCategory(categoryContent);\n  const indexInRow = elementIndexInRow(categoryContent, element);\n  const row = rowNumber(categoryContent, element);\n  const countInRow = elementCountInRow(categoryContent, element);\n\n  if (row === 0) {\n    const prevVisibleCategory = prevCategory(category);\n\n    if (!prevVisibleCategory) {\n      return null;\n    }\n\n    return getElementInRow(\n      allVisibleEmojis(prevVisibleCategory),\n      -1, // last row\n      countInRow,\n      indexInRow\n    );\n  }\n\n  return getElementInPrevRow(\n    allVisibleEmojis(categoryContent),\n    row,\n    countInRow,\n    indexInRow\n  );\n}\n\nfunction visibleEmojiOneRowDown(element: HTMLElement) {\n  if (!element) {\n    return null;\n  }\n\n  const categoryContent = closestCategoryContent(element);\n  const category = closestCategory(categoryContent);\n  const indexInRow = elementIndexInRow(categoryContent, element);\n  const row = rowNumber(categoryContent, element);\n  const countInRow = elementCountInRow(categoryContent, element);\n  if (!hasNextRow(categoryContent, element)) {\n    const nextVisibleCategory = nextCategory(category);\n\n    if (!nextVisibleCategory) {\n      return null;\n    }\n\n    return getElementInRow(\n      allVisibleEmojis(nextVisibleCategory),\n      0,\n      countInRow,\n      indexInRow\n    );\n  }\n\n  const itemInNextRow = getElementInNextRow(\n    allVisibleEmojis(categoryContent),\n    row,\n    countInRow,\n    indexInRow\n  );\n\n  return itemInNextRow;\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\nimport { useEffect } from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport { focusFirstVisibleEmoji } from '../../DomUtils/keyboardNavigation';\nimport {\n  buttonFromTarget,\n  elementHeight,\n  emojiTrueOffsetTop,\n  emojiTruOffsetLeft\n} from '../../DomUtils/selectors';\nimport {\n  useEmojiStyleConfig,\n  useGetEmojiUrlConfig\n} from '../../config/useConfig';\nimport {\n  emojiHasVariations,\n  emojiUnified,\n  emojiVariations\n} from '../../dataUtils/emojiSelectors';\nimport {\n  useAnchoredEmojiRef,\n  useBodyRef,\n  useSetAnchoredEmojiRef,\n  useVariationPickerRef\n} from '../context/ElementRefContext';\nimport { useEmojiVariationPickerState } from '../context/PickerContext';\nimport { ClickableEmoji } from '../emoji/Emoji';\nimport './EmojiVariationPicker.css';\n\nenum Direction {\n  Up,\n  Down\n}\n\nexport function EmojiVariationPicker() {\n  const AnchoredEmojiRef = useAnchoredEmojiRef();\n  const VariationPickerRef = useVariationPickerRef();\n  const [emoji] = useEmojiVariationPickerState();\n  const emojiStyle = useEmojiStyleConfig();\n\n  const { getTop, getMenuDirection } = useVariationPickerTop(\n    VariationPickerRef\n  );\n  const setAnchoredEmojiRef = useSetAnchoredEmojiRef();\n  const getPointerStyle = usePointerStyle(VariationPickerRef);\n  const getEmojiUrl = useGetEmojiUrlConfig();\n\n  const button = buttonFromTarget(AnchoredEmojiRef.current);\n\n  const visible =\n    emoji &&\n    button &&\n    emojiHasVariations(emoji) &&\n    button.classList.contains(ClassNames.emojiHasVariatios);\n\n  useEffect(() => {\n    if (!visible) {\n      return;\n    }\n\n    focusFirstVisibleEmoji(VariationPickerRef.current);\n  }, [VariationPickerRef, visible, AnchoredEmojiRef]);\n\n  let top, pointerStyle;\n\n  if (!visible && AnchoredEmojiRef.current) {\n    setAnchoredEmojiRef(null);\n  } else {\n    top = getTop();\n    pointerStyle = getPointerStyle();\n  }\n\n  return (\n    <div\n      ref={VariationPickerRef}\n      className={clsx(ClassNames.variationPicker, {\n        visible,\n        'pointing-up': getMenuDirection() === Direction.Down\n      })}\n      style={{ top }}\n    >\n      {visible && emoji\n        ? [emojiUnified(emoji)]\n            .concat(emojiVariations(emoji))\n            .slice(0, 6)\n            .map(unified => (\n              <ClickableEmoji\n                key={unified}\n                emoji={emoji}\n                unified={unified}\n                emojiStyle={emojiStyle}\n                showVariations={false}\n                getEmojiUrl={getEmojiUrl}\n              />\n            ))\n        : null}\n      <div className=\"epr-emoji-pointer\" style={pointerStyle} />\n    </div>\n  );\n}\n\nfunction usePointerStyle(VariationPickerRef: React.RefObject<HTMLElement>) {\n  const AnchoredEmojiRef = useAnchoredEmojiRef();\n  return function getPointerStyle() {\n    const style: React.CSSProperties = {};\n    if (!VariationPickerRef.current) {\n      return style;\n    }\n\n    if (AnchoredEmojiRef.current) {\n      const button = buttonFromTarget(AnchoredEmojiRef.current);\n\n      const offsetLeft = emojiTruOffsetLeft(button);\n\n      if (!button) {\n        return style;\n      }\n\n      // half of the button\n      style.left = offsetLeft + button?.clientWidth / 2;\n    }\n\n    return style;\n  };\n}\n\nfunction useVariationPickerTop(\n  VariationPickerRef: React.RefObject<HTMLElement>\n) {\n  const AnchoredEmojiRef = useAnchoredEmojiRef();\n  const BodyRef = useBodyRef();\n  let direction = Direction.Up;\n\n  return {\n    getMenuDirection,\n    getTop\n  };\n\n  function getMenuDirection() {\n    return direction;\n  }\n\n  function getTop() {\n    direction = Direction.Up;\n    let emojiOffsetTop = 0;\n\n    if (!VariationPickerRef.current) {\n      return 0;\n    }\n\n    const height = elementHeight(VariationPickerRef.current);\n\n    if (AnchoredEmojiRef.current) {\n      const bodyRef = BodyRef.current;\n      const button = buttonFromTarget(AnchoredEmojiRef.current);\n\n      const buttonHeight = elementHeight(button);\n\n      emojiOffsetTop = emojiTrueOffsetTop(button);\n\n      const scrollTop = bodyRef?.scrollTop ?? 0;\n\n      if (scrollTop > emojiOffsetTop - height) {\n        direction = Direction.Down;\n        emojiOffsetTop += buttonHeight + height;\n      }\n    }\n\n    return emojiOffsetTop - height;\n  }\n}\n","import * as React from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport { useOnMouseMove } from '../../hooks/useDisallowMouseMove';\nimport { useMouseDownHandlers } from '../../hooks/useMouseDownHandlers';\nimport { useOnScroll } from '../../hooks/useOnScroll';\nimport { useBodyRef } from '../context/ElementRefContext';\n\nimport { EmojiList } from './EmojiList';\nimport { EmojiVariationPicker } from './EmojiVariationPicker';\n\nimport './Body.css';\n\nexport function Body() {\n  const BodyRef = useBodyRef();\n  useOnScroll(BodyRef);\n  useMouseDownHandlers(BodyRef);\n  useOnMouseMove();\n\n  return (\n    <div className={ClassNames.scrollBody} ref={BodyRef}>\n      <EmojiVariationPicker />\n      <EmojiList />\n    </div>\n  );\n}\n","import { useEffect } from 'react';\n\nimport { ElementRef } from '../components/context/ElementRefContext';\n\nimport { useCloseAllOpenToggles } from './useCloseAllOpenToggles';\n\nexport function useOnScroll(BodyRef: ElementRef) {\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n\n  useEffect(() => {\n    const bodyRef = BodyRef.current;\n    if (!bodyRef) {\n      return;\n    }\n\n    bodyRef.addEventListener('scroll', onScroll, {\n      passive: true\n    });\n\n    function onScroll() {\n      closeAllOpenToggles();\n    }\n\n    return () => {\n      bodyRef?.removeEventListener('scroll', onScroll);\n    };\n  }, [BodyRef, closeAllOpenToggles]);\n}\n","import { useSkinTonePickerLocationConfig } from '../config/useConfig';\nimport { SkinTonePickerLocation } from '../types/exposedTypes';\n\nexport function useShouldShowSkinTonePicker() {\n  const skinTonePickerLocationConfig = useSkinTonePickerLocationConfig();\n\n  return function shouldShowSkinTonePicker(location: SkinTonePickerLocation) {\n    return skinTonePickerLocationConfig === location;\n  };\n}\n\nexport function useIsSkinToneInSearch() {\n  const skinTonePickerLocationConfig = useSkinTonePickerLocationConfig();\n\n  return skinTonePickerLocationConfig === SkinTonePickerLocation.SEARCH;\n}\n\nexport function useIsSkinToneInPreview() {\n  const skinTonePickerLocationConfig = useSkinTonePickerLocationConfig();\n\n  return skinTonePickerLocationConfig === SkinTonePickerLocation.PREVIEW;\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\nimport './Flex.css';\n\nexport enum FlexDirection {\n  ROW = 'FlexRow',\n  COLUMN = 'FlexColumn'\n}\n\ntype Props = Readonly<{\n  children: React.ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n  direction?: FlexDirection;\n}>;\n\nexport default function Flex({\n  children,\n  className,\n  style = {},\n  direction = FlexDirection.ROW\n}: Props) {\n  return (\n    <div style={{ ...style }} className={clsx('Flex', className, direction)}>\n      {children}\n    </div>\n  );\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\n\ntype Props = Readonly<{\n  className?: string;\n  style?: React.CSSProperties;\n}>;\n\nexport default function Space({ className, style = {} }: Props) {\n  return <div style={{ flex: 1, ...style }} className={clsx(className)} />;\n}\n","import * as React from 'react';\n\ntype Props = Readonly<{\n  children: React.ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}>;\n\nexport default function Absolute({ children, className, style }: Props) {\n  return (\n    <div style={{ ...style, position: 'absolute' }} className={className}>\n      {children}\n    </div>\n  );\n}\n","import * as React from 'react';\n\ntype Props = Readonly<{\n  children: React.ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}>;\n\nexport default function Relative({ children, className, style }: Props) {\n  return (\n    <div style={{ ...style, position: 'relative' }} className={className}>\n      {children}\n    </div>\n  );\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport { useSkinTonesDisabledConfig } from '../../config/useConfig';\nimport skinToneVariations, {\n  skinTonesNamed\n} from '../../data/skinToneVariations';\nimport { useCloseAllOpenToggles } from '../../hooks/useCloseAllOpenToggles';\nimport { useFocusSearchInput } from '../../hooks/useFocus';\nimport { SkinTones } from '../../types/exposedTypes';\nimport Absolute from '../Layout/Absolute';\nimport Relative from '../Layout/Relative';\nimport { Button } from '../atoms/Button';\nimport { useSkinTonePickerRef } from '../context/ElementRefContext';\nimport {\n  useActiveSkinToneState,\n  useSkinToneFanOpenState\n} from '../context/PickerContext';\nimport './SkinTonePicker.css';\n\nconst ITEM_SIZE = 28;\n\ntype Props = {\n  direction?: SkinTonePickerDirection;\n};\n\nexport function SkinTonePickerMenu() {\n  return (\n    <Relative style={{ height: ITEM_SIZE }}>\n      <Absolute style={{ bottom: 0, right: 0 }}>\n        <SkinTonePicker direction={SkinTonePickerDirection.VERTICAL} />\n      </Absolute>\n    </Relative>\n  );\n}\n\nexport function SkinTonePicker({\n  direction = SkinTonePickerDirection.HORIZONTAL\n}: Props) {\n  const SkinTonePickerRef = useSkinTonePickerRef();\n  const isDisabled = useSkinTonesDisabledConfig();\n  const [isOpen, setIsOpen] = useSkinToneFanOpenState();\n  const [activeSkinTone, setActiveSkinTone] = useActiveSkinToneState();\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n  const focusSearchInput = useFocusSearchInput();\n\n  if (isDisabled) {\n    return null;\n  }\n\n  const fullWidth = `${ITEM_SIZE * skinToneVariations.length}px`;\n\n  const expandedSize = isOpen ? fullWidth : ITEM_SIZE + 'px';\n\n  const vertical = direction === SkinTonePickerDirection.VERTICAL;\n\n  return (\n    <Relative\n      className={clsx('epr-skin-tones', direction, {\n        [ClassNames.open]: isOpen\n      })}\n      style={\n        vertical\n          ? { flexBasis: expandedSize, height: expandedSize }\n          : { flexBasis: expandedSize }\n      }\n    >\n      <div className=\"epr-skin-tone-select\" ref={SkinTonePickerRef}>\n        {skinToneVariations.map((skinToneVariation, i) => {\n          const active = skinToneVariation === activeSkinTone;\n          return (\n            <Button\n              style={{\n                transform: clsx(\n                  vertical\n                    ? `translateY(-${i * (isOpen ? ITEM_SIZE : 0)}px)`\n                    : `translateX(-${i * (isOpen ? ITEM_SIZE : 0)}px)`,\n                  isOpen && active && 'scale(1.3)'\n                )\n              }}\n              onClick={() => {\n                if (isOpen) {\n                  setActiveSkinTone(skinToneVariation);\n                  focusSearchInput();\n                } else {\n                  setIsOpen(true);\n                }\n                closeAllOpenToggles();\n              }}\n              key={skinToneVariation}\n              className={clsx(`epr-tone-${skinToneVariation}`, 'epr-tone', {\n                [ClassNames.active]: active\n              })}\n              tabIndex={isOpen ? 0 : -1}\n              aria-pressed={active}\n              aria-label={`Skin tone ${\n                skinTonesNamed[skinToneVariation as SkinTones]\n              }`}\n            ></Button>\n          );\n        })}\n      </div>\n    </Relative>\n  );\n}\n\nexport enum SkinTonePickerDirection {\n  VERTICAL = ClassNames.vertical,\n  HORIZONTAL = ClassNames.horizontal\n}\n","import * as React from 'react';\nimport { useState } from 'react';\n\nimport {\n  useEmojiStyleConfig,\n  useGetEmojiUrlConfig,\n  usePreviewConfig\n} from '../../config/useConfig';\nimport {\n  emojiByUnified,\n  emojiName,\n  emojiUnified\n} from '../../dataUtils/emojiSelectors';\nimport { useEmojiPreviewEvents } from '../../hooks/useEmojiPreviewEvents';\nimport { useIsSkinToneInPreview } from '../../hooks/useShouldShowSkinTonePicker';\nimport Flex from '../Layout/Flex';\nimport Space from '../Layout/Space';\nimport { useEmojiVariationPickerState } from '../context/PickerContext';\nimport { ViewOnlyEmoji } from '../emoji/Emoji';\nimport './Preview.css';\nimport { SkinTonePickerMenu } from '../header/SkinTonePicker';\n\nexport function Preview() {\n  const previewConfig = usePreviewConfig();\n  const isSkinToneInPreview = useIsSkinToneInPreview();\n\n  if (!previewConfig.showPreview) {\n    return null;\n  }\n\n  return (\n    <Flex className=\"epr-preview\">\n      <PreviewBody />\n      <Space />\n      {isSkinToneInPreview ? <SkinTonePickerMenu /> : null}\n    </Flex>\n  );\n}\n\nexport function PreviewBody() {\n  const previewConfig = usePreviewConfig();\n  const [previewEmoji, setPreviewEmoji] = useState<PreviewEmoji>(null);\n  const emojiStyle = useEmojiStyleConfig();\n  const [variationPickerEmoji] = useEmojiVariationPickerState();\n  const getEmojiUrl = useGetEmojiUrlConfig();\n\n  useEmojiPreviewEvents(previewConfig.showPreview, setPreviewEmoji);\n\n  const emoji = emojiByUnified(previewEmoji?.originalUnified);\n\n  const show = emoji != null && previewEmoji != null;\n\n  return <PreviewContent />;\n\n  function PreviewContent() {\n    const defaultEmoji = variationPickerEmoji ?? emojiByUnified(previewConfig.defaultEmoji)\n    if (!defaultEmoji) {\n      return null\n    }\n    const defaultText = variationPickerEmoji\n      ? emojiName(variationPickerEmoji)\n      : previewConfig.defaultCaption;\n\n    return (\n      <>\n        <div>\n          {show ? (\n            <ViewOnlyEmoji\n              unified={previewEmoji?.unified as string}\n              emoji={emoji}\n              emojiStyle={emojiStyle}\n              size={45}\n              getEmojiUrl={getEmojiUrl}\n            />\n          ) : defaultEmoji ? (\n            <ViewOnlyEmoji\n              unified={emojiUnified(defaultEmoji)}\n              emoji={defaultEmoji}\n              emojiStyle={emojiStyle}\n              size={45}\n              getEmojiUrl={getEmojiUrl}\n            />\n          ) : null}\n        </div>\n        {show ? (\n          <div className=\"epr-preview-emoji-label\">\n            {emojiName(emoji)}\n          </div>\n        ) : (\n          <div className=\"epr-preview-emoji-label\">{defaultText}</div>\n        )}\n      </>\n    );\n  }\n}\n\nexport type PreviewEmoji = null | {\n  unified: string;\n  originalUnified: string;\n};\n","import * as React from 'react';\nimport { useEffect } from 'react';\n\nimport { focusElement } from '../DomUtils/focusElement';\nimport {\n  buttonFromTarget,\n  originalUnifiedFromEmojiElement,\n  unifiedFromEmojiElement\n} from '../DomUtils/selectors';\nimport { useBodyRef } from '../components/context/ElementRefContext';\nimport { PreviewEmoji } from '../components/footer/Preview';\n\nimport {\n  useAllowMouseMove,\n  useIsMouseDisallowed\n} from './useDisallowMouseMove';\n\nexport function useEmojiPreviewEvents(\n  allow: boolean,\n  setPreviewEmoji: React.Dispatch<React.SetStateAction<PreviewEmoji>>\n) {\n  const BodyRef = useBodyRef();\n  const isMouseDisallowed = useIsMouseDisallowed();\n  const allowMouseMove = useAllowMouseMove();\n\n  useEffect(() => {\n    if (!allow) {\n      return;\n    }\n    const bodyRef = BodyRef.current;\n\n    bodyRef?.addEventListener('keydown', onEscape, {\n      passive: true\n    });\n\n    bodyRef?.addEventListener('mouseover', onMouseOver, true);\n\n    bodyRef?.addEventListener('focus', onEnter, true);\n\n    bodyRef?.addEventListener('mouseout', onLeave, {\n      passive: true\n    });\n    bodyRef?.addEventListener('blur', onLeave, true);\n\n\n    function onEnter(e: FocusEvent) {\n      const button = buttonFromTarget(e.target as HTMLElement);\n\n      if (!button) {\n        return onLeave();\n      }\n\n      const unified = unifiedFromEmojiElement(button);\n      const originalUnified = originalUnifiedFromEmojiElement(button);\n\n      if (!unified || !originalUnified) {\n        return onLeave();\n      }\n\n      setPreviewEmoji({\n        unified,\n        originalUnified\n      });\n    }\n    function onLeave(e?: FocusEvent | MouseEvent) {\n      if (e) {\n        const relatedTarget = e.relatedTarget as HTMLElement;\n\n        if (!buttonFromTarget(relatedTarget)) {\n          return setPreviewEmoji(null);\n        }\n      }\n\n      setPreviewEmoji(null);\n    }\n    function onEscape(e: KeyboardEvent) {\n      if (e.key === 'Escape') {\n        setPreviewEmoji(null);\n      }\n    }\n\n    function onMouseOver(e: MouseEvent) {\n      if (isMouseDisallowed()) {\n        return;\n      }\n\n      const button = buttonFromTarget(e.target as HTMLElement);\n\n      if (button) {\n        focusElement(button);\n      }\n    }\n\n\n    return () => {\n      bodyRef?.removeEventListener('mouseover', onMouseOver);\n      bodyRef?.removeEventListener('mouseout', onLeave);\n      bodyRef?.removeEventListener('focus', onEnter, true);\n      bodyRef?.removeEventListener('blur', onLeave, true);\n      bodyRef?.removeEventListener('keydown', onEscape);\n    };\n  }, [BodyRef, allow, setPreviewEmoji, isMouseDisallowed, allowMouseMove]);\n}\n","export function categoryNameFromDom($category: Element | null): string | null {\n  return $category?.getAttribute('data-name') ?? null;\n}\n","import { useSearchTermState } from '../components/context/PickerContext';\n\nexport default function useIsSearchMode(): boolean {\n  const [searchTerm] = useSearchTermState();\n\n  return !!searchTerm;\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\nimport { useState } from 'react';\nimport './CategoryNavigation.css';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport {\n  categoryFromCategoryConfig,\n  categoryNameFromCategoryConfig\n} from '../../config/categoryConfig';\nimport { useCategoriesConfig } from '../../config/useConfig';\nimport { useActiveCategoryScrollDetection } from '../../hooks/useActiveCategoryScrollDetection';\nimport useIsSearchMode from '../../hooks/useIsSearchMode';\nimport { useScrollCategoryIntoView } from '../../hooks/useScrollCategoryIntoView';\nimport { Button } from '../atoms/Button';\nimport { useCategoryNavigationRef } from '../context/ElementRefContext';\n\nexport function CategoryNavigation() {\n  const [activeCategory, setActiveCategory] = useState<string | null>(null);\n  const scrollCategoryIntoView = useScrollCategoryIntoView();\n  useActiveCategoryScrollDetection(setActiveCategory);\n  const isSearchMode = useIsSearchMode();\n\n  const categoriesConfig = useCategoriesConfig();\n  const CategoryNavigationRef = useCategoryNavigationRef();\n\n  return (\n    <div className=\"epr-category-nav\" ref={CategoryNavigationRef}>\n      {categoriesConfig.map(categoryConfig => {\n        const category = categoryFromCategoryConfig(categoryConfig);\n        return (\n          <Button\n            tabIndex={isSearchMode ? -1 : 0}\n            className={clsx('epr-cat-btn', `epr-icn-${category}`, {\n              [ClassNames.active]: category === activeCategory\n            })}\n            key={category}\n            onClick={() => {\n              setActiveCategory(category);\n              scrollCategoryIntoView(category);\n            }}\n            aria-label={categoryNameFromCategoryConfig(categoryConfig)}\n          />\n        );\n      })}\n    </div>\n  );\n}\n","import { scrollTo } from '../DomUtils/scrollTo';\nimport { NullableElement } from '../DomUtils/selectors';\nimport {\n  useBodyRef,\n  usePickerMainRef\n} from '../components/context/ElementRefContext';\n\nexport function useScrollCategoryIntoView() {\n  const BodyRef = useBodyRef();\n  const PickerMainRef = usePickerMainRef();\n\n  return function scrollCategoryIntoView(category: string): void {\n    if (!BodyRef.current) {\n      return;\n    }\n    const $category = BodyRef.current?.querySelector(\n      `[data-name=\"${category}\"]`\n    ) as NullableElement;\n\n    if (!$category) {\n      return;\n    }\n\n    const offsetTop = $category.offsetTop || 0;\n\n    scrollTo(PickerMainRef.current, offsetTop);\n  };\n}\n","import { useEffect } from 'react';\n\nimport { categoryNameFromDom } from '../DomUtils/categoryNameFromDom';\nimport { asSelectors, ClassNames } from '../DomUtils/classNames';\nimport { useBodyRef } from '../components/context/ElementRefContext';\n\nexport function useActiveCategoryScrollDetection(\n  setActiveCategory: (category: string) => void\n) {\n  const BodyRef = useBodyRef();\n\n  useEffect(() => {\n    const visibleCategories = new Map();\n    const bodyRef = BodyRef.current;\n    const observer = new IntersectionObserver(\n      entries => {\n        if (!bodyRef) {\n          return;\n        }\n\n        for (const entry of entries) {\n          const id = categoryNameFromDom(entry.target);\n          visibleCategories.set(id, entry.intersectionRatio);\n        }\n\n        const ratios = Array.from(visibleCategories);\n        const lastCategory = ratios[ratios.length - 1];\n\n        if (lastCategory[1] == 1) {\n          return setActiveCategory(lastCategory[0]);\n        }\n\n        for (const [id, ratio] of ratios) {\n          if (ratio) {\n            setActiveCategory(id);\n            break;\n          }\n        }\n      },\n      {\n        threshold: [0, 1]\n      }\n    );\n    bodyRef?.querySelectorAll(asSelectors(ClassNames.category)).forEach(el => {\n      observer.observe(el);\n    });\n  }, [BodyRef, setActiveCategory]);\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\nimport { useState } from 'react';\n\nimport { asSelectors, ClassNames } from '../../DomUtils/classNames';\nimport {\n  useAutoFocusSearchConfig,\n  useSearchDisabledConfig,\n  useSearchPlaceHolderConfig\n} from '../../config/useConfig';\nimport { useCloseAllOpenToggles } from '../../hooks/useCloseAllOpenToggles';\nimport {\n  getNormalizedSearchTerm,\n  useClearSearch,\n  useFilter\n} from '../../hooks/useFilter';\nimport { useIsSkinToneInSearch } from '../../hooks/useShouldShowSkinTonePicker';\nimport Flex from '../Layout/Flex';\nimport Relative from '../Layout/Relative';\nimport { Button } from '../atoms/Button';\nimport { useSearchInputRef } from '../context/ElementRefContext';\n\nimport './Search.css';\nimport { SkinTonePicker } from './SkinTonePicker';\n\nexport function SearchContainer() {\n  const searchDisabled = useSearchDisabledConfig();\n\n  const isSkinToneInSearch = useIsSkinToneInSearch();\n\n  if (searchDisabled) {\n    return null;\n  }\n\n  return (\n    <Flex className=\"epr-header-overlay\">\n      <Search />\n\n      {isSkinToneInSearch ? <SkinTonePicker /> : null}\n    </Flex>\n  );\n}\n\nexport function Search() {\n  const [inc, setInc] = useState(0);\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n  const SearchInputRef = useSearchInputRef();\n  const clearSearch = useClearSearch();\n  const placeholder = useSearchPlaceHolderConfig();\n  const autoFocus = useAutoFocusSearchConfig();\n  const { onChange } = useFilter();\n\n  const input = SearchInputRef?.current;\n  const value = input?.value;\n\n  return (\n    <Relative className=\"epr-search-container\">\n      <CssSearch value={value} />\n      <input\n        // eslint-disable-next-line jsx-a11y/no-autofocus\n        autoFocus={autoFocus}\n        aria-label={'Type to search for an emoji'}\n        onFocus={closeAllOpenToggles}\n        className=\"epr-search\"\n        type=\"text\"\n        placeholder={placeholder}\n        onChange={event => {\n          setInc(inc + 1);\n          setTimeout(() => {\n            onChange(event?.target?.value ?? value);\n          });\n        }}\n        ref={SearchInputRef}\n      />\n      <div className=\"epr-icn-search\" />\n      <Button\n        className={clsx('epr-btn-clear-search', 'epr-visible-on-search-only')}\n        onClick={clearSearch}\n      >\n        <div className=\"epr-icn-clear-search\" />\n      </Button>\n    </Relative>\n  );\n}\n\nconst CSS_SEARCH_SELECTOR = `${asSelectors(\n  ClassNames.emojiPicker\n)} ${asSelectors(ClassNames.emojiList)}`;\n\nfunction CssSearch({ value }: { value: undefined | string }) {\n  if (!value) {\n    return null;\n  }\n\n  const searchQuery = `button[data-full-name*=\"${getNormalizedSearchTerm(\n    value\n  )}\"]`;\n\n  return (\n    <style>{`\n        ${CSS_SEARCH_SELECTOR} ${asSelectors(\n      ClassNames.category\n    )}:not(:has(${searchQuery})) {\n        display: none;\n      }\n\n        ${CSS_SEARCH_SELECTOR} button${asSelectors(\n      ClassNames.emoji\n    )}:not(${searchQuery}) {\n        display: none;\n      }\n  `}</style>\n  );\n}\n","import { useCallback, useEffect, useMemo } from 'react';\n\nimport { hasNextElementSibling } from '../DomUtils/elementPositionInRow';\nimport {\n  focusNextElementSibling,\n  focusPrevElementSibling\n} from '../DomUtils/focusElement';\nimport { getActiveElement } from '../DomUtils/getActiveElement';\nimport {\n  focusAndClickFirstVisibleEmoji,\n  focusFirstVisibleEmoji,\n  focusNextVisibleEmoji,\n  focusPrevVisibleEmoji,\n  focusVisibleEmojiOneRowDown,\n  focusVisibleEmojiOneRowUp\n} from '../DomUtils/keyboardNavigation';\nimport { useScrollTo } from '../DomUtils/scrollTo';\nimport { buttonFromTarget } from '../DomUtils/selectors';\nimport {\n  useBodyRef,\n  useCategoryNavigationRef,\n  usePickerMainRef,\n  useSearchInputRef,\n  useSkinTonePickerRef\n} from '../components/context/ElementRefContext';\nimport { useSkinToneFanOpenState } from '../components/context/PickerContext';\n\nimport {\n  useCloseAllOpenToggles,\n  useHasOpenToggles\n} from './useCloseAllOpenToggles';\nimport { useDisallowMouseMove } from './useDisallowMouseMove';\nimport { useAppendSearch, useClearSearch } from './useFilter';\nimport {\n  useFocusCategoryNavigation,\n  useFocusSearchInput,\n  useFocusSkinTonePicker\n} from './useFocus';\nimport useIsSearchMode from './useIsSearchMode';\nimport useSetVariationPicker from './useSetVariationPicker';\nimport {\n  useIsSkinToneInPreview,\n  useIsSkinToneInSearch\n} from './useShouldShowSkinTonePicker';\n\nenum KeyboardEvents {\n  ArrowDown = 'ArrowDown',\n  ArrowUp = 'ArrowUp',\n  ArrowLeft = 'ArrowLeft',\n  ArrowRight = 'ArrowRight',\n  Escape = 'Escape',\n  Enter = 'Enter',\n  Space = ' '\n}\n\nexport function useKeyboardNavigation() {\n  usePickerMainKeyboardEvents();\n  useSearchInputKeyboardEvents();\n  useSkinTonePickerKeyboardEvents();\n  useCategoryNavigationKeyboardEvents();\n  useBodyKeyboardEvents();\n}\n\nfunction usePickerMainKeyboardEvents() {\n  const PickerMainRef = usePickerMainRef();\n  const clearSearch = useClearSearch();\n  const scrollTo = useScrollTo();\n  const SearchInputRef = useSearchInputRef();\n  const focusSearchInput = useFocusSearchInput();\n  const hasOpenToggles = useHasOpenToggles();\n  const disallowMouseMove = useDisallowMouseMove();\n\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n\n  const onKeyDown = useMemo(\n    () =>\n      function onKeyDown(event: KeyboardEvent) {\n        const { key } = event;\n\n        disallowMouseMove();\n        switch (key) {\n          // eslint-disable-next-line no-fallthrough\n          case KeyboardEvents.Escape:\n            event.preventDefault();\n            if (hasOpenToggles()) {\n              closeAllOpenToggles();\n              return;\n            }\n            clearSearch();\n            scrollTo(0);\n            focusSearchInput();\n            break;\n        }\n      },\n    [\n      scrollTo,\n      clearSearch,\n      closeAllOpenToggles,\n      focusSearchInput,\n      hasOpenToggles,\n      disallowMouseMove\n    ]\n  );\n\n  useEffect(() => {\n    const current = PickerMainRef.current;\n\n    if (!current) {\n      return;\n    }\n\n    current.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      current.removeEventListener('keydown', onKeyDown);\n    };\n  }, [PickerMainRef, SearchInputRef, scrollTo, onKeyDown]);\n}\n\nfunction useSearchInputKeyboardEvents() {\n  const focusSkinTonePicker = useFocusSkinTonePicker();\n  const PickerMainRef = usePickerMainRef();\n  const BodyRef = useBodyRef();\n  const SearchInputRef = useSearchInputRef();\n  const [, setSkinToneFanOpenState] = useSkinToneFanOpenState();\n  const goDownFromSearchInput = useGoDownFromSearchInput();\n  const isSkinToneInSearch = useIsSkinToneInSearch();\n\n  const onKeyDown = useMemo(\n    () =>\n      function onKeyDown(event: KeyboardEvent) {\n        const { key } = event;\n\n        switch (key) {\n          case KeyboardEvents.ArrowRight:\n            if (!isSkinToneInSearch) {\n              return;\n            }\n            event.preventDefault();\n            setSkinToneFanOpenState(true);\n            focusSkinTonePicker();\n            break;\n          case KeyboardEvents.ArrowDown:\n            event.preventDefault();\n            goDownFromSearchInput();\n            break;\n          case KeyboardEvents.Enter:\n            event.preventDefault();\n            focusAndClickFirstVisibleEmoji(BodyRef.current);\n            break;\n        }\n      },\n    [\n      focusSkinTonePicker,\n      goDownFromSearchInput,\n      setSkinToneFanOpenState,\n      BodyRef,\n      isSkinToneInSearch\n    ]\n  );\n\n  useEffect(() => {\n    const current = SearchInputRef.current;\n\n    if (!current) {\n      return;\n    }\n\n    current.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      current.removeEventListener('keydown', onKeyDown);\n    };\n  }, [PickerMainRef, SearchInputRef, onKeyDown]);\n}\n\nfunction useSkinTonePickerKeyboardEvents() {\n  const SkinTonePickerRef = useSkinTonePickerRef();\n  const focusSearchInput = useFocusSearchInput();\n  const SearchInputRef = useSearchInputRef();\n  const goDownFromSearchInput = useGoDownFromSearchInput();\n  const [isOpen, setIsOpen] = useSkinToneFanOpenState();\n  const isSkinToneInPreview = useIsSkinToneInPreview();\n  const isSkinToneInSearch = useIsSkinToneInSearch();\n  const onType = useOnType();\n\n  const onKeyDown = useMemo(\n    () =>\n      // eslint-disable-next-line complexity\n      function onKeyDown(event: KeyboardEvent) {\n        const { key } = event;\n\n        if (isSkinToneInSearch) {\n          switch (key) {\n            case KeyboardEvents.ArrowLeft:\n              event.preventDefault();\n              if (!isOpen) {\n                return focusSearchInput();\n              }\n              focusNextSkinTone(focusSearchInput);\n              break;\n            case KeyboardEvents.ArrowRight:\n              event.preventDefault();\n              if (!isOpen) {\n                return focusSearchInput();\n              }\n              focusPrevSkinTone();\n              break;\n            case KeyboardEvents.ArrowDown:\n              event.preventDefault();\n              if (isOpen) {\n                setIsOpen(false);\n              }\n              goDownFromSearchInput();\n              break;\n            default:\n              onType(event);\n              break;\n          }\n        }\n\n        if (isSkinToneInPreview) {\n          switch (key) {\n            case KeyboardEvents.ArrowUp:\n              event.preventDefault();\n              if (!isOpen) {\n                return focusSearchInput();\n              }\n              focusNextSkinTone(focusSearchInput);\n              break;\n            case KeyboardEvents.ArrowDown:\n              event.preventDefault();\n              if (!isOpen) {\n                return focusSearchInput();\n              }\n              focusPrevSkinTone();\n              break;\n            default:\n              onType(event);\n              break;\n          }\n        }\n      },\n    [\n      isOpen,\n      focusSearchInput,\n      setIsOpen,\n      goDownFromSearchInput,\n      onType,\n      isSkinToneInPreview,\n      isSkinToneInSearch\n    ]\n  );\n\n  useEffect(() => {\n    const current = SkinTonePickerRef.current;\n\n    if (!current) {\n      return;\n    }\n\n    current.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      current.removeEventListener('keydown', onKeyDown);\n    };\n  }, [SkinTonePickerRef, SearchInputRef, isOpen, onKeyDown]);\n}\n\nfunction useCategoryNavigationKeyboardEvents() {\n  const focusSearchInput = useFocusSearchInput();\n  const CategoryNavigationRef = useCategoryNavigationRef();\n  const BodyRef = useBodyRef();\n  const onType = useOnType();\n\n  const onKeyDown = useMemo(\n    () =>\n      function onKeyDown(event: KeyboardEvent) {\n        const { key } = event;\n\n        switch (key) {\n          case KeyboardEvents.ArrowUp:\n            event.preventDefault();\n            focusSearchInput();\n            break;\n          case KeyboardEvents.ArrowRight:\n            event.preventDefault();\n            focusNextElementSibling(getActiveElement());\n            break;\n          case KeyboardEvents.ArrowLeft:\n            event.preventDefault();\n            focusPrevElementSibling(getActiveElement());\n            break;\n          case KeyboardEvents.ArrowDown:\n            event.preventDefault();\n            focusFirstVisibleEmoji(BodyRef.current);\n            break;\n          default:\n            onType(event);\n            break;\n        }\n      },\n    [BodyRef, focusSearchInput, onType]\n  );\n\n  useEffect(() => {\n    const current = CategoryNavigationRef.current;\n\n    if (!current) {\n      return;\n    }\n\n    current.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      current.removeEventListener('keydown', onKeyDown);\n    };\n  }, [CategoryNavigationRef, BodyRef, onKeyDown]);\n}\n\nfunction useBodyKeyboardEvents() {\n  const BodyRef = useBodyRef();\n  const goUpFromBody = useGoUpFromBody();\n  const setVariationPicker = useSetVariationPicker();\n  const hasOpenToggles = useHasOpenToggles();\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n\n  const onType = useOnType();\n\n  const onKeyDown = useMemo(\n    () =>\n      // eslint-disable-next-line complexity\n      function onKeyDown(event: KeyboardEvent) {\n        const { key } = event;\n\n        const activeElement = buttonFromTarget(getActiveElement());\n\n        switch (key) {\n          case KeyboardEvents.ArrowRight:\n            event.preventDefault();\n            focusNextVisibleEmoji(activeElement);\n            break;\n          case KeyboardEvents.ArrowLeft:\n            event.preventDefault();\n            focusPrevVisibleEmoji(activeElement);\n            break;\n          case KeyboardEvents.ArrowDown:\n            event.preventDefault();\n            if (hasOpenToggles()) {\n              closeAllOpenToggles();\n              break;\n            }\n            focusVisibleEmojiOneRowDown(activeElement);\n            break;\n          case KeyboardEvents.ArrowUp:\n            event.preventDefault();\n            if (hasOpenToggles()) {\n              closeAllOpenToggles();\n              break;\n            }\n            focusVisibleEmojiOneRowUp(activeElement, goUpFromBody);\n            break;\n          case KeyboardEvents.Space:\n            event.preventDefault();\n            setVariationPicker(event.target as HTMLElement);\n            break;\n          default:\n            onType(event);\n            break;\n        }\n      },\n    [\n      goUpFromBody,\n      onType,\n      setVariationPicker,\n      hasOpenToggles,\n      closeAllOpenToggles\n    ]\n  );\n\n  useEffect(() => {\n    const current = BodyRef.current;\n\n    if (!current) {\n      return;\n    }\n\n    current.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      current.removeEventListener('keydown', onKeyDown);\n    };\n  }, [BodyRef, onKeyDown]);\n}\n\nfunction useGoDownFromSearchInput() {\n  const focusCategoryNavigation = useFocusCategoryNavigation();\n  const isSearchMode = useIsSearchMode();\n  const BodyRef = useBodyRef();\n\n  return useCallback(\n    function goDownFromSearchInput() {\n      if (isSearchMode) {\n        return focusFirstVisibleEmoji(BodyRef.current);\n      }\n      return focusCategoryNavigation();\n    },\n    [BodyRef, focusCategoryNavigation, isSearchMode]\n  );\n}\n\nfunction useGoUpFromBody() {\n  const focusSearchInput = useFocusSearchInput();\n  const focusCategoryNavigation = useFocusCategoryNavigation();\n  const isSearchMode = useIsSearchMode();\n\n  return useCallback(\n    function goUpFromEmoji() {\n      if (isSearchMode) {\n        return focusSearchInput();\n      }\n      return focusCategoryNavigation();\n    },\n    [focusSearchInput, isSearchMode, focusCategoryNavigation]\n  );\n}\n\nfunction focusNextSkinTone(exitLeft: () => void) {\n  const currentSkinTone = getActiveElement();\n\n  if (!currentSkinTone) {\n    return;\n  }\n\n  if (!hasNextElementSibling(currentSkinTone)) {\n    exitLeft();\n  }\n\n  focusNextElementSibling(currentSkinTone);\n}\n\nfunction focusPrevSkinTone() {\n  const currentSkinTone = getActiveElement();\n\n  if (!currentSkinTone) {\n    return;\n  }\n\n  focusPrevElementSibling(currentSkinTone);\n}\n\nfunction useOnType() {\n  const appendSearch = useAppendSearch();\n  const focusSearchInput = useFocusSearchInput();\n  const closeAllOpenToggles = useCloseAllOpenToggles();\n\n  return function onType(event: KeyboardEvent) {\n    const { key } = event;\n\n    if (hasModifier(event)) {\n      return;\n    }\n\n    if (key.match(/(^[a-zA-Z0-9]$){1}/)) {\n      event.preventDefault();\n      closeAllOpenToggles();\n      focusSearchInput();\n      appendSearch(key);\n    }\n  };\n}\n\nfunction hasModifier(event: KeyboardEvent): boolean {\n  const { metaKey, ctrlKey, altKey } = event;\n\n  return metaKey || ctrlKey || altKey;\n}\n","import * as React from 'react';\n\nimport Relative from '../Layout/Relative';\nimport { CategoryNavigation } from '../navigation/CategoryNavigation';\n\nimport './Header.css';\nimport { SearchContainer } from './Search';\n\nexport function Header() {\n  return (\n    <Relative className=\"epr-header\">\n      <SearchContainer />\n      <CategoryNavigation />\n    </Relative>\n  );\n}\n","import { NullableElement } from './selectors';\n\nexport function getActiveElement() {\n  return document.activeElement as NullableElement;\n}\n","import { GetEmojiUrl } from '../components/emoji/Emoji';\nimport { DataEmoji } from '../dataUtils/DataTypes';\nimport { emojiUnified, emojiVariations } from '../dataUtils/emojiSelectors';\nimport { EmojiStyle } from '../types/exposedTypes';\n\nexport function preloadEmoji(\n  getEmojiUrl: GetEmojiUrl,\n  emoji: undefined | DataEmoji,\n  emojiStyle: EmojiStyle\n): void {\n  if (!emoji) {\n    return;\n  }\n\n  if (emojiStyle === EmojiStyle.NATIVE) {\n    return;\n  }\n\n  const unified = emojiUnified(emoji);\n\n  if (preloadedEmojs.has(unified)) {\n    return;\n  }\n\n  emojiVariations(emoji).forEach((variation) => {\n    const emojiUrl = getEmojiUrl(variation, emojiStyle);\n    preloadImage(emojiUrl);\n  });\n\n  preloadedEmojs.add(unified);\n}\n\nexport const preloadedEmojs: Set<string> = new Set();\n\nfunction preloadImage(url: string): void {\n  const image = new Image();\n  image.src = url;\n}\n","import clsx from 'clsx';\nimport * as React from 'react';\n\nimport { ClassNames } from '../../DomUtils/classNames';\nimport { usePickerSizeConfig, useThemeConfig } from '../../config/useConfig';\nimport useIsSearchMode from '../../hooks/useIsSearchMode';\nimport { useKeyboardNavigation } from '../../hooks/useKeyboardNavigation';\nimport { useOnFocus } from '../../hooks/useOnFocus';\nimport { Theme } from '../../types/exposedTypes';\nimport { usePickerMainRef } from '../context/ElementRefContext';\nimport { PickerContextProvider } from '../context/PickerContext';\nimport './PickerMain.css';\n\ntype Props = Readonly<{\n  children: React.ReactNode;\n}>;\n\nexport default function PickerMain({ children }: Props) {\n  return (\n    <PickerContextProvider>\n      <PickerRootElement>{children}</PickerRootElement>\n    </PickerContextProvider>\n  );\n}\n\ntype RootProps = Readonly<{\n  children: React.ReactNode;\n}>;\n\nfunction PickerRootElement({ children }: RootProps) {\n  const theme = useThemeConfig();\n  const searchModeActive = useIsSearchMode();\n  const PickerMainRef = usePickerMainRef();\n  const { height, width } = usePickerSizeConfig();\n\n  useKeyboardNavigation();\n  useOnFocus();\n\n  const style = {\n    height,\n    width\n  };\n\n  return (\n    <aside\n      className={clsx(ClassNames.emojiPicker, 'epr-main', {\n        [ClassNames.searchActive]: searchModeActive,\n        'epr-dark-theme': theme === Theme.DARK\n      })}\n      ref={PickerMainRef}\n      style={style}\n    >\n      {children}\n    </aside>\n  );\n}\n","import { useEffect } from 'react';\n\nimport { buttonFromTarget, emojiFromElement } from '../DomUtils/selectors';\nimport { useBodyRef } from '../components/context/ElementRefContext';\nimport { useEmojiStyleConfig, useGetEmojiUrlConfig } from '../config/useConfig';\nimport { emojiHasVariations } from '../dataUtils/emojiSelectors';\nimport { EmojiStyle } from '../types/exposedTypes';\n\nimport { preloadEmoji } from './preloadEmoji';\n\nexport function useOnFocus() {\n  const BodyRef = useBodyRef();\n  const emojiStyle = useEmojiStyleConfig();\n  const getEmojiUrl = useGetEmojiUrlConfig();\n\n  useEffect(() => {\n    if (emojiStyle === EmojiStyle.NATIVE) {\n      return;\n    }\n\n    const bodyRef = BodyRef.current;\n\n    bodyRef?.addEventListener('focusin', onFocus);\n\n    return () => {\n      bodyRef?.removeEventListener('focusin', onFocus);\n    };\n\n    function onFocus(event: FocusEvent) {\n      const button = buttonFromTarget(event.target as HTMLElement);\n\n      if (!button) {\n        return;\n      }\n\n      const [emoji] = emojiFromElement(button);\n\n      if (!emoji) {\n        return;\n      }\n\n      if (emojiHasVariations(emoji)) {\n        preloadEmoji(getEmojiUrl, emoji, emojiStyle);\n      }\n    }\n  }, [BodyRef, emojiStyle, getEmojiUrl]);\n}\n","import * as React from 'react';\n\nimport { Body } from './components/body/Body';\nimport { ElementRefContextProvider } from './components/context/ElementRefContext';\nimport { PickerConfigProvider } from './components/context/PickerConfigContext';\nimport { Preview } from './components/footer/Preview';\nimport { Header } from './components/header/Header';\nimport PickerMain from './components/main/PickerMain';\nimport { PickerConfig } from './config/config';\nimport './EmojiPickerReact.css';\n\nexport interface Props extends PickerConfig {}\n\nexport default function EmojiPicker(props: Props) {\n  return (\n    <ElementRefContextProvider>\n      <PickerConfigProvider {...props}>\n        <PickerMain>\n          <Header />\n          <Body />\n          <Preview />\n        </PickerMain>\n      </PickerConfigProvider>\n    </ElementRefContextProvider>\n  );\n}\n","import * as React from 'react';\n\nexport default class ErrorBoundary extends React.Component<\n  { children: React.ReactNode },\n  { hasError: boolean }\n> {\n  constructor(props: { children: React.ReactNode }) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: any) {\n    // eslint-disable-next-line no-console\n    console.error('Emoji Picker React failed to render:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return null;\n    }\n\n    return this.props.children;\n  }\n}\n","import * as React from 'react';\n\nimport EmojiPickerReact from './EmojiPickerReact';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport { PickerConfig } from './config/config';\n\nexport { ExportedEmoji as Emoji } from './components/emoji/ExportedEmoji';\n\nexport {\n  EmojiStyle,\n  SkinTones,\n  Theme,\n  Categories,\n  EmojiClickData,\n  SuggestionMode,\n  SkinTonePickerLocation\n} from './types/exposedTypes';\n\nexport interface Props extends PickerConfig {}\n\nexport default function EmojiPicker(props: Props) {\n  return (\n    <ErrorBoundary>\n      <EmojiPickerReact {...props} />\n    </ErrorBoundary>\n  );\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.isNative = void 0;\nvar NativeSpeechRecognition = typeof window !== 'undefined' && (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition || window.oSpeechRecognition);\n\nvar isNative = function isNative(SpeechRecognition) {\n  return SpeechRecognition === NativeSpeechRecognition;\n};\n\nexports.isNative = isNative;\nvar _default = NativeSpeechRecognition;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _isAndroid = _interopRequireDefault(require(\"./isAndroid\"));\n\nvar _utils = require(\"./utils\");\n\nvar _NativeSpeechRecognition = require(\"./NativeSpeechRecognition\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar RecognitionManager = /*#__PURE__*/function () {\n  function RecognitionManager(SpeechRecognition) {\n    _classCallCheck(this, RecognitionManager);\n\n    this.recognition = null;\n    this.pauseAfterDisconnect = false;\n    this.interimTranscript = '';\n    this.finalTranscript = '';\n    this.listening = false;\n    this.isMicrophoneAvailable = true;\n    this.subscribers = {};\n\n    this.onStopListening = function () {};\n\n    this.previousResultWasFinalOnly = false;\n    this.resetTranscript = this.resetTranscript.bind(this);\n    this.startListening = this.startListening.bind(this);\n    this.stopListening = this.stopListening.bind(this);\n    this.abortListening = this.abortListening.bind(this);\n    this.setSpeechRecognition = this.setSpeechRecognition.bind(this);\n    this.disableRecognition = this.disableRecognition.bind(this);\n    this.setSpeechRecognition(SpeechRecognition);\n\n    if ((0, _isAndroid[\"default\"])()) {\n      this.updateFinalTranscript = (0, _utils.debounce)(this.updateFinalTranscript, 250, true);\n    }\n  }\n\n  _createClass(RecognitionManager, [{\n    key: \"setSpeechRecognition\",\n    value: function setSpeechRecognition(SpeechRecognition) {\n      var browserSupportsRecogniser = !!SpeechRecognition && ((0, _NativeSpeechRecognition.isNative)(SpeechRecognition) || (0, _utils.browserSupportsPolyfills)());\n\n      if (browserSupportsRecogniser) {\n        this.disableRecognition();\n        this.recognition = new SpeechRecognition();\n        this.recognition.continuous = false;\n        this.recognition.interimResults = true;\n        this.recognition.onresult = this.updateTranscript.bind(this);\n        this.recognition.onend = this.onRecognitionDisconnect.bind(this);\n        this.recognition.onerror = this.onError.bind(this);\n      }\n\n      this.emitBrowserSupportsSpeechRecognitionChange(browserSupportsRecogniser);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(id, callbacks) {\n      this.subscribers[id] = callbacks;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      delete this.subscribers[id];\n    }\n  }, {\n    key: \"emitListeningChange\",\n    value: function emitListeningChange(listening) {\n      var _this = this;\n\n      this.listening = listening;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onListeningChange = _this.subscribers[id].onListeningChange;\n        onListeningChange(listening);\n      });\n    }\n  }, {\n    key: \"emitMicrophoneAvailabilityChange\",\n    value: function emitMicrophoneAvailabilityChange(isMicrophoneAvailable) {\n      var _this2 = this;\n\n      this.isMicrophoneAvailable = isMicrophoneAvailable;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onMicrophoneAvailabilityChange = _this2.subscribers[id].onMicrophoneAvailabilityChange;\n        onMicrophoneAvailabilityChange(isMicrophoneAvailable);\n      });\n    }\n  }, {\n    key: \"emitTranscriptChange\",\n    value: function emitTranscriptChange(interimTranscript, finalTranscript) {\n      var _this3 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onTranscriptChange = _this3.subscribers[id].onTranscriptChange;\n        onTranscriptChange(interimTranscript, finalTranscript);\n      });\n    }\n  }, {\n    key: \"emitClearTranscript\",\n    value: function emitClearTranscript() {\n      var _this4 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onClearTranscript = _this4.subscribers[id].onClearTranscript;\n        onClearTranscript();\n      });\n    }\n  }, {\n    key: \"emitBrowserSupportsSpeechRecognitionChange\",\n    value: function emitBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange) {\n      var _this5 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var _this5$subscribers$id = _this5.subscribers[id],\n            onBrowserSupportsSpeechRecognitionChange = _this5$subscribers$id.onBrowserSupportsSpeechRecognitionChange,\n            onBrowserSupportsContinuousListeningChange = _this5$subscribers$id.onBrowserSupportsContinuousListeningChange;\n        onBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange);\n        onBrowserSupportsContinuousListeningChange(browserSupportsSpeechRecognitionChange);\n      });\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(disconnectType) {\n      if (this.recognition && this.listening) {\n        switch (disconnectType) {\n          case 'ABORT':\n            this.pauseAfterDisconnect = true;\n            this.abort();\n            break;\n\n          case 'RESET':\n            this.pauseAfterDisconnect = false;\n            this.abort();\n            break;\n\n          case 'STOP':\n          default:\n            this.pauseAfterDisconnect = true;\n            this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"disableRecognition\",\n    value: function disableRecognition() {\n      if (this.recognition) {\n        this.recognition.onresult = function () {};\n\n        this.recognition.onend = function () {};\n\n        this.recognition.onerror = function () {};\n\n        if (this.listening) {\n          this.stopListening();\n        }\n      }\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(event) {\n      if (event && event.error && event.error === 'not-allowed') {\n        this.emitMicrophoneAvailabilityChange(false);\n        this.disableRecognition();\n      }\n    }\n  }, {\n    key: \"onRecognitionDisconnect\",\n    value: function onRecognitionDisconnect() {\n      this.onStopListening();\n      this.listening = false;\n\n      if (this.pauseAfterDisconnect) {\n        this.emitListeningChange(false);\n      } else if (this.recognition) {\n        if (this.recognition.continuous) {\n          this.startListening({\n            continuous: this.recognition.continuous\n          });\n        } else {\n          this.emitListeningChange(false);\n        }\n      }\n\n      this.pauseAfterDisconnect = false;\n    }\n  }, {\n    key: \"updateTranscript\",\n    value: function updateTranscript(_ref) {\n      var results = _ref.results,\n          resultIndex = _ref.resultIndex;\n      var currentIndex = resultIndex === undefined ? results.length - 1 : resultIndex;\n      this.interimTranscript = '';\n      this.finalTranscript = '';\n\n      for (var i = currentIndex; i < results.length; ++i) {\n        if (results[i].isFinal && (!(0, _isAndroid[\"default\"])() || results[i][0].confidence > 0)) {\n          this.updateFinalTranscript(results[i][0].transcript);\n        } else {\n          this.interimTranscript = (0, _utils.concatTranscripts)(this.interimTranscript, results[i][0].transcript);\n        }\n      }\n\n      var isDuplicateResult = false;\n\n      if (this.interimTranscript === '' && this.finalTranscript !== '') {\n        if (this.previousResultWasFinalOnly) {\n          isDuplicateResult = true;\n        }\n\n        this.previousResultWasFinalOnly = true;\n      } else {\n        this.previousResultWasFinalOnly = false;\n      }\n\n      if (!isDuplicateResult) {\n        this.emitTranscriptChange(this.interimTranscript, this.finalTranscript);\n      }\n    }\n  }, {\n    key: \"updateFinalTranscript\",\n    value: function updateFinalTranscript(newFinalTranscript) {\n      this.finalTranscript = (0, _utils.concatTranscripts)(this.finalTranscript, newFinalTranscript);\n    }\n  }, {\n    key: \"resetTranscript\",\n    value: function resetTranscript() {\n      this.disconnect('RESET');\n    }\n  }, {\n    key: \"startListening\",\n    value: function () {\n      var _startListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2,\n            _ref2$continuous,\n            continuous,\n            language,\n            isContinuousChanged,\n            isLanguageChanged,\n            _args = arguments;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, _ref2$continuous = _ref2.continuous, continuous = _ref2$continuous === void 0 ? false : _ref2$continuous, language = _ref2.language;\n\n                if (this.recognition) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                isContinuousChanged = continuous !== this.recognition.continuous;\n                isLanguageChanged = language && language !== this.recognition.lang;\n\n                if (!(isContinuousChanged || isLanguageChanged)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                if (!this.listening) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 9;\n                return this.stopListening();\n\n              case 9:\n                this.recognition.continuous = isContinuousChanged ? continuous : this.recognition.continuous;\n                this.recognition.lang = isLanguageChanged ? language : this.recognition.lang;\n\n              case 11:\n                if (this.listening) {\n                  _context.next = 22;\n                  break;\n                }\n\n                if (!this.recognition.continuous) {\n                  this.resetTranscript();\n                  this.emitClearTranscript();\n                }\n\n                _context.prev = 13;\n                _context.next = 16;\n                return this.start();\n\n              case 16:\n                this.emitListeningChange(true);\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](13);\n\n                // DOMExceptions indicate a redundant microphone start - safe to swallow\n                if (!(_context.t0 instanceof DOMException)) {\n                  this.emitMicrophoneAvailabilityChange(false);\n                }\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[13, 19]]);\n      }));\n\n      function startListening() {\n        return _startListening.apply(this, arguments);\n      }\n\n      return startListening;\n    }()\n  }, {\n    key: \"abortListening\",\n    value: function () {\n      var _abortListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this6 = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.disconnect('ABORT');\n                this.emitListeningChange(false);\n                _context2.next = 4;\n                return new Promise(function (resolve) {\n                  _this6.onStopListening = resolve;\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function abortListening() {\n        return _abortListening.apply(this, arguments);\n      }\n\n      return abortListening;\n    }()\n  }, {\n    key: \"stopListening\",\n    value: function () {\n      var _stopListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this7 = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.disconnect('STOP');\n                this.emitListeningChange(false);\n                _context3.next = 4;\n                return new Promise(function (resolve) {\n                  _this7.onStopListening = resolve;\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stopListening() {\n        return _stopListening.apply(this, arguments);\n      }\n\n      return stopListening;\n    }()\n  }, {\n    key: \"getRecognition\",\n    value: function getRecognition() {\n      return this.recognition;\n    }\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.recognition && !this.listening)) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this.recognition.start();\n\n              case 3:\n                this.listening = true;\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function start() {\n        return _start.apply(this, arguments);\n      }\n\n      return start;\n    }()\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.recognition && this.listening) {\n        this.recognition.stop();\n        this.listening = false;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this.recognition && this.listening) {\n        this.recognition.abort();\n        this.listening = false;\n      }\n    }\n  }]);\n\n  return RecognitionManager;\n}();\n\nexports[\"default\"] = RecognitionManager;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.useSpeechRecognition = void 0;\n\nvar _react = require(\"react\");\n\nvar _utils = require(\"./utils\");\n\nvar _actions = require(\"./actions\");\n\nvar _reducers = require(\"./reducers\");\n\nvar _RecognitionManager = _interopRequireDefault(require(\"./RecognitionManager\"));\n\nvar _isAndroid = _interopRequireDefault(require(\"./isAndroid\"));\n\nvar _NativeSpeechRecognition = _interopRequireDefault(require(\"./NativeSpeechRecognition\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _browserSupportsSpeechRecognition = !!_NativeSpeechRecognition[\"default\"];\n\nvar _browserSupportsContinuousListening = _browserSupportsSpeechRecognition && !(0, _isAndroid[\"default\"])();\n\nvar recognitionManager;\n\nvar useSpeechRecognition = function useSpeechRecognition() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$transcribing = _ref.transcribing,\n      transcribing = _ref$transcribing === void 0 ? true : _ref$transcribing,\n      _ref$clearTranscriptO = _ref.clearTranscriptOnListen,\n      clearTranscriptOnListen = _ref$clearTranscriptO === void 0 ? true : _ref$clearTranscriptO,\n      _ref$commands = _ref.commands,\n      commands = _ref$commands === void 0 ? [] : _ref$commands;\n\n  var _useState = (0, _react.useState)(SpeechRecognition.getRecognitionManager()),\n      _useState2 = _slicedToArray(_useState, 1),\n      recognitionManager = _useState2[0];\n\n  var _useState3 = (0, _react.useState)(_browserSupportsSpeechRecognition),\n      _useState4 = _slicedToArray(_useState3, 2),\n      browserSupportsSpeechRecognition = _useState4[0],\n      setBrowserSupportsSpeechRecognition = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(_browserSupportsContinuousListening),\n      _useState6 = _slicedToArray(_useState5, 2),\n      browserSupportsContinuousListening = _useState6[0],\n      setBrowserSupportsContinuousListening = _useState6[1];\n\n  var _useReducer = (0, _react.useReducer)(_reducers.transcriptReducer, {\n    interimTranscript: recognitionManager.interimTranscript,\n    finalTranscript: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      interimTranscript = _useReducer2$.interimTranscript,\n      finalTranscript = _useReducer2$.finalTranscript,\n      dispatch = _useReducer2[1];\n\n  var _useState7 = (0, _react.useState)(recognitionManager.listening),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listening = _useState8[0],\n      setListening = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(recognitionManager.isMicrophoneAvailable),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isMicrophoneAvailable = _useState10[0],\n      setMicrophoneAvailable = _useState10[1];\n\n  var commandsRef = (0, _react.useRef)(commands);\n  commandsRef.current = commands;\n\n  var dispatchClearTranscript = function dispatchClearTranscript() {\n    dispatch((0, _actions.clearTranscript)());\n  };\n\n  var resetTranscript = (0, _react.useCallback)(function () {\n    recognitionManager.resetTranscript();\n    dispatchClearTranscript();\n  }, [recognitionManager]);\n\n  var testFuzzyMatch = function testFuzzyMatch(command, input, fuzzyMatchingThreshold) {\n    var commandToString = _typeof(command) === 'object' ? command.toString() : command;\n    var commandWithoutSpecials = commandToString.replace(/[&/\\\\#,+()!$~%.'\":*?<>{}]/g, '').replace(/  +/g, ' ').trim();\n    var howSimilar = (0, _utils.compareTwoStringsUsingDiceCoefficient)(commandWithoutSpecials, input);\n\n    if (howSimilar >= fuzzyMatchingThreshold) {\n      return {\n        command: command,\n        commandWithoutSpecials: commandWithoutSpecials,\n        howSimilar: howSimilar,\n        isFuzzyMatch: true\n      };\n    }\n\n    return null;\n  };\n\n  var testMatch = function testMatch(command, input) {\n    var pattern = (0, _utils.commandToRegExp)(command);\n    var result = pattern.exec(input);\n\n    if (result) {\n      return {\n        command: command,\n        parameters: result.slice(1)\n      };\n    }\n\n    return null;\n  };\n\n  var matchCommands = (0, _react.useCallback)(function (newInterimTranscript, newFinalTranscript) {\n    commandsRef.current.forEach(function (_ref2) {\n      var command = _ref2.command,\n          callback = _ref2.callback,\n          _ref2$matchInterim = _ref2.matchInterim,\n          matchInterim = _ref2$matchInterim === void 0 ? false : _ref2$matchInterim,\n          _ref2$isFuzzyMatch = _ref2.isFuzzyMatch,\n          isFuzzyMatch = _ref2$isFuzzyMatch === void 0 ? false : _ref2$isFuzzyMatch,\n          _ref2$fuzzyMatchingTh = _ref2.fuzzyMatchingThreshold,\n          fuzzyMatchingThreshold = _ref2$fuzzyMatchingTh === void 0 ? 0.8 : _ref2$fuzzyMatchingTh,\n          _ref2$bestMatchOnly = _ref2.bestMatchOnly,\n          bestMatchOnly = _ref2$bestMatchOnly === void 0 ? false : _ref2$bestMatchOnly;\n      var input = !newFinalTranscript && matchInterim ? newInterimTranscript.trim() : newFinalTranscript.trim();\n      var subcommands = Array.isArray(command) ? command : [command];\n      var results = subcommands.map(function (subcommand) {\n        if (isFuzzyMatch) {\n          return testFuzzyMatch(subcommand, input, fuzzyMatchingThreshold);\n        }\n\n        return testMatch(subcommand, input);\n      }).filter(function (x) {\n        return x;\n      });\n\n      if (isFuzzyMatch && bestMatchOnly && results.length >= 2) {\n        results.sort(function (a, b) {\n          return b.howSimilar - a.howSimilar;\n        });\n        var _results$ = results[0],\n            _command = _results$.command,\n            commandWithoutSpecials = _results$.commandWithoutSpecials,\n            howSimilar = _results$.howSimilar;\n        callback(commandWithoutSpecials, input, howSimilar, {\n          command: _command,\n          resetTranscript: resetTranscript\n        });\n      } else {\n        results.forEach(function (result) {\n          if (result.isFuzzyMatch) {\n            var _command2 = result.command,\n                _commandWithoutSpecials = result.commandWithoutSpecials,\n                _howSimilar = result.howSimilar;\n            callback(_commandWithoutSpecials, input, _howSimilar, {\n              command: _command2,\n              resetTranscript: resetTranscript\n            });\n          } else {\n            var _command3 = result.command,\n                parameters = result.parameters;\n            callback.apply(void 0, _toConsumableArray(parameters).concat([{\n              command: _command3,\n              resetTranscript: resetTranscript\n            }]));\n          }\n        });\n      }\n    });\n  }, [resetTranscript]);\n  var handleTranscriptChange = (0, _react.useCallback)(function (newInterimTranscript, newFinalTranscript) {\n    if (transcribing) {\n      dispatch((0, _actions.appendTranscript)(newInterimTranscript, newFinalTranscript));\n    }\n\n    matchCommands(newInterimTranscript, newFinalTranscript);\n  }, [matchCommands, transcribing]);\n  var handleClearTranscript = (0, _react.useCallback)(function () {\n    if (clearTranscriptOnListen) {\n      dispatchClearTranscript();\n    }\n  }, [clearTranscriptOnListen]);\n  (0, _react.useEffect)(function () {\n    var id = SpeechRecognition.counter;\n    SpeechRecognition.counter += 1;\n    var callbacks = {\n      onListeningChange: setListening,\n      onMicrophoneAvailabilityChange: setMicrophoneAvailable,\n      onTranscriptChange: handleTranscriptChange,\n      onClearTranscript: handleClearTranscript,\n      onBrowserSupportsSpeechRecognitionChange: setBrowserSupportsSpeechRecognition,\n      onBrowserSupportsContinuousListeningChange: setBrowserSupportsContinuousListening\n    };\n    recognitionManager.subscribe(id, callbacks);\n    return function () {\n      recognitionManager.unsubscribe(id);\n    };\n  }, [transcribing, clearTranscriptOnListen, recognitionManager, handleTranscriptChange, handleClearTranscript]);\n  var transcript = (0, _utils.concatTranscripts)(finalTranscript, interimTranscript);\n  return {\n    transcript: transcript,\n    interimTranscript: interimTranscript,\n    finalTranscript: finalTranscript,\n    listening: listening,\n    isMicrophoneAvailable: isMicrophoneAvailable,\n    resetTranscript: resetTranscript,\n    browserSupportsSpeechRecognition: browserSupportsSpeechRecognition,\n    browserSupportsContinuousListening: browserSupportsContinuousListening\n  };\n};\n\nexports.useSpeechRecognition = useSpeechRecognition;\nvar SpeechRecognition = {\n  counter: 0,\n  applyPolyfill: function applyPolyfill(PolyfillSpeechRecognition) {\n    if (recognitionManager) {\n      recognitionManager.setSpeechRecognition(PolyfillSpeechRecognition);\n    } else {\n      recognitionManager = new _RecognitionManager[\"default\"](PolyfillSpeechRecognition);\n    }\n\n    var browserSupportsPolyfill = !!PolyfillSpeechRecognition && (0, _utils.browserSupportsPolyfills)();\n    _browserSupportsSpeechRecognition = browserSupportsPolyfill;\n    _browserSupportsContinuousListening = browserSupportsPolyfill;\n  },\n  removePolyfill: function removePolyfill() {\n    if (recognitionManager) {\n      recognitionManager.setSpeechRecognition(_NativeSpeechRecognition[\"default\"]);\n    } else {\n      recognitionManager = new _RecognitionManager[\"default\"](_NativeSpeechRecognition[\"default\"]);\n    }\n\n    _browserSupportsSpeechRecognition = !!_NativeSpeechRecognition[\"default\"];\n    _browserSupportsContinuousListening = _browserSupportsSpeechRecognition && !(0, _isAndroid[\"default\"])();\n  },\n  getRecognitionManager: function getRecognitionManager() {\n    if (!recognitionManager) {\n      recognitionManager = new _RecognitionManager[\"default\"](_NativeSpeechRecognition[\"default\"]);\n    }\n\n    return recognitionManager;\n  },\n  getRecognition: function getRecognition() {\n    var recognitionManager = SpeechRecognition.getRecognitionManager();\n    return recognitionManager.getRecognition();\n  },\n  startListening: function () {\n    var _startListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref3,\n          continuous,\n          language,\n          recognitionManager,\n          _args = arguments;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _ref3 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, continuous = _ref3.continuous, language = _ref3.language;\n              recognitionManager = SpeechRecognition.getRecognitionManager();\n              _context.next = 4;\n              return recognitionManager.startListening({\n                continuous: continuous,\n                language: language\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function startListening() {\n      return _startListening.apply(this, arguments);\n    }\n\n    return startListening;\n  }(),\n  stopListening: function () {\n    var _stopListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var recognitionManager;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              recognitionManager = SpeechRecognition.getRecognitionManager();\n              _context2.next = 3;\n              return recognitionManager.stopListening();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function stopListening() {\n      return _stopListening.apply(this, arguments);\n    }\n\n    return stopListening;\n  }(),\n  abortListening: function () {\n    var _abortListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var recognitionManager;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              recognitionManager = SpeechRecognition.getRecognitionManager();\n              _context3.next = 3;\n              return recognitionManager.abortListening();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function abortListening() {\n      return _abortListening.apply(this, arguments);\n    }\n\n    return abortListening;\n  }(),\n  browserSupportsSpeechRecognition: function browserSupportsSpeechRecognition() {\n    return _browserSupportsSpeechRecognition;\n  },\n  browserSupportsContinuousListening: function browserSupportsContinuousListening() {\n    return _browserSupportsContinuousListening;\n  }\n};\nvar _default = SpeechRecognition;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.appendTranscript = exports.clearTranscript = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar clearTranscript = function clearTranscript() {\n  return {\n    type: _constants.CLEAR_TRANSCRIPT\n  };\n};\n\nexports.clearTranscript = clearTranscript;\n\nvar appendTranscript = function appendTranscript(interimTranscript, finalTranscript) {\n  return {\n    type: _constants.APPEND_TRANSCRIPT,\n    payload: {\n      interimTranscript: interimTranscript,\n      finalTranscript: finalTranscript\n    }\n  };\n};\n\nexports.appendTranscript = appendTranscript;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.APPEND_TRANSCRIPT = exports.CLEAR_TRANSCRIPT = void 0;\nvar CLEAR_TRANSCRIPT = 'CLEAR_TRANSCRIPT';\nexports.CLEAR_TRANSCRIPT = CLEAR_TRANSCRIPT;\nvar APPEND_TRANSCRIPT = 'APPEND_TRANSCRIPT';\nexports.APPEND_TRANSCRIPT = APPEND_TRANSCRIPT;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"useSpeechRecognition\", {\n  enumerable: true,\n  get: function get() {\n    return _SpeechRecognition.useSpeechRecognition;\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _SpeechRecognition = _interopRequireWildcard(require(\"./SpeechRecognition\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar _default = _SpeechRecognition[\"default\"];\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _default = function _default() {\n  return /(android)/i.test(typeof navigator !== 'undefined' ? navigator.userAgent : '');\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transcriptReducer = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _utils = require(\"./utils\");\n\nvar transcriptReducer = function transcriptReducer(state, action) {\n  switch (action.type) {\n    case _constants.CLEAR_TRANSCRIPT:\n      return {\n        interimTranscript: '',\n        finalTranscript: ''\n      };\n\n    case _constants.APPEND_TRANSCRIPT:\n      return {\n        interimTranscript: action.payload.interimTranscript,\n        finalTranscript: (0, _utils.concatTranscripts)(state.finalTranscript, action.payload.finalTranscript)\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexports.transcriptReducer = transcriptReducer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserSupportsPolyfills = exports.compareTwoStringsUsingDiceCoefficient = exports.commandToRegExp = exports.concatTranscripts = exports.debounce = void 0;\n\nvar debounce = function debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this;\n    var args = arguments;\n\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nexports.debounce = debounce;\n\nvar concatTranscripts = function concatTranscripts() {\n  for (var _len = arguments.length, transcriptParts = new Array(_len), _key = 0; _key < _len; _key++) {\n    transcriptParts[_key] = arguments[_key];\n  }\n\n  return transcriptParts.map(function (t) {\n    return t.trim();\n  }).join(' ').trim();\n}; // The command matching code is a modified version of Backbone.Router by Jeremy Ashkenas, under the MIT license.\n\n\nexports.concatTranscripts = concatTranscripts;\nvar optionalParam = /\\s*\\((.*?)\\)\\s*/g;\nvar optionalRegex = /(\\(\\?:[^)]+\\))\\?/g;\nvar namedParam = /(\\(\\?)?:\\w+/g;\nvar splatParam = /\\*/g;\nvar escapeRegExp = /[-{}[\\]+?.,\\\\^$|#]/g;\n\nvar commandToRegExp = function commandToRegExp(command) {\n  if (command instanceof RegExp) {\n    return new RegExp(command.source, 'i');\n  }\n\n  command = command.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n    return optional ? match : '([^\\\\s]+)';\n  }).replace(splatParam, '(.*?)').replace(optionalRegex, '\\\\s*$1?\\\\s*');\n  return new RegExp('^' + command + '$', 'i');\n}; // this is from https://github.com/aceakash/string-similarity\n\n\nexports.commandToRegExp = commandToRegExp;\n\nvar compareTwoStringsUsingDiceCoefficient = function compareTwoStringsUsingDiceCoefficient(first, second) {\n  first = first.replace(/\\s+/g, '').toLowerCase();\n  second = second.replace(/\\s+/g, '').toLowerCase();\n  if (!first.length && !second.length) return 1; // if both are empty strings\n\n  if (!first.length || !second.length) return 0; // if only one is empty string\n\n  if (first === second) return 1; // identical\n\n  if (first.length === 1 && second.length === 1) return 0; // both are 1-letter strings\n\n  if (first.length < 2 || second.length < 2) return 0; // if either is a 1-letter string\n\n  var firstBigrams = new Map();\n\n  for (var i = 0; i < first.length - 1; i++) {\n    var bigram = first.substring(i, i + 2);\n    var count = firstBigrams.has(bigram) ? firstBigrams.get(bigram) + 1 : 1;\n    firstBigrams.set(bigram, count);\n  }\n\n  var intersectionSize = 0;\n\n  for (var _i = 0; _i < second.length - 1; _i++) {\n    var _bigram = second.substring(_i, _i + 2);\n\n    var _count = firstBigrams.has(_bigram) ? firstBigrams.get(_bigram) : 0;\n\n    if (_count > 0) {\n      firstBigrams.set(_bigram, _count - 1);\n      intersectionSize++;\n    }\n  }\n\n  return 2.0 * intersectionSize / (first.length + second.length - 2);\n};\n\nexports.compareTwoStringsUsingDiceCoefficient = compareTwoStringsUsingDiceCoefficient;\n\nvar browserSupportsPolyfills = function browserSupportsPolyfills() {\n  return typeof window !== 'undefined' && window.navigator !== undefined && window.navigator.mediaDevices !== undefined && window.navigator.mediaDevices.getUserMedia !== undefined && (window.AudioContext !== undefined || window.webkitAudioContext !== undefined);\n};\n\nexports.browserSupportsPolyfills = browserSupportsPolyfills;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { XHR as XMLHttpRequest } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = closeEvent => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent\n        });\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: Polling\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\"\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", reason => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n"],"names":["_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","Object","defineProperty","value","enumerable","get","_utils","createSvgIcon","React","props","ref","children","container","disablePortal","mountNode","setMountNode","handleRef","useForkRef","useEnhancedEffect","getContainer","document","body","setRef","_jsx","ReactDOM","ariaHidden","element","show","setAttribute","removeAttribute","getPaddingRight","parseInt","ownerWindow","getComputedStyle","paddingRight","ariaHiddenSiblings","mountElement","currentElement","elementsToExclude","blacklist","forEach","call","isNotExcludedElement","indexOf","isNotForbiddenElement","isForbiddenTagName","tagName","isInputHidden","getAttribute","isAriaHiddenForbiddenOnElement","findIndexOf","items","callback","idx","some","item","index","handleContainer","containerInfo","restoreStyle","disableScrollLock","doc","ownerDocument","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","isOverflowing","scrollbarSize","documentWidth","Math","abs","window","getScrollbarSize","push","style","property","el","fixedElements","querySelectorAll","scrollContainer","parentNode","DocumentFragment","parent","parentElement","containerWindow","nodeName","overflowY","overflow","overflowX","setProperty","removeProperty","ModalManager","this","containers","modals","modal","modalIndex","length","modalRef","hiddenSiblings","getHiddenSiblings","mount","containerIndex","restore","ariaHiddenState","splice","nextTop","candidatesSelector","join","defaultGetTabbable","root","regularTabNodes","orderedTabNodes","Array","from","node","i","nodeTabIndex","tabindexAttr","Number","isNaN","contentEditable","tabIndex","getTabIndex","disabled","type","name","getRadio","selector","querySelector","roving","isNonTabbableRadio","isNodeMatchingSelectorFocusable","documentOrder","sort","a","b","map","concat","defaultIsEnabled","disableAutoFocus","disableEnforceFocus","disableRestoreFocus","getTabbable","isEnabled","open","ignoreNextEnforceFocus","sentinelStart","sentinelEnd","nodeToRestore","reactFocusEventTarget","activated","rootRef","lastKeydown","current","contains","activeElement","hasAttribute","focus","contain","nativeEvent","rootElement","hasFocus","target","tabbable","_lastKeydown$current","_lastKeydown$current2","isShiftTab","Boolean","shiftKey","key","focusNext","focusPrevious","loopFocus","addEventListener","interval","setInterval","clearInterval","removeEventListener","handleFocusSentinel","event","relatedTarget","_jsxs","onFocus","childrenPropsHandler","getModalUtilityClass","slot","generateUtilityClass","generateUtilityClasses","omitEventHandlers","object","undefined","result","keys","filter","prop","match","mergeSlotProps","parameters","getSlotProps","additionalProps","externalSlotProps","externalForwardedProps","className","joinedClasses","clsx","mergedStyle","_extends","internalRef","eventHandlers","excludeKeys","includes","extractEventHandlers","componentsPropsWithoutEventHandlers","otherPropsWithoutEventHandlers","internalSlotProps","resolveComponentProps","componentProps","ownerState","_excluded","useSlotProps","_parameters$additiona","elementType","rest","_objectWithoutPropertiesLoose","resolvedComponentsProps","mergedProps","otherProps","isHostComponent","appendOwnerState","defaultManager","_props$ariaHidden","_ref","classesProp","classes","closeAfterTransition","component","disableEscapeKeyDown","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","onTransitionEnter","onTransitionExited","slotProps","slots","other","exited","setExited","mountNodeRef","hasTransition","hasOwnProperty","getHasTransition","ariaHiddenProp","getModal","handleMounted","scrollTop","handleOpen","useEventCallback","resolvedContainer","add","isTopModal","handlePortalRef","handleClose","remove","composeClasses","useUtilityClasses","childProps","onEnter","createChainedFunction","onExited","Root","rootProps","role","stopPropagation","BackdropComponent","backdrop","backdropProps","onClick","currentTarget","Portal","FocusTrap","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","context","_this","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","state","status","nextCallback","_inheritsLoose","getDerivedStateFromProps","prevState","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","mounting","nodeRef","forceReflow","performEnter","performExit","setState","_this2","appearing","_ref2","maybeNode","maybeAppearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEntering","onTransitionEnd","_this3","onExit","onExiting","cancel","nextState","setNextCallback","_this4","active","handler","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","setTimeout","render","_this$props","TransitionGroupContext","Provider","noop","contextType","propTypes","defaultProps","getTransitionProps","options","_style$transitionDura","_style$transitionTimi","easing","duration","transitionDuration","mode","transitionTimingFunction","delay","transitionDelay","styles","entering","opacity","entered","theme","useTheme","defaultTimeout","transitions","enteringScreen","leavingScreen","inProp","TransitionComponent","normalizedTransitionCallback","maybeIsAppearing","handleEntering","handleEnter","isAppearing","reflow","transitionProps","webkitTransition","create","transition","handleEntered","handleExiting","handleExit","handleExited","next","visibility","getBackdropUtilityClass","BackdropRoot","styled","overridesResolver","invisible","position","display","alignItems","justifyContent","right","bottom","top","left","backgroundColor","WebkitTapHighlightColor","inProps","_slotProps$root","_slots$root","useThemeProps","components","componentsProps","Fade","rootSlotProps","as","ModalRoot","hidden","zIndex","vars","ModalBackdrop","Backdrop","_slots$backdrop","_slotProps$backdrop","BackdropProps","commonProps","extendUtilityClasses","RootSlot","BackdropSlot","backdropSlotProps","ModalUnstyled","getSvgIconUtilityClass","SvgIconRoot","color","capitalize","fontSize","_theme$transitions","_theme$transitions$cr","_theme$transitions2","_theme$transitions2$d","_theme$typography","_theme$typography$pxT","_theme$typography2","_theme$typography2$px","_theme$typography3","_theme$typography3$px","_palette$ownerState$c","_palette","_palette$ownerState$c2","_palette2","_palette2$action","_palette3","_palette3$action","userSelect","width","height","fill","flexShrink","shorter","inherit","small","typography","pxToRem","medium","large","palette","main","action","SvgIcon","htmlColor","inheritViewBox","titleAccess","viewBox","instanceFontSize","more","focusable","muiName","path","displayName","Component","validator","reason","muiNames","componentNameInError","globalId","maybeReactUseId","idOverride","reactId","defaultId","setDefaultId","id","useGlobalId","propName","componentName","location","propFullName","hadFocusVisibleRecentlyTimeout","controlled","defaultProp","isControlled","valueState","setValue","newValue","hadKeyboardEvent","hadFocusVisibleRecently","inputTypesWhitelist","text","search","url","tel","email","password","number","date","month","week","time","datetime","handleKeyDown","metaKey","altKey","ctrlKey","handlePointerDown","handleVisibilityChange","visibilityState","isFocusVisible","matches","error","readOnly","isContentEditable","focusTriggersKeyboardModality","isFocusVisibleRef","onBlur","clearTimeout","unstable_ClassNameGenerator","configure","generator","console","warn","ClassNameGenerator","Box","createBox","funcs","reduce","acc","func","args","apply","fn","ClassNames","asSelectors","classNames","c","focusElement","requestAnimationFrame","focusPrevElementSibling","previousElementSibling","focusNextElementSibling","nextElementSibling","focusFirstElementChild","firstElementChild","ElementRefContextProvider","PickerMainRef","AnchoredEmojiRef","BodyRef","SearchInputRef","SkinTonePickerRef","CategoryNavigationRef","VariationPickerRef","ElementRefContext","SuggestionMode","EmojiStyle","Theme","SkinTones","Categories","SkinTonePickerLocation","useElementRef","usePickerMainRef","useAnchoredEmojiRef","useSetAnchoredEmojiRef","useBodyRef","useSearchInputRef","useSkinTonePickerRef","useCategoryNavigationRef","EmojiProperties","skinToneVariations","NEUTRAL","LIGHT","MEDIUM_LIGHT","MEDIUM","MEDIUM_DARK","DARK","skinTonesNamed","entries","skinTonesMapped","mapped","skinTone","assign","emojiNames","emoji","emojiName","unifiedWithoutSkinTone","unified","splat","split","emojiUnified","emojiHasVariations","emojiVariations","find","variation","emojiVariationUnified","emojisByCategory","category","emojis","emojiUrlByUnified","emojiStyle","TWITTER","GOOGLE","FACEBOOK","APPLE","cdnUrl","variations","emojiByUnified","allEmojisByUnified","withoutSkinTone","allEmojis","values","flat","Emoji","categoriesOrdered","SUGGESTED","SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","TRAVEL_PLACES","ACTIVITIES","OBJECTS","SYMBOLS","FLAGS","SuggestedRecent","configByCategory","baseCategoriesConfig","modifiers","categoryFromCategoryConfig","categoryNameFromCategoryConfig","getBaseConfigByCategory","modifier","mergeConfig","userConfig","base","basePickerConfig","previewConfig","categories","userCategoriesConfig","extra","suggestionMode","RECENT","_userCategoriesConfig","mergeCategoriesConfig","suggestedEmojisMode","skinTonePickerLocation","searchDisabled","PREVIEW","autoFocusSearch","defaultSkinTone","emojiVersion","getEmojiUrl","lazyLoadEmojis","onEmojiClick","basePreviewConfig","searchPlaceHolder","SEARCH","skinTonesDisabled","FREQUENT","defaultEmoji","defaultCaption","showPreview","ConfigContext","PickerConfigProvider","usePickerConfig","useEmojiStyleConfig","useCategoriesConfig","usePreviewConfig","useThemeConfig","AUTO","matchMedia","useSkinTonePickerLocationConfig","useGetEmojiUrlConfig","getDimension","dimensionConfig","alphaNumericEmojiIndex","useDebouncedState","initialValue","useState","timer","useRef","Promise","resolve","_window","useDisallowedEmojis","DisallowedEmojisRef","emojiVersionConfig","useMemo","parseFloat","disallowedEmojis","supportedLevel","added_in","addedIn","addedInNewerVersion","PickerContextProvider","dispatch","filterRef","disallowClickRef","disallowMouseRef","disallowedEmojisRef","suggestedUpdateState","Date","now","searchTerm","skinToneFanOpenState","activeSkinTone","activeCategoryState","emojisThatFailedToLoadState","Set","emojiVariationPickerState","isPastInitialLoad","setIsPastInitialLoad","useEffect","PickerContext","searchIndex","replace","char","useFilterRef","useDisallowMouseRef","useSearchTermState","useActiveSkinToneState","useEmojisThatFailedToLoadState","useEmojiVariationPickerState","useSkinToneFanOpenState","useUpdateSuggested","suggestedUpdated","setsuggestedUpdate","useAllowMouseMove","DisallowMouseRef","useIsMouseDisallowed","elementCountInRow","parentWidth","getBoundingClientRect","elementWidth","floor","elementIndexInRow","elementLeft","parentLeft","rowNumber","elementHeight","elementTop","parentTop","round","getRowElements","elements","row","elementsInRow","firstElementIndex","lastElementIndex","slice","getElementInRow","indexInRow","rowElements","getElementInNextRow","allElements","currentRow","nextRowElements","nextRow","getNextRowElements","EmojiButtonSelector","VisibleEmojiSelector","visible","buttonFromTarget","emojiElement","closest","emojiFromElement","originalUnified","originalUnifiedFromEmojiElement","unifiedFromEmojiElement","emojiTrueOffsetTop","button","closestCategory","labelHeight","categoryLabelHeight","elementOffsetTop","categoryWithoutLabel","categoryContent","queryScrollBody","scrollBody","emojiDistanceFromScrollTop","closestScrollBody","_closestScrollBody","offsetTop","elementOffsetLeft","offsetLeft","dataset","elementDataSet","elementDataSetKey","isVisibleEmoji","classList","isHidden","allVisibleEmojis","lastVisibleEmoji","last","prevVisibleEmoji","nextVisibleEmoji","firstVisibleEmoji","nextCategory","prev","prevCategory","parentBottom","elementBottom","firstVisibleElementInContainer","closestCategoryContent","parseNativeEmoji","hex","String","fromCodePoint","SUGGESTED_LS_KEY","getsuggested","localStorage","recent","JSON","parse","_window2","getItem","count","useCloseAllOpenToggles","variationPicker","setVariationPicker","skinToneFanOpen","setSkinToneFanOpen","useCallback","useHasOpenToggles","useSetVariationPicker","setAnchoredEmojiRef","setEmojiVariationPicker","useMouseDownHandlers","mouseDownTimerRef","closeAllOpenToggles","updateSuggested","emojiFromEvent","skinToneToUse","suspectedSkinTone","activeVariationFromUnified","nextList","existing","original","min","setItem","stringify","setsuggested","getImageUrl","names","emojiClickOutput","onMouseDown","onMouseUp","bodyRef","passive","_element$parentElemen","isEmojiElement","scrollTo","$eprBody","scrollEmojiAboveLabel","isEmojiBehindLabel","by","scrollBy","useFocusSearchInput","useFocusCategoryNavigation","useClearSearch","applySearch","useApplySearch","focusSearchInput","useFilter","setFilterRef","setFilter","setter","useSetFilterRef","onChange","inputValue","nextValue","toLowerCase","longestMatch","keyword","dict","longestMatchingKey","findLongestMatch","filtered","hasMatch","filterEmojiObjectByKeyword","setSearchTerm","then","getNormalizedSearchTerm","str","trim","useIsEmojiHidden","emojisThatFailedToLoad","isEmojiFiltered","_filter$searchTerm","isEmojiFilteredBySearchTerm","useIsEmojiFiltered","failedToLoad","has","filteredOut","Button","styleInject","css","insertAt","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","ClickableEmoji","hiddenOnSearch","showVariations","size","lazyLoad","hasVariations","emojiHasVariatios","ViewOnlyEmoji","emojiToRender","NATIVE","NativeEmoji","EmojiImg","external","setEmojisThatFailedToLoad","src","alt","loading","onError","EmojiCategory","categoryConfig","categoryName","label","Suggested","suggestedEmojisModeConfig","suggested","suggestedItem","EmojiList","emojiList","RenderCategory","isEmojiHidden","isEmojiDisallowed","useIsEmojiDisallowed","emojisToPush","hiddenCounter","isDisallowed","focusFirstVisibleEmoji","focusNextVisibleEmoji","focusPrevVisibleEmoji","focusVisibleEmojiOneRowUp","exitUp","countInRow","prevVisibleCategory","prevRowElements","getElementInPrevRow","visibleEmojiOneRowUp","focusVisibleEmojiOneRowDown","parentHeight","hasNextRow","nextVisibleCategory","visibleEmojiOneRowDown","Direction","EmojiVariationPicker","pointerStyle","direction","Up","getMenuDirection","getTop","emojiOffsetTop","buttonHeight","Down","useVariationPickerTop","getPointerStyle","emojiTruOffsetLeft","usePointerStyle","Body","onScroll","useOnScroll","allowMouseMove","isMouseDisallowed","onMouseMove","useOnMouseMove","useIsSkinToneInSearch","useIsSkinToneInPreview","FlexDirection","Flex","ROW","Space","flex","Absolute","Relative","SkinTonePickerDirection","SkinTonePickerMenu","SkinTonePicker","VERTICAL","HORIZONTAL","isDisabled","isOpen","setIsOpen","setActiveSkinTone","fullWidth","expandedSize","ITEM_SIZE","vertical","flexBasis","skinToneVariation","transform","Preview","isSkinToneInPreview","PreviewBody","previewEmoji","setPreviewEmoji","variationPickerEmoji","allow","onEscape","onMouseOver","onLeave","e","useEmojiPreviewEvents","defaultText","categoryNameFromDom","$category","useIsSearchMode","CategoryNavigation","activeCategory","setActiveCategory","scrollCategoryIntoView","_BodyRef$current","useScrollCategoryIntoView","visibleCategories","Map","observer","IntersectionObserver","entry","set","intersectionRatio","ratios","lastCategory","threshold","observe","useActiveCategoryScrollDetection","isSearchMode","categoriesConfig","SearchContainer","isSkinToneInSearch","Search","inc","setInc","clearSearch","placeholder","autoFocus","input","CssSearch","_event$target","KeyboardEvents","CSS_SEARCH_SELECTOR","emojiPicker","searchQuery","Header","getActiveElement","useKeyboardNavigation","useScrollTo","hasOpenToggles","disallowMouseMove","useDisallowMouseMove","Escape","preventDefault","usePickerMainKeyboardEvents","focusSkinTonePicker","useFocusSkinTonePicker","setSkinToneFanOpenState","goDownFromSearchInput","useGoDownFromSearchInput","ArrowRight","ArrowDown","Enter","firstEmoji","click","focusAndClickFirstVisibleEmoji","useSearchInputKeyboardEvents","onType","useOnType","ArrowLeft","focusNextSkinTone","focusPrevSkinTone","ArrowUp","useSkinTonePickerKeyboardEvents","useCategoryNavigationKeyboardEvents","goUpFromBody","focusCategoryNavigation","useGoUpFromBody","useBodyKeyboardEvents","exitLeft","currentSkinTone","appendSearch","useAppendSearch","hasModifier","preloadEmoji","preloadedEmojs","emojiUrl","Image","PickerMain","PickerRootElement","searchModeActive","usePickerSizeConfig","useOnFocus","searchActive","EmojiPicker","ErrorBoundary","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","EmojiPickerReact","isNative","NativeSpeechRecognition","SpeechRecognition","webkitSpeechRecognition","mozSpeechRecognition","msSpeechRecognition","oSpeechRecognition","obj","_isAndroid","__esModule","_NativeSpeechRecognition","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","done","_asyncToGenerator","self","arguments","err","_defineProperties","descriptor","configurable","writable","RecognitionManager","instance","Constructor","TypeError","_classCallCheck","recognition","pauseAfterDisconnect","interimTranscript","finalTranscript","listening","isMicrophoneAvailable","subscribers","onStopListening","previousResultWasFinalOnly","resetTranscript","bind","startListening","stopListening","abortListening","setSpeechRecognition","disableRecognition","updateFinalTranscript","debounce","protoProps","staticProps","browserSupportsRecogniser","browserSupportsPolyfills","continuous","interimResults","onresult","updateTranscript","onend","onRecognitionDisconnect","onerror","emitBrowserSupportsSpeechRecognitionChange","callbacks","onListeningChange","onMicrophoneAvailabilityChange","onTranscriptChange","onClearTranscript","browserSupportsSpeechRecognitionChange","_this5","_this5$subscribers$id","onBrowserSupportsSpeechRecognitionChange","onBrowserSupportsContinuousListeningChange","disconnectType","abort","stop","emitMicrophoneAvailabilityChange","emitListeningChange","results","resultIndex","currentIndex","isFinal","confidence","transcript","concatTranscripts","isDuplicateResult","emitTranscriptChange","newFinalTranscript","disconnect","_startListening","mark","_callee","_ref2$continuous","language","isContinuousChanged","isLanguageChanged","_args","wrap","_context","abrupt","lang","emitClearTranscript","start","t0","DOMException","_abortListening","_callee2","_this6","_context2","_stopListening","_callee3","_this7","_context3","_start","_callee4","_context4","useSpeechRecognition","_react","_actions","_reducers","_RecognitionManager","_toConsumableArray","arr","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_typeof","constructor","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","test","len","arr2","recognitionManager","_browserSupportsSpeechRecognition","_browserSupportsContinuousListening","_ref$transcribing","transcribing","_ref$clearTranscriptO","clearTranscriptOnListen","_ref$commands","commands","_useState","getRecognitionManager","_useState2","_useState3","_useState4","browserSupportsSpeechRecognition","setBrowserSupportsSpeechRecognition","_useState5","_useState6","browserSupportsContinuousListening","setBrowserSupportsContinuousListening","_useReducer","useReducer","transcriptReducer","_useReducer2","_useReducer2$","_useState7","_useState8","setListening","_useState9","_useState10","setMicrophoneAvailable","commandsRef","dispatchClearTranscript","clearTranscript","testFuzzyMatch","command","fuzzyMatchingThreshold","commandWithoutSpecials","howSimilar","compareTwoStringsUsingDiceCoefficient","isFuzzyMatch","testMatch","commandToRegExp","exec","matchCommands","newInterimTranscript","_ref2$matchInterim","matchInterim","_ref2$isFuzzyMatch","_ref2$fuzzyMatchingTh","_ref2$bestMatchOnly","bestMatchOnly","subcommand","x","_results$","_command","_command2","_commandWithoutSpecials","_howSimilar","_command3","handleTranscriptChange","appendTranscript","handleClearTranscript","counter","subscribe","unsubscribe","applyPolyfill","PolyfillSpeechRecognition","browserSupportsPolyfill","removePolyfill","getRecognition","_constants","CLEAR_TRANSCRIPT","APPEND_TRANSCRIPT","payload","_SpeechRecognition","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","WeakMap","navigator","userAgent","Error","wait","immediate","later","callNow","_len","transcriptParts","_key","t","optionalParam","optionalRegex","namedParam","splatParam","escapeRegExp","RegExp","source","optional","first","second","firstBigrams","bigram","substring","intersectionSize","_bigram","_count","mediaDevices","getUserMedia","AudioContext","webkitAudioContext","module","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","async","val","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","_getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_superPropBase","_get","receiver","_construct","Parent","Class","Function","_wrapNativeSuper","_cache","Wrapper","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","data","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","encodeBlobAsBase64","fileReader","FileReader","onload","content","readAsDataURL","supportsBinary","isView","buffer","chars","lookup","Uint8Array","charCodeAt","decodeBase64Packet","binaryType","decoded","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","p","arraybuffer","bytes","decode","mapBinary","encodedPacket","SEPARATOR","fromCharCode","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","cb","emit","emitReserved","listeners","hasListeners","globalThisShim","pick","attr","k","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","useNativeTimers","setTimeoutFn","globalThis","clearTimeoutFn","TransportError","description","Transport","query","readyState","socket","doOpen","doClose","packets","write","packet","decodePacket","onPacket","details","alphabet","seed","encode","num","encoded","yeast","encodeURIComponent","qs","qry","pairs","l","pair","decodeURIComponent","XMLHttpRequest","hasCORS","XHR","xdomain","empty","hasXHR2","responseType","Polling","polling","isSSL","protocol","port","xd","hostname","xs","secure","forceBase64","poll","onPause","pause","total","doPoll","encodedPayload","encodedPackets","decodedPacket","decodePayload","onOpen","close","encodePacket","encodePayload","doWrite","schema","timestampRequests","timestampParam","sid","b64","encodedQuery","Request","uri","req","request","xhrStatus","onData","pollXhr","xscheme","xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","withCredentials","requestTimeout","onreadystatechange","onLoad","send","requestsCount","requests","cleanup","fromError","responseText","attachEvent","unloadHandler","nextTick","WebSocket","isReactNative","product","WS","check","protocols","headers","ws","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","onmessage","ev","lastPacket","transports","websocket","re","parts","m","host","authority","ipv6uri","pathNames","regx","queryKey","$0","$1","$2","Socket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","perMessageDeflate","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","offlineEventListener","EIO","priorWebsocketSuccess","createTransport","shift","setTransport","onDrain","failed","onTransportOpen","msg","upgrading","flush","freezeTransport","onTransportClose","onupgrade","to","probe","onHandshake","resetPingTimeout","sendPacket","code","filterUpgrades","maxPayload","getWritablePackets","payloadSize","utf8Length","ceil","byteLength","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","j","_createForOfIteratorHelper","allowArrayLike","it","unsupportedIterableToArray","F","s","f","normalCompletion","didErr","step","_e2","withNativeFile","File","isBinary","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","newData","reconstructPacket","_reconstructPacket","PacketType","Encoder","replacer","EVENT","ACK","encodeAsString","BINARY_EVENT","BINARY_ACK","encodeAsBinary","nsp","deconstruction","unshift","Decoder","reviver","reconstructor","decodeString","BinaryReconstructor","takeBinaryData","buf","tryParse","substr","isPayloadValid","finishedReconstruction","CONNECT","DISCONNECT","CONNECT_ERROR","reconPack","binData","RESERVED_EVENTS","freeze","connect","connect_error","disconnecting","newListener","io","connected","receiveBuffer","sendBuffer","ids","acks","flags","auth","_autoConnect","subs","onpacket","subEvents","_readyState","ack","_registerAckCallback","isTransportWritable","engine","discardPacket","volatile","notifyOutgoingListeners","_packet","onconnect","onevent","onack","ondisconnect","destroy","message","emitEvent","_anyListeners","emitBuffered","subDestroy","listener","_anyOutgoingListeners","Backoff","ms","max","factor","jitter","attempts","pow","rand","random","deviation","setMin","setMax","setJitter","Manager","_a","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","Engine","skipReconnect","openSubDestroy","errorSub","maybeReconnectOnOpen","onping","ondata","ondecoded","_close","onreconnect","attempt","parsed","href","sameNamespace","forceNew","multiplex"],"sourceRoot":""}